!function(t,e,i){"use strict";function s(t){return t}function n(t){return t}function o(t){mt._dbgMode=t,P=t?"Error: #index in nested view: use #getIndex()":"",pt("dbg",ht.dbg=dt.dbg=t?n:s)}function r(t){return{getTgt:t,map:function(e){var i=this;if(i.src!==e&&(i.src&&i.unmap(),"object"==typeof e)){var s=t.apply(i,arguments);i.src=e,i.tgt=s}}}}function a(t,e){e&&e.onError&&e.onError(t)===!1||(this.name="JsRender Error",this.message=t||"JsRender error")}function l(t,e){var i;t=t||{};for(i in e)t[i]=e[i];return t}function c(t,e,i){return ft.rTag&&!t||(N=t?t.charAt(0):N,U=t?t.charAt(1):U,I=e?e.charAt(0):I,R=e?e.charAt(1):R,L=i||L,t="\\"+N+"(\\"+L+")?\\"+U,e="\\"+I+"\\"+R,F="(?:(?:(\\w+(?=[\\/\\s\\"+I+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+I+"]|\\"+I+"(?!\\"+R+"))*?)",ft.rTag=F+")",F=new RegExp(t+F+"(\\/)?|(?:\\/(\\w+)))"+e,"g"),E=new RegExp("<.*>|([^\\\\]|^)[{}]|"+t+".*"+e)),[N,U,I,R,L]}function u(t,e){e||(e=t,t=i);var s,n,o,r,a=this,l=!e||"root"===e;if(t){if(r=a.type===e?a:i,!r)if(s=a.views,a._.useKey){for(n in s)if(r=s[n].get(t,e))break}else for(n=0,o=s.length;!r&&o>n;n++)r=s[n].get(t,e)}else if(l)for(;a.parent.parent;)r=a=a.parent;else for(;a&&!r;)r=a.type===e?a:i,a=a.parent;return r}function d(){var t=this.get("item");return t?t.index:i}function h(){return this.index}function p(e){var s,n=this,o=n.linkCtx,r=(n.ctx||{})[e];return r===i&&o&&o.ctx&&(r=o.ctx[e]),r===i&&(r=ht[e]),r&&("function"!=typeof r||r._wrp||(s=function(){return r.apply(this&&this!==t?this:n,arguments)},s._wrp=1,l(s,r))),s||r}function f(t,e,s){var n,o,r,a=+s===s&&s,l=e.linkCtx;if(a&&(s=(a=e.tmpl.bnds[a-1])(e.data,e,lt)),o=s.args[0],t||a){n=l&&l.tag||{_:{inline:!l,bnd:a},tagName:t+":",flow:!0,_is:"tag"};for(r in s.props)X.test(r)&&(n[r]=s.props[r]);l&&(l.tag=n,n.linkCtx=n.linkCtx||l,s.ctx=M(s.ctx,l.view.ctx)),n.tagCtx=s,s.view=e,n.ctx=s.ctx||{},delete s.ctx,e._.tag=n,o=m(n,n.convert||"true"!==t&&t)[0],o=o!=i?o:"",o=a&&e._.onRender?e._.onRender(o,e,a):o,e._.tag=i}return o}function m(t,e){var i=t.tagCtx,s=i.view,n=i.args;return e=e&&(""+e===e?s.getRsc("converters",e)||A("Unknown converter: '"+e+"'"):e),n=n.length||i.index||!t.autoBind?e?n.slice(0):n:[s.data],e&&(e.depends&&(t.depends=ft.getDeps(t.depends,t,e.depends,e)),n[0]=e.apply(t,n)),n}function g(t,e){for(var s,n,o=this;s===i&&o;)n=o.tmpl[t],s=n&&n[e],o=o.parent;return s||lt[t][e]}function v(t,e,s,n,o){var r,a,c,u,d,h,p,f,g,v,b,y,k,w,x,_,T,D,q,S,H="",O=+n===n&&n,$=e.linkCtx||0,j=e.ctx,F=s||e.tmpl;for("tag"===t._is&&(a=t,t=a.tagName),a=a||$.tag,O&&(n=(y=F.bnds[O-1])(e.data,e,lt)),p=n.length,h=0;p>h;h++){if(g=n[h],q=g.props,b=g.tmpl,b=g.content=b&&F.tmpls[b-1],s=g.props.tmpl,h||s&&a||(k=e.getRsc("tags",t)||A("Unknown tag: {{"+t+"}}")),s=s||(a?a:k).template||b,s=""+s===s?e.getRsc("templates",s)||ut(s):s,l(g,{tmpl:s,render:C,index:h,view:e,ctx:M(g.ctx,j)}),!a){k._ctr?(a=new k._ctr,w=!!a.init,a.attr=a.attr||k.attr||i):a={render:k.render},a._={inline:!$},$&&($.attr=a.attr=$.attr||a.attr,$.tag=a,a.linkCtx=$),(a._.bnd=y||$.fn)?a._.arrVws={}:a.dataBoundOnly&&A("{^{"+t+"}} tag must be data-bound"),a.tagName=t,a.parent=d=j&&j.tag,a._is="tag",a._def=k;for(D in q=g.props)X.test(D)&&(a[D]=q[D])}g.tag=a,a.map&&a.tagCtxs&&(g.map=a.tagCtxs[h].map),a.flow||(v=g.ctx=g.ctx||{},c=a.parents=v.parentTags=j&&M(v.parentTags,j.parentTags)||{},d&&(c[d.tagName]=d),v.tag=a)}for(a.tagCtxs=n,e._.tag=a,a.rendering={},h=0;p>h;h++)g=a.tagCtx=n[h],q=g.props,T=m(a,a.convert),(x=q.map||a).map&&(T.length||q.map)&&(_=g.map=l(g.map||{unmap:x.unmap},q),_.src!==T[0]&&(_.src&&_.unmap(),x.map.apply(_,T)),T=[_.tgt]),a.ctx=g.ctx,!h&&w&&(S=a.template,a.init(g,$,a.ctx),w=i,a.template!==S&&(a._.tmpl=a.template)),f=i,r=a.render,(r=a.render)&&(f=r.apply(a,T)),T=T.length?T:[e],f=f!==i?f:g.render(T[0],!0)||(o?i:""),H=H?H+(f||""):f;return delete a.rendering,a.tagCtx=a.tagCtxs[0],a.ctx=a.tagCtx.ctx,a._.inline&&(u=a.attr)&&u!==nt&&(H="text"===u?dt.html(H):""),O&&e._.onRender?e._.onRender(H,e,O):H}function b(t,e,i,s,n,o,r,a){var l,c,f,m="array"===e,v={key:0,useKey:m?0:1,id:""+it++,onRender:a,bnds:{}},b={data:s,tmpl:n,content:r,views:m?[]:{},parent:i,type:e,get:u,getIndex:h,getRsc:g,hlp:p,_:v,_is:"view"};return i?(l=i.views,c=i._,c.useKey?(l[v.key="_"+c.useKey++]=b,b.index=P,b.getIndex=d,f=c.tag,v.bnd=m&&(!f||!!f._.bnd&&f)):l.splice(v.key=b.index=o,0,b),b.ctx=t||i.ctx):b.ctx=t,b}function y(t){var e,i,s,n,o;for(e in at)if(n=at[e],(o=n.compile)&&(i=t[e+"s"]))for(s in i)i[s]=o(s,i[s],t,e,n)}function k(t,e,i){var s,n;return"function"==typeof e?e={depends:e.depends,render:e}:((n=e.template)&&(e.template=""+n===n?ut[n]||ut(n):n),e.init!==!1&&(s=e._ctr=function(t){},(s.prototype=e).constructor=s)),i&&(e._parentTmpl=i),e}function w(s,n,o,r,a,l){function c(i){if(""+i===i||i.nodeType>0){try{d=i.nodeType>0?i:!E.test(i)&&e&&e(t.document).find(i)[0]}catch(n){}return d&&(i=d.getAttribute(ot),s=s||i,i=ut[i],i||(s=s||"_"+et++,d.setAttribute(ot,s),i=ut[s]=w(s,d.innerHTML,o,r,a,l))),i}}var u,d;return n=n||"",u=c(n),l=l||(n.markup?n:{}),l.tmplName=s,o&&(l._parentTmpl=o),!u&&n.markup&&(u=c(n.markup))&&(!u.fn||u.debug===n.debug&&u.allowCode===n.allowCode||(u=u.markup)),u!==i?(s&&!o&&(rt[s]=function(){return n.render.apply(n,arguments)}),u.fn||n.fn?u.fn&&(n=s&&s!==u.tmplName?M(l,u):u):(n=x(u,l),D(u.replace(V,"\\$&"),n)),y(l),n):void 0}function x(t,e){var i,s=mt.wrapMap||{},n=l({markup:t,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:C},e);return e.htmlTag||(i=J.exec(t),n.htmlTag=i?i[1].toLowerCase():""),i=s[n.htmlTag],i&&i!==s.div&&(n.markup=$.trim(n.markup)),n}function _(t,e){function s(o,r,a){var l,c,u,d;if(o&&""+o!==o&&!o.nodeType&&!o.markup){for(u in o)s(u,o[u],r);return lt}return r===i&&(r=o,o=i),o&&""+o!==o&&(a=r,r=o,o=i),d=a?a[n]=a[n]||{}:s,c=e.compile,(l=ft.onBeforeStoreItem)&&(c=l(d,o,r,c)||c),o?null===r?delete d[o]:d[o]=c?r=c(o,r,a,t,e):r:r=c(i,r),c&&r&&(r._is=t),(l=ft.onStoreItem)&&l(d,o,r,c),r}var n=t+"s";lt[n]=s,at[t]=e}function C(t,e,s,n,o,r){var a,l,c,u,d,h,p,f,m,g,v,y,k,w=this,x=!w.attr||w.attr===nt,_="";if(!!e===e&&(s=e,e=i),o===!0&&(p=!0,o=0),w.tag?(f=w,w=w.tag,g=w._,y=w.tagName,k=g.tmpl||f.tmpl,e=M(e,w.ctx),m=f.content,f.props.link===!1&&(e=e||{},e.link=!1),n=n||f.view,t=arguments.length?t:n):k=w.jquery&&(w[0]||A('Unknown template: "'+w.selector+'"'))||w,k&&(!n&&t&&"view"===t._is&&(n=t),n&&(m=m||n.content,r=r||n._.onRender,t===n&&(t=n.data),e=M(e,n.ctx)),n&&n.data!==i||((e=e||{}).root=t),k.fn||(k=ut[k]||ut(k)),k)){if(r=(e&&e.link)!==!1&&x&&r,v=r,r===!0&&(v=i,r=n._.onRender),e=k.helpers?M(k.helpers,e):e,$.isArray(t)&&!s)for(u=p?n:o!==i&&n||b(e,"array",n,t,k,o,m,r),a=0,l=t.length;l>a;a++)c=t[a],d=b(e,"item",u,c,k,(o||0)+a,m,r),h=k.fn(c,d,lt),_+=u._.onRender?u._.onRender(h,d):h;else u=p?n:b(e,y||"data",n,t,k,o,m,r),g&&!w.flow&&(u.tag=w),_+=k.fn(t,u,lt);return v?v(_,u):_}return""}function A(t){throw new ft.Error(t)}function T(t){A("Syntax error\n"+t)}function D(t,e,i,s){function n(e){e-=d,e&&p.push(t.substr(d,e).replace(z,"\\n"))}function o(e){e&&T('Unmatched or missing tag: "{{/'+e+'}}" in template:\n'+t)}function r(r,u,m,g,v,b,y,k,w,x,_,C){b&&(v=":",g=nt),x=x||i;var A,D,q=u&&[],M="",H="",O="",$=!x&&!v&&!y;m=m||(w=w||"#data",v),n(C),d=C+r.length,k?c&&p.push(["*","\n"+w.replace(Q,"$1")+"\n"]):m?("else"===m&&(Z.test(w)&&T('for "{{else if expr}}" use "{{else expr}}"'),q=f[6],f[7]=t.substring(f[7],C),f=h.pop(),p=f[3],$=!0),w&&(w=w.replace(z," "),M=S(w,q,e).replace(G,function(t,e,i){return e?O+=i+",":H+=i+",",l=l||X.test(i.split(":")[0]),""})),H=H.slice(0,-1),M=M.slice(0,-1),A=H&&H.indexOf("noerror:true")+1&&H||"",a=[m,g||!!s||l||"",M,$&&[],'\n	params:"'+w+'",\n	props:{'+H+"}"+(O?",ctx:{"+O.slice(0,-1)+"}":""),A,q||0],p.push(a),$&&(h.push(f),f=a,f[7]=d)):_&&(D=f[0],o(_!==D&&"else"!==D&&_),f[7]=t.substring(f[7],C),f=h.pop()),o(!f&&_),p=f[3]}var a,l,c=e&&e.allowCode,u=[],d=0,h=[],p=u,f=[,,,u];return o(h[0]&&h[0][3].pop()[0]),t.replace(F,r),n(t.length),(d=u[u.length-1])&&o(""+d!==d&&+d[7]===d[7]&&d[0]),q(u,i?t:e,i)}function q(t,i,s){var n,o,r,a,l,c,u,d,h,p,f,m,g,v,b,y,k,w,_,C,A,D,S,M,H,O=0,$="",j="",F={},E=t.length;for(""+i===i?(b=s?'data-link="'+i.replace(z," ").slice(1,-1)+'"':i,i=0):(b=i.tmplName||"unnamed",i.allowCode&&(F.allowCode=!0),i.debug&&(F.debug=!0),m=i.bnds,v=i.tmpls),n=0;E>n;n++)if(o=t[n],""+o===o)$+='\nret+="'+o+'";';else if(r=o[0],"*"===r)$+=""+o[1];else{if(a=o[1],l=o[2],w=o[3],c=o[4],j=o[5],_=o[7],(D="else"===r)||(O=0,m&&(g=o[6])&&(O=m.push(g))),(S=":"===r)?(a&&(r=a===nt?">":a+r),j&&(M="prm"+n,j="try{var "+M+"=["+l+"][0];}catch(e){"+M+'="";}\n',l=M)):(w&&(y=x(_,F),y.tmplName=b+"/"+r,q(w,y),v.push(y)),D||(k=r,A=$,$=""),C=t[n+1],C=C&&"else"===C[0]),c+=",\n	args:["+l+"]}",S&&(g||a&&a!==nt)){if(H=new Function("data,view,j,u"," // "+b+" "+O+" "+r+"\n"+j+"return {"+c+";"),H.paths=g,H._ctxs=r,s)return H;f=1}if($+=S?"\n"+(g?"":j)+(s?"return ":"ret+=")+(f?(f=0,p=!0,'c("'+a+'",view,'+(g?(m[O-1]=H,O):"{"+c)+");"):">"===r?(d=!0,"h("+l+");"):(h=!0,"(v="+l+")!="+(s?"=":"")+'u?v:"";')):(u=!0,"{view:view,tmpl:"+(w?v.length:"0")+","+c+","),k&&!C){if($="["+$.slice(0,-1)+"]",(s||g)&&($=new Function("data,view,j,u"," // "+b+" "+O+" "+k+"\nreturn "+$+";"),g&&((m[O-1]=$).paths=g),$._ctxs=r,s))return $;$=A+'\nret+=t("'+k+'",view,this,'+(O||$)+");",g=0,k=0}}$="// "+b+"\nvar j=j||"+(e?"jQuery.":"js")+"views"+(h?",v":"")+(u?",t=j._tag":"")+(p?",c=j._cnvt":"")+(d?",h=j.converters.html":"")+(s?";\n":',ret="";\n')+(mt.tryCatch?"try{\n":"")+(F.debug?"debugger;":"")+$+(s?"\n":"\nreturn ret;\n")+(mt.tryCatch?"\n}catch(e){return j._err(e);}":"");try{$=new Function("data,view,j,u",$)}catch(P){T("Compiled template code:\n\n"+$,P)}return i&&(i.fn=$),$}function S(t,e,i){function s(s,p,f,m,g,v,b,y,k,w,x,_,C,A,q,M,H,O,$,j){function F(t,i,s,a,l,c,u,d){if(s&&(e&&("linkTo"===n&&(o=e._jsvto=e._jsvto||[],o.push(g)),n&&!r||e.push(g.slice(i.length))),"."!==s)){var h=(a?'view.hlp("'+a+'")':l?"view":"data")+(d?(c?"."+c:a?"":l?"":"."+s)+(u||""):(d=a?"":l?c||"":s,""));return h+=d?"."+d:"",i+("view.data"===h.slice(0,9)?h.slice(5):h)}return t}var E;return v=v||"",f=f||p||_,g=g||k,w=w||H||"",!b||h||d?(e&&M&&!h&&!d&&(!n||r||o)&&(E=c[u],j.length-1>$-E&&(E=j.slice(E,$+1),M=U+":"+E+I,M=a[M]=a[M]||D(N+M+R,i,!0),M.paths||S(E,M.paths=[],i),(o||e).push({_jsvOb:M}))),h?(h=!C,h?s:'"'):d?(d=!A,d?s:'"'):(f?(u++,c[u]=$++,f):"")+(O?u?"":n?(n=r=o=!1,"\b"):",":y?(u&&T(t),n=g,r=m,"\b"+g+":"):g?g.split("^").join(".").replace(B,F)+(w?(l[++u]=!0,"."!==g.charAt(0)&&(c[u]=$),w):v):v?v:q?(l[u--]=!1,q+(w?(l[++u]=!0,w):"")):x?(l[u]||T(t),","):p?"":(h=C,d=A,'"'))):void T(t)}var n,o,r,a=i.links,l={},c={0:-1},u=0,d=!1,h=!1;return(t+" ").replace(/\)\^/g,").").replace(W,s)}function M(t,e){return t&&t!==e?e?l(l({},e),t):t:e&&l({},e)}function H(t){return st[t]||(st[t]="&#"+t.charCodeAt(0)+";")}function O(t){var e,i,s=[];if("object"==typeof t)for(e in t)i=t[e],i&&i.toJSON&&!i.toJSON()||"function"!=typeof i&&s.push({key:e,prop:t[e]});return s}if(!(e&&e.views||t.jsviews)){var $,j,F,E,P,Y="v1.0.0-beta",N="{",U="{",I="}",R="}",L="^",B=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,W=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,z=/[ \t]*(\r\n|\n|\r)/g,Q=/\\(['"])/g,V=/['"\\]/g,G=/\x08(~)?([^\x08]+)\x08/g,Z=/^if\s/,J=/<(\w+)[>\s]/,K=/[\x00`><"'&]/g,X=/^on[A-Z]|^convert(Back)?$/,tt=K,et=0,it=0,st={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},nt="html",ot="data-jsv-tmpl",rt={},at={template:{compile:w},tag:{compile:k},helper:{},converter:{}},lt={jsviews:Y,render:rt,settings:function(t){l(mt,t),o(mt._dbgMode),mt.jsv&&mt.jsv()},sub:{View:b,Error:a,tmplFn:D,cvt:m,parse:S,extend:l,error:A,syntaxError:T,DataMap:r},_cnvt:f,_tag:v,_err:function(t){return mt._dbgMode?"Error: "+(t.message||t)+". ":""}};(a.prototype=new Error).constructor=a,d.depends=function(){return[this.get("item"),"index"]},h.depends=function(){return["index"]};for(j in at)_(j,at[j]);var ct,ut=lt.templates,dt=lt.converters,ht=lt.helpers,pt=lt.tags,ft=lt.sub,mt=lt.settings;e?($=e,$.fn.render=C,(ct=$.observable)&&(l(ft,ct.sub),delete ct.sub)):($=t.jsviews={},$.isArray=Array&&Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}),$.render=rt,$.views=lt,$.templates=ut=lt.templates,mt({debugMode:o,delimiters:c,_dbgMode:!0,tryCatch:!0}),pt({"else":function(){},"if":{render:function(t){var e=this,i=e.rendering.done||!t&&(arguments.length||!e.tagCtx.index)?"":(e.rendering.done=!0,e.selected=e.tagCtx.index,e.tagCtx.render(e.tagCtx.view,!0));return i},onUpdate:function(t,e,i){var s,n,o;for(s=0;(n=this.tagCtxs[s])&&n.args.length;s++)if(n=n.args[0],o=!n!=!i[s].args[0],!this.convert&&n||o)return o;return!1},flow:!0},"for":{render:function(t){var e,s=this,n=s.tagCtx,o="",r=0;return s.rendering.done||((e=!arguments.length)&&(t=n.view.data),t!==i&&(o+=n.render(t,e),r+=$.isArray(t)?t.length:1),(s.rendering.done=r)&&(s.selected=n.index)),o},flow:!0,autoBind:!0},include:{flow:!0,autoBind:!0},"*":{render:s,flow:!0}}),pt({props:l(l({},pt["for"]),r(O))}),pt.props.autoBind=!0,dt({html:function(t){return t!=i?String(t).replace(tt,H):""},attr:function(t){return t!=i?String(t).replace(K,H):null===t?t:""},url:function(t){return t!=i?encodeURI(String(t)):null===t?t:""}}),c()}}(this,this.jQuery),function(t,e,i){"use strict";function s(t){return w(t)?new o(t):new n(t)}function n(t){return this._data=t,this}function o(t){return this._data=t,this}function r(t){return w(t)?[t]:t}function a(t,e){t=w(t)?t:[t];var i,s,n=e,o=n,r=t.length,l=[];for(i=0;r>i;i++)s=t[i],S(s)?l=l.concat(a(s.call(e,e),e)):""+s===s?(o!==n&&l.push(n=o),l.push(s)):(e=o=s,o!==n&&l.push(n=o));return l}function l(t,e){var i,s;for(i in t){s=!0;break}s||delete D[e]}function c(t,e){if(!t.data||!t.data.off){var s,n,o,r=e.oldValue,a=e.value,l=t.data,c=l.observeAll,u=!l.cb.noArray,d=l.paths;t.type===T?(l.cb.array||l.cb).call(l,t,e):l.prop!==e.path&&"*"!==l.prop||(r=typeof r===_&&(d[0]||u&&w(r))&&r,a=typeof(a=e.value)===_&&(d[0]||u&&w(a))&&a,c?(s=c._path+"."+e.path,n=c.filter,o=[c.parents().slice(0)],r&&h(u,[r],d,l.cb,!0,n,o,s),a&&h(u,[a],d,l.cb,i,n,o,s)):(r&&h(u,[r],d,l.cb,!0),a&&h(u,[a],d,l.cb)),l.cb(t,e))}}function u(){function t(t,i,s,n){var o,a,l=O(Z),u=r(Z);if(b||n)l&&e(u).off(t,c);else{if(j=l&&e._data(Z))for(j=j&&j.events,j=j&&j[s?T:A],C=j&&j.length;C--;)if(($=j[C].data)&&$.cb._cId===y._cId){if(s)return;("*"===i&&$.prop!==i||$.prop===m)&&e(Z).off(t,c)}a=s?{cb:y}:{fullPath:g,paths:i?[i]:[],prop:m,cb:y},I&&(a.observeAll={_path:I,path:function(){return o=U.length,I.replace(/[[.]/g,function(t){return o--,"["===t?"["+e.inArray(U[o-1],U[o]):"."})},parents:function(){return U},filter:R}),e(u).on(t,null,a,c),P&&(P[e.data(Z,"obId")||e.data(Z,"obId",M++)]=Z)}}function n(t,e){t._ob=F(t,V);var i=V;return function(s,n){var r=t._ob,a=e.length;typeof r===_&&(o(r,!0),(a||L&&w(r))&&h(L,[r],e,y,F,!0)),r=t._ob=F(t,i),typeof r===_&&(o(r),(a||L&&w(r))&&h(L,[r],e,y,F,[i])),y(s,n)}}function o(e,n,o,r){if(L){var a=Z,l=I;Z=e,r&&(Z=e[r],I+="."+r,R&&(Z=s._fltr(r,e,I,R))),Z&&(o||w(Z))&&t(T+".observe"+(y?".obs"+(x=y._cId=y._cId||H++):""),i,!0,n),Z=a,I=l}}var u,d,p,f,m,g,v,b,y,x,C,$,j,F,E,P,Y,N,U,I,R,L=0!=this,B=1,W=q,z=Array.apply(0,arguments),Q=z.pop(),V=z.shift(),G=V,Z=G,J=z.length;for(S(Q)?y=Q:(Q+""===Q&&(I=Q,U=z.pop(),R=z.pop(),Q=z.pop(),J-=3),Q===!0?b=Q:Q&&(V=Q,B=0),Q=z[J-1],(J&&Q===i||S(Q))&&(y=z.pop(),J--)),J&&S(z[J-1])&&(F=y,y=z.pop(),J--),W+=b?y?".obs"+y._cId:"":".obs"+(x=y._cId=y._cId||H++),b||(P=D[x]=D[x]||{}),w(G)?o(G,b,!0):b&&0===J&&G&&t(W,""),Y=0,u=0;J>u;u++)if(g=z[u],""!==g){if(Z=G,""+g===g){if(f=g.split("^"),f[1]&&(Y=f[0].split(".").length,g=f.join("."),Y=g.split(".").length-Y),F&&(E=F(g,G))){J+=E.length-1,k.apply(z,[u--,1].concat(E));continue}f=g.split(".")}else B&&!S(g)&&(g._jsvOb&&(b||(g._cb=N=n(g,z.slice(u+1)),N.noArray=L===!1,g._rt=V,N._cId=y._cId),h(L,[g._rt],z.slice(0,u),g._cb,F,b),g=g._ob),Z=g),G=g,f=[G];for(;Z&&(m=f.shift())!==i;)if(typeof Z===_){if(""+m===m){if(""===m)continue;if(f.length<Y+1&&!Z.nodeType){if(!b&&(j=O(Z)&&e._data(Z))){for(j=j.events,j=j&&j[A],C=j&&j.length,p=0;C--;)$=j[C].data,$&&$.cb===y&&($.prop!==m&&"*"!==$.prop||((d=f.join("."))&&$.paths.push(d),p++));if(p){Z=Z[m];continue}}if("*"===m){!b&&j&&j.length&&t(W,"",!1,!0),S(Z)?(v=Z.depends)&&h(L,[v],y,b||V):t(W,"");for(d in Z)o(Z,b,i,d);break}m&&t(W+"."+m,f.join("."))}I&&(I+="."+m),m=Z[m]}if(S(m)){(v=m.depends)&&h(L,[Z],a(v,Z),y,F,b||[V]);break}Z=m}o(Z,b)}return x&&l(P,x),{cbId:x,bnd:P,leaf:Z}}function d(){return[].push.call(arguments,!0),u.apply(this,arguments)}function h(){var t=[].concat.apply([],arguments);return u.apply(t.shift(),t)}function p(t,e,i){return i.indexOf(".")<0&&i.indexOf("[")<0&&e[t]}function f(t,s,n,o,r){return o=o||p,r=r||p,{getTgt:t,obsSrc:s,obsTgt:n,map:function(i){var a=this;if(a.src!==i&&(a.src&&a.unmap(),typeof i===_)){var l,c=t.apply(a,arguments);e.observable&&(e.observable(i).observeAll(a.obs=function(t,e){!l&&s&&(l=!0,s.call(a,i,c,t,e),l=!1)},o),e.observable(c).observeAll(a.obt=function(t,e){!l&&n&&(l=!0,n.call(a,i,c,t,e),l=!1)},r)),a.src=i,a.tgt=c}return a},unmap:function(){if(e.observable){var t=this;t.src&&(e.observable(t.src).unobserveAll(t.obs,o),e.observable(t.tgt).unobserveAll(t.obt,r),t.src=t.tgt=i)}}}}function m(t,e){v(this._data,t,e,[],"root")}function g(t,e){v(this._data,t,e,[],"root",!0)}function v(t,e,n,o,r,a){function l(t,i){for(d=t.length,p=r+"[]";d--;)(f=s._fltr(d,t,p,n))&&v(f,e,n||"",o.slice(0),p,i)}function c(t,i){r=t.data.observeAll._path;var s=o;switch(o[0]!==t.target&&(o=o.slice(0),o.unshift(t.target)),i.change){case"insert":l(i.items);break;case"remove":l(i.items,!0);break;case"refresh":l(i.oldItems,!0),l(t.target);break;case"set":p=r+"."+i.path,v(i.oldValue,e,0,o.slice(0),p,!0),v(i.value,e,0,o.slice(0),p)}e.apply(this,arguments),o=s}var d,h,p,f;if(typeof t===_)if(h=w(t)?"":"*",o.unshift(t),e?(h||0!==n)&&(c._cId=e._cId=e._cId||H++,u(t,h,c,a,n,o.slice(),r)):u(t,h,i,a,n,o.slice(),r),h)for(d in t)"_"!==d.charAt(0)&&d!==x&&(p=r+"."+d,(f=s._fltr(d,t,p,n))&&v(f,e,n||0,o.slice(0),p,a));else l(t,a)}if(!e)throw"jsViews/jsObservable require jQuery";if(!e.observable){var b=e.event.special,y=e.views?e.views.sub:s.sub={},k=[].splice,w=e.isArray,x=e.expando,_="object",C=parseInt,A=y.propChng=y.propChng||"propertyChange",T=y.arrChng=y.arrChng||"arrayChange",D=y._cbBnds=y._cbBnds||{},q=A+".observe",S=e.isFunction,M=1,H=1,O=e.hasData;y.getDeps=function(){var t=arguments;return function(){for(var e,i,s=[],n=t.length;n--;)e=t[n--],i=t[n],i&&(s=s.concat(S(i)?i(e,e):i));return s}},y.DataMap=f,e.observable=s,s._fltr=function(t,e,i,s){var n=s&&S(s)?s(t,e,i):e[t];return n&&(n=S(n)?n.set&&n.call(e):n),typeof n===_&&n},s.Object=n,s.Array=o,e.observe=s.observe=u,e.unobserve=s.unobserve=d,s._apply=h,n.prototype={_data:null,observeAll:m,unobserveAll:g,data:function(){return this._data},setProperty:function(t,e,s){var n,o,r,a=this,l=a._data;if(t=t||"",l)if(w(t))for(n=t.length;n--;)o=t[n],a.setProperty(o.name,o.value,s===i||s);else if(""+t!==t)for(n in t)a.setProperty(n,t[n],e);else if(t!==x){for(r=t.split(".");l&&r.length>1;)l=l[r.shift()];a._setProperty(l,r.join("."),e,s)}return a},_setProperty:function(t,e,i,s){var n,o,r=e?t[e]:t;S(r)&&r.set&&(o=r,n=r.set===!0?r:r.set,r=r.call(t)),(r!==i||s&&r!=i)&&(!(r instanceof Date)||r>i||i>r)&&(n?(n.call(t,i),i=o.call(t)):e&&(t[e]=i),this._trigger(t,{change:"set",path:e,value:i,oldValue:r}))},_trigger:function(t,i){e(t).triggerHandler(A,i)}},o.prototype={_data:null,observeAll:m,unobserveAll:g,data:function(){return this._data},insert:function(t,e){var i=this._data;return 1===arguments.length&&(e=t,t=i.length),t=C(t),t>-1&&t<=i.length&&(e=w(e)?e:[e],e.length&&this._insert(t,e)),this},_insert:function(t,e){var i=this._data,s=i.length;k.apply(i,[t,0].concat(e)),this._trigger({change:"insert",index:t,items:e},s)},remove:function(t,e){var s,n=this._data;return t===i&&(t=n.length-1),t=C(t),e=e?C(e):0===e?0:1,e>-1&&t>-1&&(s=n.slice(t,t+e),e=s.length,e&&this._remove(t,e,s)),this},_remove:function(t,e,i){var s=this._data,n=s.length;s.splice(t,e),this._trigger({change:"remove",index:t,items:i},n)},move:function(t,e,i){if(i=i?C(i):0===i?0:1,t=C(t),e=C(e),i>0&&t>-1&&e>-1&&t!==e){var s=this._data.slice(t,t+i);i=s.length,i&&this._move(t,e,i,s)}return this},_move:function(t,e,i,s){var n=this._data,o=n.length;n.splice(t,i),n.splice.apply(n,[e,0].concat(s)),this._trigger({change:"move",oldIndex:t,index:e,items:s},o)},refresh:function(t){var e=this._data.slice(0);return this._refresh(e,t),this},_refresh:function(t,e){var i=this._data,s=i.length;k.apply(i,[0,i.length].concat(e)),this._trigger({change:"refresh",oldItems:t},s)},_trigger:function(t,i){var s=this._data,n=s.length,o=e([s]);o.triggerHandler(T,t),n!==i&&o.triggerHandler(A,{change:"set",path:"length",value:n,oldValue:i})}},b[A]=b[T]={remove:function(t){var i,s,n,o,r,a=t.data;if(a&&(a.off=1,a=a.cb)&&(i=D[a._cId])){for(n=e._data(this).events[t.type],o=n.length;o--&&!s;)s=(r=n[o].data)&&r.cb===a;s||(delete i[e.data(this,"obId")],l(i,a._cId))}}}}}(this,this.jQuery),function(t,e,i){"use strict";function s(t){var e=this.linkedElem;e&&n({target:e[0]},t)}function n(t,s){var n,o,r,a,l,c,u,h,p,f,m,g,v,b,y,k,w,x=t.target,m=x._jsvBnd,_=/&(\d+)\+?/g;if(m)for(;f=_.exec(m);)(f=Lt[f[1]])&&(k=f.to)&&(a=f.linkCtx,p=a.view,y=a.tag,h=e(x),v=p.hlp(bt),b=p.hlp(yt),r=d(x),n=qt[r],s===i&&(s=ct(r)?r(x):n?h[n]():h.attr(r)),c=k[1],k=k[0],c&&(l=ct(c)?c:p.getRsc("converters",c)),l&&(s=l.call(y,s)),g=p.linkCtx,p.linkCtx=a,w={change:"change",oldValue:a._val,value:s},v&&(o=v.call(a,t,w)===!1)||y&&y.onBeforeChange&&(o=y.onBeforeChange(t,w)===!1)||s===i||(u=k[0],s!==i&&u&&(u=u._jsvOb?u._ob:u,y&&(y._.chging=!0),ht(u).setProperty(k[2]||k[1],s),b&&b.call(a,t,w),y&&(y.onAfterChange&&y.onAfterChange(t,w),delete y._.chging),a._val=s)),p.linkCtx=g)}function o(t,e,n){var o,l,c,u=this,h=u.data,p=u.elem,m=u.convert,g=p.parentNode,v=u.view,b=(v.ctx,v.linkCtx),y=v.hlp(bt);if(v.linkCtx=u,g&&(!y||!e||y.call(u,t,e)!==!1)&&(!e||"*"===t.data.prop||t.data.prop===e.path)){if(e&&(u.eventArgs=e),e||u._initVal){if(delete u._initVal,l=n.call(v.tmpl,h,v,nt),o=r(l,u,c,u.attr||d(p,!0,m!==i)),c=u.tag){if(e&&c.onUpdate&&c.onUpdate(t,e,l=l[0]?l:[l])===!1||"none"===o)return c.tagCtxs=l,c.tagCtx=l[0],o===Dt&&c.onBeforeLink&&c.onBeforeLink(),M(c,c.tagCtx),f(u,h,p),void(v.linkCtx=b);if(c._.chging)return;l=":"===c.tagName.slice(-1)?nt._cnvt(c.tagName.slice(0,-1),v,l):nt._tag(c,v,v.tmpl,l,!0)}else n._ctxs&&(m=""===m?"true":m,l=m?nt._cnvt(m,v,l):nt._tag(n._ctxs,v,v.tmpl,l,!0),c=v._.tag,o=u.attr||o);a(l,u,o,c)&&e&&(y=v.hlp(yt))&&y.call(u,t,e)}c&&(c.contents=T,c.nodes=D,c.childTags=q,c.currentCtxs=S,c.update=s,c.refresh=O,M(c,c.tagCtx)),f(u,h,p),v.linkCtx=b}}function r(t,s,n,o){var r,a,l,c,u=n&&n.parentElem||s.elem;if(t!==i){if(c=e(u),o=n&&n.attr||o,ct(t)&&Ot(s.expr+": missing parens"),"visible"===o&&(o="css-display"),l=/^css-/.test(o)&&o.slice(4))r=e.style(u,l),+t===t&&(r=parseInt(r)),r=e.style(u,l);else if("link"!==o){if("value"===o)u.type===xt&&(r=c.prop(o=wt));else if(o===_t){if(u.value!==""+t)return o;r=c.prop(wt)}r===i&&(a=qt[o],r=a?c[a]():c.attr(o))}s._val=r}return o}function a(t,s,n,o){var r,a,l,u,d,h,p=t!==i,m=s.data,g=o&&o.parentElem||s.elem,v=e(g),b=s.view,y=s._val,k=b.ctx,w=b.linkCtx,x=o||n===Dt;if(o&&(o.parentElem=o.parentElem||s.expr||o._elCnt?g:g.parentNode,a=o._prv,l=o._nxt),!p)return void(n===Dt&&o&&o.onBeforeLink&&o.onBeforeLink());if(/^css-/.test(n))"visible"===s.attr&&(t=t?c(g):"none"),(x=x||y!==t)&&e.style(g,n.slice(4),t);else if("link"!==n){if(n===wt)h=1,t=t&&"false"!==t;else if(n===_t){if(g.value!==""+t)return void f(s,m,g);t=!0,h=1,n=wt}else"selected"!==n&&"disabled"!==n&&"multiple"!==n&&"readonly"!==n||(t=t&&"false"!==t?n:null);(r=qt[n])?n===Dt?(b.linkCtx=s,b.ctx=s.ctx,o&&o._.inline?(d=o.nodes(!0),o._elCnt&&(a&&a!==l&&N(a,l,g,o._tgId,"^",!0),a=a?a.previousSibling:l?l.previousSibling:g.lastChild),e(d).remove(),o&&o.onBeforeLink&&o.onBeforeLink(),u=b.link(b.data,g,a,l,t,o&&{tag:o._tgId,lazyLink:o.tagCtx.props.lazyLink})):(p&&v.empty(),o&&o.onBeforeLink&&o.onBeforeLink(),p&&(u=b.link(m,g,a,l,t,o&&{tag:o._tgId}))),b.linkCtx=w,b.ctx=k):(x=x||y!==t)&&("text"===n&&g.children&&!g.children[0]?g.textContent!==i?g.textContent=t:g.innerText=null===t?"":t:v[r](t)):(x=x||y!==t)&&v[h?"prop":"attr"](n,t!==i||h?t:null),s._val=t}return u||x}function l(t,e){var i=this,s=i.hlp(bt),n=i.hlp(yt);if(!s||s.call(this,t,e)!==!1){if(e){var o=e.change,r=e.index,a=e.items;switch(o){case"insert":i.addViews(r,a);break;case"remove":i.removeViews(r,a.length);break;case"move":i.refresh();break;case"refresh":i.refresh()}}n&&n.call(this,t,e)}}function c(e){var i,s,n=t.getComputedStyle,o=(e.currentStyle||n.call(t,e,"")).display;return"none"!==o||(o=It[s=e.nodeName])||(i=st.createElement(s),st.body.appendChild(i),o=(n?n.call(t,i,""):i.currentStyle).display,It[s]=o,st.body.removeChild(i)),o}function u(t){var s,n,o=t.data,r=t._.bnd;!t._.useKey&&r&&((n=t._.bndArr)&&(e([n[1]]).off(gt,n[0]),t._.bndArr=i),r!==!!r&&r._.inline?o?r._.arrVws[t._.id]=t:delete r._.arrVws[t._.id]:o&&(s=function(e){e.data&&e.data.off||l.apply(t,arguments)},e([o]).on(gt,s),t._.bndArr=[s,o]))}function d(t,e,i){var s=t.nodeName.toLowerCase(),n=rt.merge[s]||"true"===t.contentEditable&&{to:Dt,from:Dt};return n?e?"input"===s&&t.type===_t?_t:n.to:n.from:e?i?"text":Dt:""}function h(t,s,n,o,r,a,l){var c,u,d,h,p,f=t.parentElem,m=t._prv,g=t._nxt,v=t._elCnt;if(m&&m.parentNode!==f&&Ot("Missing parentNode"),l){h=t.nodes(),v&&m&&m!==g&&N(m,g,f,t._.id,"_",!0),t.removeViews(i,i,!0),u=g,v&&(m=m?m.previousSibling:g?g.previousSibling:f.lastChild),e(h).remove();for(p in t._.bnds)j(p)}else{if(s){if(d=o[s-1],!d)return!1;m=d._nxt}v?(u=m,m=u?u.previousSibling:f.lastChild):u=m.nextSibling}c=n.render(r,a,t._.useKey&&l,t,l||s,!0),t.link(r,f,m,u,c,d)}function p(t,e,s){var n,o,r;return s?(r="^`",o=e._.tag||{_:{inline:!0,bnd:s},tagCtx:{view:e},flow:!0},n=o._tgId,n||(Lt[n=Bt++]=o,o._tgId=""+n)):(r="_`",Rt[n=e._.id]=e),"#"+n+r+(t===i?"":t)+"/"+n+r}function f(t,e,s){var n,o,r,a=t.tag,l=t.convertBack,c=[],u=t._bndId||""+Bt++,d=t._hdlr;if(delete t._bndId,a&&(c=a.depends||c,c=ct(c)?a.depends(a):c,r=a.linkedElem),t._depends&&""+t._depends==""+c||(t._depends&&ht._apply(!1,[e],t._depends,d,!0),n=ht._apply(!1,[e],t.fn.paths,c,d,t._ctxCb),n.elem=s,n.linkCtx=t,n._tgId=u,s._jsvBnd=s._jsvBnd||"",s._jsvBnd+="&"+u,t._depends=c,t.view._.bnds[u]=u,Lt[u]=n,r&&(n.to=[[],l]),(r||l!==i)&&H(n,a&&a.convertBack||l),a&&(a.onAfterBind&&a.onAfterBind(n),a.flow||a._.inline||(s.setAttribute(ft,(s.getAttribute(ft)||"")+"#"+u+"^/"+u+"^"),a._tgId=""+u))),r&&r[0])for(a._.radio&&(r=r.children("input[type=radio]")),o=r.length;o--;)r[o]._jsvBnd=r[o]._jsvBnd||s._jsvBnd+"+",r[o]._jsvLnkdEl=a}function m(t,e,i,s,n,o,r){return g(this,t,e,i,s,n,o,r)}function g(t,s,o,r,a,l,c,u){if(t&&s){s=s.jquery?s:e(s),B||(B=st.body,e(B).on(vt,n).on("blur","[contenteditable]",function(t){var e=rt.noValidate;rt.noValidate=!0,n(t),rt.noValidate=e}));for(var d,h,f,m,g,v,y,k,w=p,_=r&&"replace"===r.target,C=s.length;C--;)if(y=s[C],""+t===t)g=W(y),k=g.ctx,g.ctx=r,b(t,y,W(y),o),g.ctx=k;else{if(l=l||W(y),t.markup!==i)l.link===!1&&(r=r||{},r.link=w=!1),_&&(v=y.parentNode),f=t.render(o,r,a,l,i,w),v?(c=y.previousSibling,u=y.nextSibling,e.cleanData([y],!0),v.removeChild(y),y=v):(c=u=i,e(y).empty());else if(t!==!0)break;if(y._dfr&&!u){for(m=x(y._dfr,!0,Qt),d=0,h=m.length;h>d;d++)g=m[d],(g=Rt[g.id])&&g.data!==i&&g.parent.removeViews(g._.key,i,!0);y._dfr=""}l.link(o,y,c,u,f,i,r)}}return s}function v(t,n,o,r,a,c,d,h){function f(t,e,s,n,o,r,l,c,u,d,h,p){var f,m="";return w=c||u||"",n=n||d,s=s||p,dt&&!s&&(n||w||r)&&(dt=i,ut=Mt.shift()),n=n||s,n&&(dt=i,rt.noValidate||(s||p?Ut[ut]||(f="'<"+ut+".../"):Ut[n]?f="'</"+n:Mt.length&&n===ut||(f="Mismatch: '</"+n),f&&$t(f+">' in:\n"+a)),vt=gt,ut=Mt.shift(),gt=Yt[ut],d=d?"</"+d+">":"",vt&&(qt+=yt,yt="",gt?qt+="-":(m=d+At+"@"+qt+Ct+(h||""),qt=Ht.shift()))),gt?(r?yt+=r:e=d||p||"",w&&(e+=w,yt&&(e+=" "+ft+'="'+yt+'"',yt=""))):e=r?e+m+o+At+r+Ct+l+w:m||t,w&&(Mt.unshift(ut),ut=w.slice(1),Mt[0]&&Mt[0]===Nt[ut]&&Ot("Parent of <tr> must be <tbody>"),dt=Ut[ut],(gt=Yt[ut])&&!vt&&(Ht.unshift(qt),qt=""),vt=gt,qt&&gt&&(qt+="+")),e}function m(t,e){var s,o,r,a,c,d,h,f=[];if(t){for("@"===t._tkns.charAt(0)&&(e=E.previousSibling,E.parentNode.removeChild(E),E=null),j=t.length;j--;){if(Y=t[j],r=Y.ch,s=Y.path)for($=s.length-1;o=s.charAt($--);)"+"===o?"-"===s.charAt($)?($--,e=e.previousSibling):e=e.parentNode:e=e.lastChild;"^"===r?(w=Lt[c=Y.id])&&(h=e&&(!E||E.parentNode!==e),E&&!h||(w.parentElem=e),Y.elCnt&&h&&(e._dfr=(Y.open?"#":"/")+c+r+(e._dfr||"")),f.push([h?null:E,Y])):(P=Rt[c=Y.id])&&(P.link||(P.parentElem=e||E&&E.parentNode||n,at(P,L),P._.onRender=p,P._.onArrayChange=l,u(P)),a=P.parentElem,Y.open?(P._elCnt=Y.elCnt,e?e._dfr="#"+c+r+(e._dfr||""):(P._prv||(a._dfr=k(a._dfr,"#"+c+r)),P._prv=E)):(!e||E&&E.parentNode===e?E&&(P._nxt||(a._dfr=k(a._dfr,"/"+c+r)),P._nxt=E):(e._dfr="/"+c+r+(e._dfr||""),P._nxt=i),y=P.linkCtx,(d=P.ctx&&P.ctx.onAfterCreate||Ft)&&d.call(y,P)))}for(j=f.length;j--;)St.push(f[j])}return!t||t.elCnt}function g(t){var e,i;if(t)for(j=t.length,$=0;j>$;$++)if(Y=t[$],it.id)it.id=it.id!==Y.id&&it.id;else if(i=w=Lt[Y.id].linkCtx.tag,!w.flow){if(!V){for(e=1;i=i.parent;)e++;J=J||e}!V&&e!==J||G&&w.tagName!==G||Q.push(w)}}function v(){for(F=Pt?n.querySelectorAll(tt):e(tt,n).get(),H=F.length,o&&o.innerHTML&&(U=Pt?o.querySelectorAll(tt):e(tt,o).get(),o=U.length?U[U.length-1]:o),J=0,A=0;H>A;A++)if(E=F[A],o&&!xt)xt=E===o;else{if(r&&E===r)break;E.parentNode&&It(x(E,i,Q&&Zt))&&!it&&E.getAttribute(X)&&St.push([E])}if(_(o,gt),_(r,gt),it)return void(_t&&_t.resolve());for(gt&&qt+yt&&(E=r,qt&&(r?m(x(qt+"+",!0),r):m(x(qt,!0),n)),m(x(yt,!0),n),r&&(mt=r.getAttribute(ft),(H=mt.indexOf(wt)+1)&&(mt=mt.slice(H+wt.length-1)),r.setAttribute(ft,yt+mt))),H=St.length,A=0;H>A;A++)E=St[A],N=E[1],E=E[0],N?(w=Lt[N.id])&&((y=w.linkCtx)&&(w=y.tag,w.linkCtx=y),N.open?(E&&(w.parentElem=E.parentNode,w._prv=E),w._elCnt=N.elCnt,!w||w.onBeforeLink&&w.onBeforeLink()===!1||w._.bound||(w._.bound=!0,P=w.tagCtx.view,b(i,w._prv,P,P.data||t,N.id)),w._.linking=!0):(w._nxt=E,w._.linking&&(Z=w.tagCtx,P=Z.view,w.contents=T,w.nodes=D,w.childTags=q,w.currentCtxs=S,w.update=s,w.refresh=O,delete w._.linking,w._.bound||(w._.bound=!0,b(i,w._prv,P,P.data||t,N.id)),M(w,Z)))):(P=W(E),b(E.getAttribute(X),E,P,P.data||t,i,d));_t&&_t.resolve()}var y,w,A,H,$,j,F,E,P,Y,N,U,I,R,B,z,Q,V,G,Z,J,it,nt,ot,lt,ct,ut,dt,ht,pt,mt,gt,vt,bt,yt,wt,xt,_t,Tt=this,Dt=Tt._.id+"_",qt="",St=[],Mt=[],Ht=[],Ft=Tt.hlp(kt),It=m;if(c&&(_t=c.lazyLink&&e.Deferred(),c.tmpl?R="/"+c._.id+"_":(it=c.get,c.tag&&(Dt=c.tag+"^",c=!0)),c=c===!0),it&&(It=g,Q=it.tags,V=it.deep,G=it.name),n=n?""+n===n?e(n)[0]:n.jquery?n[0]:n:Tt.parentElem||st.body,ut=n.tagName.toLowerCase(),gt=!!Yt[ut],o=o&&C(o,gt),r=r&&C(r,gt)||null,a!==i){if(pt=st.createElement("div"),ht=pt,wt=yt="",bt="http://www.w3.org/2000/svg"===n.namespaceURI?"svg_ns":(ct=jt.exec(a))&&ct[1]||"",K&&ct&&ct[2]&&Ot("Unsupported: "+ct[2]),gt){for(z=r;z&&!(B=x(z));)z=z.nextSibling;(mt=B?B._tkns:n._dfr)&&(I=R||"",!c&&R||(I+="#"+Dt),$=mt.indexOf(I),$+1&&($+=I.length,wt=yt=mt.slice(0,$),mt=mt.slice($),B?z.setAttribute(ft,mt):n._dfr=mt))}if(dt=i,a=(""+a).replace(zt,f),!rt.noValidate&&Mt.length&&$t("Mismatched '<"+ut+"...>' in:\n"+a),h)return;for(Et.appendChild(pt),bt=et[bt]||et.div,nt=bt[0],ht.innerHTML=bt[1]+a+bt[2];nt--;)ht=ht.lastChild;for(Et.removeChild(pt),ot=st.createDocumentFragment();lt=ht.firstChild;)ot.appendChild(lt);n.insertBefore(ot,r)}return _t?setTimeout(v,0):v(),_t&&_t.promise()}function b(t,e,s,n,o,r){var a,l,c,u,h,p,f,m,g,v,b;if(n=n||{},o)v=Lt[o],v=v.linkCtx?v.linkCtx.tag:v,g=v.linkCtx||{data:n,elem:v._elCnt?v.parentElem:e,view:s,ctx:s.ctx,attr:Dt,fn:v._.bnd,tag:v,_bndId:o},y(g,g.fn);else if(t&&e)for(a=s.tmpl,t=A(t,d(e)),z.lastIndex=0;l=z.exec(t);)b=z.lastIndex,c=o?Dt:l[1],f=l[3],h=l[10],u=i,g={data:n,elem:v&&v._elCnt?v.parentElem:e,
view:s,ctx:r||s.ctx,attr:c,_initVal:!l[2]},l[6]&&(!c&&(u=/:([\w$]*)$/.exec(h))&&(u=u[1],u!==i&&(p=-u.length-1,f=f.slice(0,p-1)+G,h=h.slice(0,p))),null===u&&(u=i),g.convert=l[5]||""),g.expr=c+f,m=a.links[f],m||(a.links[f]=m=ot.tmplFn(Q+f+Z,a,!0,u),ot.parse(h,m.paths=[],a)),g.fn=m,c||u===i||(g.convertBack=u),y(g,m),z.lastIndex=b}function y(t,e){function i(i,s){o.call(t,i,s,e)}i.noArray=!0,t._ctxCb=P(t.view),t._hdlr=i,i(!0)}function k(t,e){var i;return t?(i=t.indexOf(e),i+1?t.slice(0,i)+t.slice(i+e.length):t):""}function w(t){return t&&(""+t===t?t:"SCRIPT"===t.tagName?t.type.slice(3):1===t.nodeType&&t.getAttribute(ft)||"")}function x(t,e,i){function s(t,e,i,s,o,a){r.push({elCnt:n,id:s,ch:o,open:e,close:i,path:a,token:t})}var n,o,r=[];return(o=e?t:w(t))?(r.elCnt=!t.type,n="@"===o.charAt(0)||!t.type,r._tkns=o,o.replace(i||Jt,s),r):void 0}function _(t,e){t&&("jsv"===t.type?t.parentNode.removeChild(t):e&&""===t.getAttribute(X)&&t.removeAttribute(X))}function C(t,e){for(var i=t;e&&i&&1!==i.nodeType;)i=i.previousSibling;return i&&(1!==i.nodeType?(i=st.createElement("SCRIPT"),i.type="jsv",t.parentNode.insertBefore(i,t)):w(i)||i.getAttribute(X)||i.setAttribute(X,"")),i}function A(t,i){return t=e.trim(t).replace(Ft,"\\$&"),t.slice(-1)!==G?t=V+":"+t+(i?":":"")+G:t}function T(t,s){t!==!!t&&(s=t,t=i);var n,o=e(this.nodes());return o[0]&&(n=s?o.filter(s):o,o=t&&s?n.add(o.find(s)):n),o}function D(t,e,i){var s,n=this,o=n._elCnt,r=!e&&o,a=[];for(e=e||n._prv,i=i||n._nxt,s=r?e===n._nxt?n.parentElem.lastSibling:e:n._.inline===!1?e||n.linkCtx.elem.firstChild:e&&e.nextSibling;s&&(!i||s!==i);)(t||o||"SCRIPT"!==s.tagName)&&a.push(s),s=s.nextSibling;return a}function q(t,e){t!==!!t&&(e=t,t=i);var s=this,n=s.link?s:s.tagCtx.view,o=s._prv,r=s._elCnt,a=[];return o&&n.link(i,s.parentElem,r?o.previousSibling:o,s._nxt,i,{get:{tags:a,deep:t,name:e,id:r&&s._tgId}}),a}function S(){var t=this.tagCtx.view;return this._.bnd.call(t.tmpl,t.data,t,nt)}function M(t,e){var s,n,o,r,a,l,c,u,d=e.view,h=t.linkCtx=t.linkCtx||{tag:t,data:d.data,view:d,ctx:d.ctx};if(t.onAfterLink&&t.onAfterLink(e,h),s=t.targetTag?t.targetTag.linkedElem:t.linkedElem,s&&(n=s[0])&&((o=t._.radio)&&(s=s.children("input[type=radio]")),o||!t._.chging)){if(r=ot.cvt(t,t.convert)[0],o||n!==h.elem){for(c=s.length;c--;){if(n=s[c],u=n._jsvLnkdEl,t._.inline&&(!u||u!==t&&u.targetTag!==t))for(n._jsvLnkdEl=t,a=h.elem?h.elem._jsvBnd:t._prv._jsvBnd,n._jsvBnd=a+"+",a=a.slice(1).split("&"),l=a.length;l--;)H(Lt[a[l]],t.convertBack);o&&(n[wt]=r===n.value)}h._val=r}o||n.value===i||r===i||(n.type===xt?n[wt]=r&&"false"!==r:s.val(r))}}function H(t,e){var i,s,n,o,r=t.linkCtx,a=r.data,l=r.fn.paths;if(t){for((i=l._jsvto)&&(l=i),s=l.length;s&&""+(n=l[--s])!==n;);!n||r.tag&&!r.tag.tagCtx.args.length?t.to=[[],e]:(n=l[s]=n.split("^").join("."),t.to="."===n.charAt(0)?[[o=l[s-1],n.slice(1)],e]:[r._ctxCb(l[0])||[a,l[0]],e],i&&o&&(t.to[0][0]=r._ctxCb(o,a)))}}function O(t){var e,s,n=this,o=n.linkCtx,r=n.tagCtx.view;return n.disposed&&Ot("Removed tag"),t===i&&(t=nt._tag(n,r,r.tmpl,n.currentCtxs?n.currentCtxs():n.tagCtxs,!0)),t+""===t&&(s=n._.inline?Dt:o.attr||d(n.parentElem,!0),e=a(t,o,s,n)),M(n,n.tagCtx),e||n}function $(t){for(var e,s,n,o,r,a,l,c=[],u=t.length,d=u;d--;)c.push(t[d]);for(d=u;d--;)if(o=c[d],o.parentNode){if(l=o._jsvBnd)for(l=l.slice(1).split("&"),o._jsvBnd="",s=l.length;s--;)j(l[s],o._jsvLnkdEl,o);if(r=x(w(o)+(o._dfr||""),!0,Vt))for(e=0,n=r.length;n>e;e++)a=r[e],"_"===a.ch?(a=Rt[a.id])&&a.data!==i&&a.parent.removeViews(a._.key,i,!0):j(a.id)}}function j(t,i,s){var n,o,r,a,l,c,u,d,h=Lt[t];if(i)s===i.linkedElem[0]&&(delete s._jsvLnkdEl,delete i.linkedElem);else if(h){for(n in h.bnd)a=h.bnd[n],l=".obs"+h.cbId,e.isArray(a)?e([a]).off(gt+l).off(mt+l):e(a).off(mt+l),delete h.bnd[n];if(o=h.linkCtx){if(r=o.tag){if(c=r.tagCtxs)for(u=c.length;u--;)(d=c[u].map)&&d.unmap();r.onDispose&&r.onDispose(),r._elCnt||(r._prv&&r._prv.parentNode.removeChild(r._prv),r._nxt&&r._nxt.parentNode.removeChild(r._nxt)),r.disposed=!0}delete o.view._.bnds[t]}delete Lt[t],delete ot._cbBnds[h.cbId]}}function F(t,s){return t===i?(B&&(e(B).off(vt,n),B=i),t=!0,lt.removeViews(),$(st.body.getElementsByTagName("*"))):s&&(s=s.jquery?s:e(s),t===!0?s.each(function(){for(var t;(t=W(this,!0))&&t.parent;)t.parent.removeViews(t._.key,i,!0);$(this.getElementsByTagName("*"))}):t===i&&$(s)),s}function E(t,e){return F(this,t,e)}function P(t){return t=t||e.view(),function(e,i){var s,n,o=[i];if(t&&e){if(e._jsvOb)return e._jsvOb.call(t.tmpl,i,t,nt);if("~"===e.charAt(0))return"~tag"===e.slice(0,4)&&(n=t.ctx,"."===e.charAt(4)&&(s=e.slice(5).split("."),n=n.tag),s)?n?[n,s.join("."),i]:[]:(e=e.slice(1).split("."),(i=t.hlp(e.shift()))&&(e.length&&o.unshift(e.join(".")),o.unshift(i)),i?o:[]);if("#"===e.charAt(0))return"#data"===e?[]:[t,e.replace(Wt,""),i]}}}function Y(t){return t.type===xt?t[wt]:t.value}function N(t,e,i,s,n,o){var r,a,l,c,u,d,h,p=0,f=t===e;if(t){for(l=x(t)||[],r=0,a=l.length;a>r;r++){if(c=l[r],d=c.id,d===s&&c.ch===n){if(!o)break;a=0}f||(u="_"===c.ch?Rt[d]:Lt[d].linkCtx.tag,c.open?u._prv=e:c.close&&(u._nxt=e)),p+=d.length+2}p&&t.setAttribute(ft,t.getAttribute(ft).slice(p)),h=e?e.getAttribute(ft):i._dfr,(a=h.indexOf("/"+s+n)+1)&&(h=l._tkns.slice(0,p)+h.slice(a+(o?-1:s.length+1))),h&&(e?e.setAttribute(ft,h):i._dfr=h)}else i._dfr=k(i._dfr,"#"+s+n),o||e||(i._dfr=k(i._dfr,"/"+s+n))}function U(t,i,s,n){switch(n.change){case"set":for(var o=i.length;o--&&i[o].key!==n.path;);-1===o?n.path&&e.observable(i).insert({key:n.path,prop:n.value}):null===n.value?(delete t[n.path],e.observable(i).remove(o)):e.observable(i[o]).setProperty("prop",n.value)}}function I(t,i,s,n){var o;switch(n.change){case"set":"prop"===n.path?e.observable(t).setProperty(s.target.key,n.value):(e.observable(t).setProperty(n.oldValue,null),delete t[n.oldValue],e.observable(t).setProperty(n.value,s.target.prop));break;case"remove":o=n.items[0],e.observable(t).setProperty(o.key,null),delete t[o.key];break;case"insert":o=n.items[0],o.key&&e.observable(t).setProperty(o.key,o.prop)}}function R(t,e,i){return i.indexOf(".")<0&&e[t]}var L,B,W,z,Q,V,G,Z,J,K,X,tt,et,it="JsViews requires ",st=t.document,nt=e.views,ot=nt.sub,rt=nt.settings,at=ot.extend,lt=ot.View(i,"top"),ct=e.isFunction,ut=nt.templates,dt=nt.converters,ht=e.observable,pt=ht.observe,ft="data-jsv",mt=ot.propChng=ot.propChng||"propertyChange",gt=ot.arrChng=ot.arrChng||"arrayChange",vt=(ot._cbBnds=ot._cbBnds||{},"change.jsv"),bt="onBeforeChange",yt="onAfterChange",kt="onAfterCreate",wt="checked",xt="checkbox",_t="radio",Ct='"></script>',At='<script type="jsv',Tt="script,["+ft+"]",Dt="html",qt={value:"val",input:"val",html:Dt,text:"text"},St={from:"value",to:"value"},Mt=e.cleanData,Ht=rt.delimiters,Ot=ot.error,$t=ot.syntaxError,jt=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,Ft=/['"\\]/g,Et=st.createDocumentFragment(),Pt=st.querySelector,Yt={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},Nt={tr:"table"},Ut={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},It={},Rt={0:lt},Lt={},Bt=1,Wt=/^#(view\.?)?/,zt=/(^|(\/>)|<\/(\w+)>|>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*)/g,Qt=/(#)()(\d+)(_)/g,Vt=/(#)()(\d+)([_^])/g,Gt=/(?:(#)|(\/))(\d+)(_)/g,Zt=/(#)()(\d+)(\^)/g,Jt=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;if(!e)throw it+"jQuery";if(!e.views)throw it+"JsRender";if(!e.observable)throw it+"jquery.observable";e.link||(ot.onStoreItem=function(t,i,s){s&&t===ut&&(s.link=m,s.unlink=E,i&&(e.link[i]=function(){return m.apply(s,arguments)},e.unlink[i]=function(){return E.apply(s,arguments)}))},(rt.delimiters=function(){var t=Ht.apply(nt,arguments);return Q=t[0],V=t[1],G=t[2],Z=t[3],J=t[4],z=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+J+")?(\\"+V+ot.rTag+"\\"+G+")","g"),this})(),ot.viewInfos=x,L={addViews:function(t,e,i){var s,n,o=this,r=e.length,a=o.views;if(!o._.useKey&&r&&(i=o.tmpl)&&(n=a.length+r,h(o,t,i,a,e,o.ctx)!==!1))for(s=t+r;n>s;s++)ht(a[s]).setProperty("index",s);return o},removeViews:function(t,s,n){function o(t){var s,o,r,a,l,c,d=h[t];if(d&&d.link){if(s=d._.id,n||(c=d.nodes()),d.removeViews(i,i,!0),d.data=i,a=d._prv,l=d._nxt,r=d.parentElem,n||(d._elCnt&&N(a,l,r,s,"_"),e(c).remove()),!d._elCnt)try{a.parentNode.removeChild(a),l.parentNode.removeChild(l)}catch(p){}u(d);for(o in d._.bnds)j(o);delete Rt[s]}}var r,a,l,c=this,d=!c._.useKey,h=c.views;if(d&&(l=h.length),t===i)if(d){for(r=l;r--;)o(r);c.views=[]}else{for(a in h)o(a);c.views={}}else if(s===i&&(d?s=1:(o(t),delete h[t])),d&&s){for(r=t+s;r-- >t;)o(r);if(h.splice(t,s),l=h.length)for(;l>t;)ht(h[t]).setProperty("index",t++)}return this},refresh:function(t){var e=this,i=e.parent;return i&&(h(e,e.index,e.tmpl,i.views,e.data,t,!0),u(e)),e},nodes:D,contents:T,childTags:q,link:v},dt.merge=function(t){var e,i=this.linkCtx._val||"",s=this.tagCtx.props.toggle;return s&&(e=s.replace(/[\\^$.|?*+()[{]/g,"\\$&"),e="(\\s(?="+e+"$)|(\\s)|^)("+e+"(\\s|$))",i=i.replace(new RegExp(e),"$2"),t=i+(t?(i&&" ")+s:"")),t},nt.tags("on",{attr:"none",onAfterLink:function(t,s){var n=this,o=e(s.elem),r=t.args,a=t.props.data,l=r.pop(),c=r[1]||null,u=t.props.context;a=a!==i?a:null,l&&l.call&&o.on(r[0]||"click",c,a,function(t){l.call(u||n.leaf,t,{change:t.type,view:s.view,linkCtx:s})})},onAfterBind:function(t){this.leaf=t.leaf},flow:!0}),at(nt.tags["for"],{onArrayChange:function(t,e){var i,s=this,n=e.change;if(s.tagCtxs[1]&&("insert"===n&&t.target.length===e.items.length||"remove"===n&&!t.target.length||"refresh"===n&&!e.oldItems.length!=!t.target.length))s.refresh();else for(i in s._.arrVws)i=s._.arrVws[i],i.data===t.target&&i._.onArrayChange.apply(i,arguments);t.done=!0},onAfterLink:function(){var t,i,s,n,o,r=this,a=r._ars||{},l=r.tagCtxs,c=l.length,u=r.selected||0;for(t=0;u>=t;t++)i=l[t],o=i.map?i.map.tgt:i.args.length?i.args[0]:i.view.data,(n=a[t])&&o!==n[0]&&(pt(n[0],n[1],!0),delete a[t]),!a[t]&&e.isArray(o)&&(pt(o,s=function(t,e){r.onArrayChange(t,e)}),a[t]=[o,s]);for(t=u+1;c>t;t++)(n=a[t])&&(pt(n[0],n[1],!0),delete a[t]);r._ars=a},onDispose:function(){var t,e=this;for(t in e._ars)pt(e._ars[t][0],e._ars[t][1],!0)}}),nt.tags({props:e.extend({},nt.tags["for"],ot.DataMap(nt.tags.props.getTgt,U,I,i,R))}),at(e,{view:nt.view=W=function(t,s,n){s!==!!s&&(n=s,s=i);var o,r,a,l,c,u,d,h,p=0,f=st.body;if(t&&t!==f&&lt._.useKey>1&&(t=""+t===t?e(t)[0]:t.jquery?t[0]:t))if(s){for(h=Pt?t.querySelectorAll(Tt):e(Tt,t).get(),u=h.length,a=0;u>a;a++)for(d=h[a],r=x(d,i,Qt),l=0,c=r.length;c>l;l++)if(o=r[l],(o=Rt[o.id])&&(o=o&&n?o.get(!0,n):o))return o}else for(;t;){if(r=x(t,i,Gt))for(u=r.length;u--;)if(o=r[u],o.open){if(1>p)return o=Rt[o.id],o&&n?o.get(n):o||lt;p--}else p++;t=t.previousSibling||t.parentNode}return s?i:lt},link:nt.link=g,unlink:nt.unlink=F,cleanData:function(t){t.length&&($(t),Mt.apply(e,arguments))}}),nt.utility={validate:function(t){try{lt.link(i,st.createElement("div"),i,i,t,i,i,1)}catch(e){return e.message}}},at(e.fn,{link:function(t,e,i,s,n,o,r){return g(t,this,e,i,s,n,o,r)},unlink:function(t){return F(t,this)},view:function(t){return W(this[0],t)}}),at(lt,{tmpl:{links:{},tags:{}}}),at(lt,L),lt._.onRender=p,rt({wrapMap:et={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},linkAttr:X="data-link",merge:{input:{from:Y,to:"value"},textarea:St,select:St,optgroup:{to:"label"}},jsrDbgMode:rt.debugMode,debugMode:function(e){rt.jsrDbgMode(e),e?t._jsv={views:Rt,bindings:Lt}:delete t._jsv},jsv:function(){rt.debugMode(rt._dbgMode),X=rt.linkAttr,tt=Tt+",["+X+"]",K=rt.noDomLevel0,et.optgroup=et.option,et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td}}))}(this,this.jQuery),function(t){if("function"==typeof define&&define.amd&&define("uikit",function(){var e=window.UIkit||t(window,window.jQuery,window.document);return e.load=function(t,i,s,n){var o,r=t.split(","),a=[],l=(n.config&&n.config.uikit&&n.config.uikit.base?n.config.uikit.base:"").replace(/\/+$/g,"");if(!l)throw new Error("Please define base path to UIkit in the requirejs config.");for(o=0;o<r.length;o+=1){var c=r[o].replace(/\./g,"/");a.push(l+"/components/"+c)}i(a,function(){s(e)})},e}),!window.jQuery)throw new Error("UIkit requires jQuery");window&&window.jQuery&&t(window,window.jQuery,window.document)}(function(t,e,i){"use strict";var s={},n=window.UIkit;if(s.version="2.18.0",s.noConflict=function(){return n&&(window.UIkit=n,e.UIkit=n,e.fn.uk=n.fn),s},s.prefix=function(t){return t},s.$=e,s.$doc=s.$(document),s.$win=s.$(window),s.$html=s.$("html"),s.fn=function(t,i){var n=arguments,o=t.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),r=o[1],a=o[2];return s[r]?this.each(function(){var t=e(this),o=t.data(r);o||t.data(r,o=s[r](this,a?void 0:i)),a&&o[a].apply(o,Array.prototype.slice.call(n,1))}):(e.error("UIkit component ["+r+"] does not exist."),this)},s.support={},s.support.transition=function(){var t=function(){var t,e=i.body||i.documentElement,s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in s)if(void 0!==e.style[t])return s[t]}();return t&&{end:t}}(),s.support.animation=function(){var t=function(){var t,e=i.body||i.documentElement,s={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(t in s)if(void 0!==e.style[t])return s[t]}();return t&&{end:t}}(),s.support.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},s.support.touch="ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||t.DocumentTouch&&document instanceof t.DocumentTouch||t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints>0||t.navigator.pointerEnabled&&t.navigator.maxTouchPoints>0||!1,s.support.mutationobserver=t.MutationObserver||t.WebKitMutationObserver||null,s.Utils={},s.Utils.str2json=function(t,e){try{return e?JSON.parse(t.replace(/([\$\w]+)\s*:/g,function(t,e){return'"'+e+'":'}).replace(/'([^']+)'/g,function(t,e){return'"'+e+'"'})):new Function("","var json = "+t+"; return JSON.parse(JSON.stringify(json));")()}catch(i){return!1}},s.Utils.debounce=function(t,e,i){var s;return function(){var n=this,o=arguments,r=function(){s=null,i||t.apply(n,o)},a=i&&!s;clearTimeout(s),s=setTimeout(r,e),a&&t.apply(n,o)}},s.Utils.removeCssRules=function(t){var e,i,s,n,o,r,a,l,c,u;t&&setTimeout(function(){try{for(u=document.styleSheets,n=0,a=u.length;a>n;n++){for(s=u[n],i=[],s.cssRules=s.cssRules,e=o=0,l=s.cssRules.length;l>o;e=++o)s.cssRules[e].type===CSSRule.STYLE_RULE&&t.test(s.cssRules[e].selectorText)&&i.unshift(e);for(r=0,c=i.length;c>r;r++)s.deleteRule(i[r])}}catch(d){}},0)},s.Utils.isInView=function(t,i){var n=e(t);if(!n.is(":visible"))return!1;var o=s.$win.scrollLeft(),r=s.$win.scrollTop(),a=n.offset(),l=a.left,c=a.top;return i=e.extend({topoffset:0,leftoffset:0},i),c+n.height()>=r&&c-i.topoffset<=r+s.$win.height()&&l+n.width()>=o&&l-i.leftoffset<=o+s.$win.width()},s.Utils.checkDisplay=function(t,i){var n=s.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",t||document);return t&&!n.length&&(n=e(t)),n.trigger("display.uk.check"),i&&("string"!=typeof i&&(i='[class*="uk-animation-"]'),n.find(i).each(function(){var t=s.$(this),e=t.attr("class"),i=e.match(/uk\-animation\-(.+)/);t.removeClass(i[0]).width(),t.addClass(i[0])})),n},s.Utils.options=function(t){if(e.isPlainObject(t))return t;var i=t?t.indexOf("{"):-1,n={};if(-1!=i)try{n=s.Utils.str2json(t.substr(i))}catch(o){}return n},s.Utils.animate=function(t,i){var n=e.Deferred();return t=s.$(t),i=i,t.css("display","none").addClass(i).one(s.support.animation.end,function(){t.removeClass(i),n.resolve()}).width(),t.css("display",""),n.promise()},s.Utils.uid=function(t){return(t||"id")+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random())},s.Utils.template=function(t,e){for(var i,s,n,o,r=t.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),a=0,l=[],c=0;a<r.length;){if(i=r[a],i.match(/\{\{\s*(.+?)\s*\}\}/))switch(a+=1,i=r[a],s=i[0],n=i.substring(i.match(/^(\^|\#|\!|\~|\:)/)?1:0),s){case"~":l.push("for(var $i=0;$i<"+n+".length;$i++) { var $item = "+n+"[$i];"),c++;break;case":":l.push("for(var $key in "+n+") { var $val = "+n+"[$key];"),c++;break;case"#":l.push("if("+n+") {"),c++;break;case"^":l.push("if(!"+n+") {"),c++;break;case"/":l.push("}"),c--;break;case"!":l.push("__ret.push("+n+");");break;default:l.push("__ret.push(escape("+n+"));")}else l.push("__ret.push('"+i.replace(/\'/g,"\\'")+"');");a+=1}return o=new Function("$data",["var __ret = [];","try {","with($data){",c?'__ret = ["Not all blocks are closed correctly."]':l.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',"function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}"].join("\n")),e?o(e):o},s.Utils.events={},s.Utils.events.click=s.support.touch?"tap":"click",window.UIkit=s,e.UIkit=s,e.fn.uk=s.fn,s.langdirection="rtl"==s.$html.attr("dir")?"right":"left",s.components={},s.component=function(t,i){var n=function(i,o){var r=this;return this.UIkit=s,this.element=i?s.$(i):null,this.options=e.extend(!0,{},this.defaults,o),this.plugins={},this.element&&this.element.data(t,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(n.plugins)).forEach(function(t){n.plugins[t].init&&(n.plugins[t].init(r),r.plugins[t]=!0)}),this.trigger("init.uk.component",[t,this]),this};return n.plugins={},e.extend(!0,n.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(t,e,i){return s.$(this.element||this).on(t,e,i)},one:function(t,e,i){return s.$(this.element||this).one(t,e,i)},off:function(t){return s.$(this.element||this).off(t)},trigger:function(t,e){return s.$(this.element||this).trigger(t,e)},find:function(t){return s.$(this.element?this.element:[]).find(t)},proxy:function(t,e){var i=this;e.split(" ").forEach(function(e){i[e]||(i[e]=function(){return t[e].apply(t,arguments)})})},mixin:function(t,e){var i=this;e.split(" ").forEach(function(e){i[e]||(i[e]=t[e].bind(i))})},option:function(){return 1==arguments.length?this.options[arguments[0]]||void 0:void(2==arguments.length&&(this.options[arguments[0]]=arguments[1]))}},i),this.components[t]=n,this[t]=function(){var i,n;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof jQuery?i=e(arguments[0]):n=arguments[0];break;case 2:i=e(arguments[0]),n=arguments[1]}return i&&i.data(t)?i.data(t):new s.components[t](i,n)},s.domready&&s.component.boot(t),n},s.plugin=function(t,e,i){this.components[t].plugins[e]=i},s.component.boot=function(t){s.components[t].prototype&&s.components[t].prototype.boot&&!s.components[t].booted&&(s.components[t].prototype.boot.apply(s,[]),s.components[t].booted=!0)},s.component.bootComponents=function(){for(var t in s.components)s.component.boot(t)},s.domObservers=[],s.domready=!1,s.ready=function(t){s.domObservers.push(t),s.domready&&t(document)},s.on=function(t,e,i){return t&&t.indexOf("ready.uk.dom")>-1&&s.domready&&e.apply(s.$doc),s.$doc.on(t,e,i)},s.one=function(t,e,i){return t&&t.indexOf("ready.uk.dom")>-1&&s.domready?(e.apply(s.$doc),s.$doc):s.$doc.one(t,e,i)},s.trigger=function(t,e){return s.$doc.trigger(t,e)},s.domObserve=function(t,e){s.support.mutationobserver&&(e=e||function(){},s.$(t).each(function(){var t=this,i=s.$(t);if(!i.data("observer"))try{var n=new s.support.mutationobserver(s.Utils.debounce(function(s){e.apply(t,[]),i.trigger("changed.uk.dom")},50));n.observe(t,{childList:!0,subtree:!0}),i.data("observer",n)}catch(o){}}))},s.on("domready.uk.dom",function(){s.domObservers.forEach(function(t){t(document)}),s.domready&&s.Utils.checkDisplay(document)}),e(function(){s.$body=s.$("body"),s.ready(function(t){s.domObserve("[data-uk-observe]")}),s.on("changed.uk.dom",function(t){var e=t.target;s.domObservers.forEach(function(t){t(e)}),s.Utils.checkDisplay(e)}),s.trigger("beforeready.uk.dom"),s.component.bootComponents(),setInterval(function(){var t,e={x:window.pageXOffset,y:window.pageYOffset},i=function(){e.x==window.pageXOffset&&e.y==window.pageYOffset||(t={x:0,y:0},window.pageXOffset!=e.x&&(t.x=window.pageXOffset>e.x?1:-1),window.pageYOffset!=e.y&&(t.y=window.pageYOffset>e.y?1:-1),e={dir:t,x:window.pageXOffset,y:window.pageYOffset},s.$doc.trigger("scrolling.uk.document",[e]))};return s.support.touch&&s.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",i),(e.x||e.y)&&i(),i}(),15),s.trigger("domready.uk.dom"),s.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&s.$win.on("load orientationchange resize",s.Utils.debounce(function(){var t=function(){return e(".uk-height-viewport").css("height",window.innerHeight),t};return t()}(),100)),s.trigger("afterready.uk.dom"),s.domready=!0}),s.$html.addClass(s.support.touch?"uk-touch":"uk-notouch"),s.support.touch){var o,r=!1,a="uk-hover",l=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";s.$html.on("touchstart MSPointerDown pointerdown",l,function(){r&&e("."+a).removeClass(a),r=e(this).addClass(a)}).on("touchend MSPointerUp pointerup",function(t){o=e(t.target).parents(l),r&&r.not(o).removeClass(a)})}return s}),function(t){function e(t,e,i,s){return Math.abs(t-e)>=Math.abs(i-s)?t-e>0?"Left":"Right":i-s>0?"Up":"Down"}function i(){c=null,d.last&&(d.el.trigger("longTap"),d={})}function s(){c&&clearTimeout(c),c=null}function n(){r&&clearTimeout(r),a&&clearTimeout(a),l&&clearTimeout(l),c&&clearTimeout(c),r=a=l=c=null,d={}}function o(t){return t.pointerType==t.MSPOINTER_TYPE_TOUCH&&t.isPrimary}if(!t.fn.swipeLeft){var r,a,l,c,u,d={},h=750;t(function(){var p,f,m,g=0,v=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),t(document).on("MSGestureEnd gestureend",function(t){var e=t.originalEvent.velocityX>1?"Right":t.originalEvent.velocityX<-1?"Left":t.originalEvent.velocityY>1?"Down":t.originalEvent.velocityY<-1?"Up":null;e&&(d.el.trigger("swipe"),d.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){("MSPointerDown"!=e.type||o(e.originalEvent))&&(m="MSPointerDown"==e.type||"pointerdown"==e.type?e:e.originalEvent.touches[0],p=Date.now(),f=p-(d.last||p),d.el=t("tagName"in m.target?m.target:m.target.parentNode),r&&clearTimeout(r),d.x1=m.pageX,d.y1=m.pageY,f>0&&250>=f&&(d.isDoubleTap=!0),d.last=p,c=setTimeout(i,h),!u||"MSPointerDown"!=e.type&&"pointerdown"!=e.type&&"touchstart"!=e.type||u.addPointer(e.originalEvent.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){("MSPointerMove"!=t.type||o(t.originalEvent))&&(m="MSPointerMove"==t.type||"pointermove"==t.type?t:t.originalEvent.touches[0],s(),d.x2=m.pageX,d.y2=m.pageY,g+=Math.abs(d.x1-d.x2),v+=Math.abs(d.y1-d.y2))}).on("touchend MSPointerUp pointerup",function(i){("MSPointerUp"!=i.type||o(i.originalEvent))&&(s(),d.x2&&Math.abs(d.x1-d.x2)>30||d.y2&&Math.abs(d.y1-d.y2)>30?l=setTimeout(function(){d.el.trigger("swipe"),d.el.trigger("swipe"+e(d.x1,d.x2,d.y1,d.y2)),d={}},0):"last"in d&&(isNaN(g)||30>g&&30>v?a=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=n,d.el.trigger(e),d.isDoubleTap?(d.el.trigger("doubleTap"),d={}):r=setTimeout(function(){r=null,d.el.trigger("singleTap"),d={}},250)},0):d={},g=v=0))}).on("touchcancel MSPointerCancel",n),t(window).on("scroll",n)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(i){return t(this).on(e,i)}})}}(jQuery),function(t){"use strict";var e=[];t.component("stackMargin",{defaults:{cls:"uk-margin-small-top"},boot:function(){t.ready(function(e){t.$("[data-uk-margin]",e).each(function(){var e,i=t.$(this);i.data("stackMargin")||(e=t.stackMargin(i,t.Utils.options(i.attr("data-uk-margin"))))})})},init:function(){var i=this;this.columns=this.element.children(),this.columns.length&&(t.$win.on("resize orientationchange",function(){var e=function(){i.process()};return t.$(function(){e(),t.$win.on("load",e)}),t.Utils.debounce(e,20)}()),t.$html.on("changed.uk.dom",function(t){i.columns=i.element.children(),i.process()}),this.on("display.uk.check",function(t){i.columns=i.element.children(),this.element.is(":visible")&&this.process()}.bind(this)),e.push(this))},process:function(){return t.Utils.stackMargin(this.columns,this.options),this},revert:function(){return this.columns.removeClass(this.options.cls),this}}),t.ready(function(){var e=[],i=function(){e.forEach(function(t){if(t.is(":visible")){var e=t.parent().width(),i=t.data("width"),s=e/i,n=Math.floor(s*t.data("height"));t.css({height:i>e?n:t.data("height")})}})};return t.$win.on("resize",t.Utils.debounce(i,15)),function(s){t.$("iframe.uk-responsive-width",s).each(function(){var i=t.$(this);!i.data("responsive")&&i.attr("width")&&i.attr("height")&&(i.data("width",i.attr("width")),i.data("height",i.attr("height")),i.data("responsive",!0),e.push(i))}),i()}}()),t.Utils.stackMargin=function(e,i){i=t.$.extend({cls:"uk-margin-small-top"},i),i.cls=i.cls,e=t.$(e).removeClass(i.cls);var s=!1,n=e.filter(":visible:first"),o=n.length?n.position().top+n.outerHeight()-1:!1;o!==!1&&e.each(function(){var e=t.$(this);e.is(":visible")&&(s?e.addClass(i.cls):e.position().top>=o&&(s=e.addClass(i.cls)))})}}(UIkit),function(t){"use strict";function e(e,i){i=t.$.extend({duration:1e3,transition:"easeOutExpo",offset:0,complete:function(){}},i);var s=e.offset().top-i.offset,n=t.$doc.height(),o=window.innerHeight;s+o>n&&(s=n-o),t.$("html,body").stop().animate({scrollTop:s},i.duration,i.transition).promise().done(i.complete)}t.component("smoothScroll",{boot:function(){t.$html.on("click.smooth-scroll.uikit","[data-uk-smooth-scroll]",function(e){var i=t.$(this);if(!i.data("smoothScroll")){t.smoothScroll(i,t.Utils.options(i.attr("data-uk-smooth-scroll")));i.trigger("click")}return!1})},init:function(){var i=this;this.on("click",function(s){s.preventDefault(),e(t.$(this.hash).length?t.$(this.hash):t.$("body"),i.options)})}}),t.Utils.scrollToElement=e,t.$.easing.easeOutExpo||(t.$.easing.easeOutExpo=function(t,e,i,s,n){return e==n?i+s:s*(-Math.pow(2,-10*e/n)+1)+i})}(UIkit),function(t){"use strict";var e=t.$win,i=t.$doc,s=[],n=function(){for(var e=0;e<s.length;e++)t.support.requestAnimationFrame.apply(window,[s[e].check])};t.component("scrollspy",{defaults:{target:!1,cls:"uk-scrollspy-inview",initcls:"uk-scrollspy-init-inview",topoffset:0,leftoffset:0,repeat:!1,delay:0},boot:function(){i.on("scrolling.uk.document",n),e.on("load resize orientationchange",t.Utils.debounce(n,50)),t.ready(function(e){t.$("[data-uk-scrollspy]",e).each(function(){var e=t.$(this);if(!e.data("scrollspy")){t.scrollspy(e,t.Utils.options(e.attr("data-uk-scrollspy")))}})})},init:function(){var e,i=this,n=this.options.cls.split(/,/),o=function(){var s=i.options.target?i.element.find(i.options.target):i.element,o=1===s.length?1:0,r=0;s.each(function(s){var a=t.$(this),l=a.data("inviewstate"),c=t.Utils.isInView(a,i.options),u=a.data("ukScrollspyCls")||n[r].trim();!c||l||a.data("scrollspy-idle")||(e||(a.addClass(i.options.initcls),i.offset=a.offset(),e=!0,a.trigger("init.uk.scrollspy")),a.data("scrollspy-idle",setTimeout(function(){a.addClass("uk-scrollspy-inview").toggleClass(u).width(),a.trigger("inview.uk.scrollspy"),a.data("scrollspy-idle",!1),a.data("inviewstate",!0)},i.options.delay*o)),o++),!c&&l&&i.options.repeat&&(a.data("scrollspy-idle")&&clearTimeout(a.data("scrollspy-idle")),a.removeClass("uk-scrollspy-inview").toggleClass(u),a.data("inviewstate",!1),a.trigger("outview.uk.scrollspy")),r=n[r+1]?r+1:0})};o(),this.check=o,s.push(this)}});var o=[],r=function(){for(var e=0;e<o.length;e++)t.support.requestAnimationFrame.apply(window,[o[e].check])};t.component("scrollspynav",{defaults:{cls:"uk-active",closest:!1,topoffset:0,leftoffset:0,smoothscroll:!1},boot:function(){i.on("scrolling.uk.document",r),e.on("resize orientationchange",t.Utils.debounce(r,50)),t.ready(function(e){t.$("[data-uk-scrollspy-nav]",e).each(function(){var e=t.$(this);if(!e.data("scrollspynav")){t.scrollspynav(e,t.Utils.options(e.attr("data-uk-scrollspy-nav")))}})})},init:function(){var i,s=[],n=this.find("a[href^='#']").each(function(){s.push(t.$(this).attr("href"))}),r=t.$(s.join(",")),a=this.options.cls,l=this.options.closest||this.options.closest,c=this,u=function(){i=[];for(var s=0;s<r.length;s++)t.Utils.isInView(r.eq(s),c.options)&&i.push(r.eq(s));if(i.length){var o,u=e.scrollTop(),d=function(){for(var t=0;t<i.length;t++)if(i[t].offset().top>=u)return i[t]}();if(!d)return;c.options.closest?(n.closest(l).removeClass(a),o=n.filter("a[href='#"+d.attr("id")+"']").closest(l).addClass(a)):o=n.removeClass(a).filter("a[href='#"+d.attr("id")+"']").addClass(a),c.element.trigger("inview.uk.scrollspynav",[d,o])}};this.options.smoothscroll&&t.smoothScroll&&n.each(function(){t.smoothScroll(this,c.options.smoothscroll)}),u(),this.element.data("scrollspynav",this),this.check=u,o.push(this)}})}(UIkit),function(t){"use strict";var e=[];t.component("toggle",{defaults:{target:!1,cls:"uk-hidden",animation:!1,duration:200},boot:function(){t.ready(function(i){t.$("[data-uk-toggle]",i).each(function(){var e=t.$(this);if(!e.data("toggle")){t.toggle(e,t.Utils.options(e.attr("data-uk-toggle")))}}),setTimeout(function(){e.forEach(function(t){t.getToggles()})},0)})},init:function(){var t=this;this.aria=-1!==this.options.cls.indexOf("uk-hidden"),this.getToggles(),this.on("click",function(e){t.element.is('a[href="#"]')&&e.preventDefault(),t.toggle()}),e.push(this)},toggle:function(){if(this.totoggle.length){if(this.options.animation&&t.support.animation){var e=this,i=this.options.animation.split(",");1==i.length&&(i[1]=i[0]),i[0]=i[0].trim(),i[1]=i[1].trim(),this.totoggle.css("animation-duration",this.options.duration+"ms"),this.totoggle.hasClass(this.options.cls)?(this.totoggle.toggleClass(this.options.cls),this.totoggle.each(function(){t.Utils.animate(this,i[0]).then(function(){t.$(this).css("animation-duration",""),t.Utils.checkDisplay(this)})})):this.totoggle.each(function(){t.Utils.animate(this,i[1]+" uk-animation-reverse").then(function(){t.$(this).toggleClass(e.options.cls).css("animation-duration",""),t.Utils.checkDisplay(this)}.bind(this))})}else this.totoggle.toggleClass(this.options.cls),t.Utils.checkDisplay(this.totoggle);this.updateAria()}},getToggles:function(){this.totoggle=this.options.target?t.$(this.options.target):[],this.updateAria()},updateAria:function(){this.aria&&this.totoggle.length&&this.totoggle.each(function(){t.$(this).attr("aria-hidden",t.$(this).hasClass("uk-hidden"))})}})}(UIkit),function(t){"use strict";t.component("alert",{defaults:{fade:!0,duration:200,trigger:".uk-alert-close"},boot:function(){t.$html.on("click.alert.uikit","[data-uk-alert]",function(e){var i=t.$(this);if(!i.data("alert")){var s=t.alert(i,t.Utils.options(i.attr("data-uk-alert")));t.$(e.target).is(s.options.trigger)&&(e.preventDefault(),s.close())}})},init:function(){var t=this;this.on("click",this.options.trigger,function(e){e.preventDefault(),t.close()})},close:function(){var t=this.trigger("close.uk.alert"),e=function(){this.trigger("closed.uk.alert").remove()}.bind(this);this.options.fade?t.css("overflow","hidden").css("max-height",t.height()).animate({height:0,opacity:0,"padding-top":0,"padding-bottom":0,"margin-top":0,"margin-bottom":0},this.options.duration,e):e()}})}(UIkit),function(t){"use strict";
t.component("buttonRadio",{defaults:{target:".uk-button"},boot:function(){t.$html.on("click.buttonradio.uikit","[data-uk-button-radio]",function(e){var i=t.$(this);if(!i.data("buttonRadio")){var s=t.buttonRadio(i,t.Utils.options(i.attr("data-uk-button-radio"))),n=t.$(e.target);n.is(s.options.target)&&n.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter(".uk-active").attr("aria-checked","true"),this.on("click",this.options.target,function(i){var s=t.$(this);s.is('a[href="#"]')&&i.preventDefault(),e.find(e.options.target).not(s).removeClass("uk-active").blur(),s.addClass("uk-active"),e.find(e.options.target).not(s).attr("aria-checked","false"),s.attr("aria-checked","true"),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find(".uk-active")}}),t.component("buttonCheckbox",{defaults:{target:".uk-button"},boot:function(){t.$html.on("click.buttoncheckbox.uikit","[data-uk-button-checkbox]",function(e){var i=t.$(this);if(!i.data("buttonCheckbox")){var s=t.buttonCheckbox(i,t.Utils.options(i.attr("data-uk-button-checkbox"))),n=t.$(e.target);n.is(s.options.target)&&n.trigger("click")}})},init:function(){var e=this;this.find(e.options.target).attr("aria-checked","false").filter(".uk-active").attr("aria-checked","true"),this.on("click",this.options.target,function(i){var s=t.$(this);s.is('a[href="#"]')&&i.preventDefault(),s.toggleClass("uk-active").blur(),s.attr("aria-checked",s.hasClass("uk-active")),e.trigger("change.uk.button",[s])})},getSelected:function(){return this.find(".uk-active")}}),t.component("button",{defaults:{},boot:function(){t.$html.on("click.button.uikit","[data-uk-button]",function(e){var i=t.$(this);if(!i.data("button")){t.button(i,t.Utils.options(i.attr("data-uk-button")));i.trigger("click")}})},init:function(){var t=this;this.element.attr("aria-pressed",this.element.hasClass("uk-active")),this.on("click",function(e){t.element.is('a[href="#"]')&&e.preventDefault(),t.toggle(),t.trigger("change.uk.button",[t.element.blur().hasClass("uk-active")])})},toggle:function(){this.element.toggleClass("uk-active"),this.element.attr("aria-pressed",this.element.hasClass("uk-active"))}})}(UIkit),function(t){"use strict";var e,i=!1;t.component("dropdown",{defaults:{mode:"hover",remaintime:800,justify:!1,boundary:t.$win,delay:0},remainIdle:!1,boot:function(){var e=t.support.touch?"click":"mouseenter";t.$html.on(e+".dropdown.uikit","[data-uk-dropdown]",function(i){var s=t.$(this);if(!s.data("dropdown")){var n=t.dropdown(s,t.Utils.options(s.attr("data-uk-dropdown")));("click"==e||"mouseenter"==e&&"hover"==n.options.mode)&&n.element.trigger(e),n.element.find(".uk-dropdown").length&&i.preventDefault()}})},init:function(){var i=this;this.dropdown=this.find(".uk-dropdown"),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=this.options.justify?t.$(this.options.justify):!1,this.boundary=t.$(this.options.boundary),this.flipped=this.dropdown.hasClass("uk-dropdown-flip"),this.boundary.length||(this.boundary=t.$win),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),"click"==this.options.mode||t.support.touch?this.on("click.uikit.dropdown",function(e){var s=t.$(e.target);s.parents(".uk-dropdown").length||((s.is("a[href='#']")||s.parent().is("a[href='#']")||i.dropdown.length&&!i.dropdown.is(":visible"))&&e.preventDefault(),s.blur()),i.element.hasClass("uk-open")?(s.is("a:not(.js-uk-prevent)")||s.is(".uk-dropdown-close")||!i.dropdown.find(e.target).length)&&i.hide():i.show()}):this.on("mouseenter",function(t){i.remainIdle&&clearTimeout(i.remainIdle),e&&clearTimeout(e),e=setTimeout(i.show.bind(i),i.options.delay)}).on("mouseleave",function(){e&&clearTimeout(e),i.remainIdle=setTimeout(function(){i.hide()},i.options.remaintime)}).on("click",function(e){var s=t.$(e.target);i.remainIdle&&clearTimeout(i.remainIdle),(s.is("a[href='#']")||s.parent().is("a[href='#']"))&&e.preventDefault(),i.show()})},show:function(){t.$html.off("click.outer.dropdown"),i&&i[0]!=this.element[0]&&(i.removeClass("uk-open"),i.attr("aria-expanded","false")),e&&clearTimeout(e),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.trigger("show.uk.dropdown",[this]),t.Utils.checkDisplay(this.dropdown,!0),i=this.element,this.registerOuterClick()},hide:function(){this.element.removeClass("uk-open"),this.remainIdle=!1,this.element.attr("aria-expanded","false"),i&&i[0]==this.element[0]&&(i=!1)},registerOuterClick:function(){var s=this;t.$html.off("click.outer.dropdown"),setTimeout(function(){t.$html.on("click.outer.dropdown",function(n){e&&clearTimeout(e);var o=t.$(n.target);i&&i[0]==s.element[0]&&(o.is("a:not(.js-uk-prevent)")||o.is(".uk-dropdown-close")||!s.dropdown.find(n.target).length)&&(s.hide(),t.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.justified&&this.justified.length&&this.dropdown.css("min-width","");var e=this,i=this.dropdown.css("margin-"+t.langdirection,""),s=i.show().offset(),n=i.outerWidth(),o=this.boundary.width(),r=this.boundary.offset()?this.boundary.offset().left:0;if(this.centered&&(i.css("margin-"+t.langdirection,-1*(parseFloat(n)/2-i.parent().width()/2)),s=i.offset(),(n+s.left>o||s.left<0)&&(i.css("margin-"+t.langdirection,""),s=i.offset())),this.justified&&this.justified.length){var a=this.justified.outerWidth();if(i.css("min-width",a),"right"==t.langdirection){var l=o-(this.justified.offset().left+a),c=o-(i.offset().left+i.outerWidth());i.css("margin-right",l-c)}else i.css("margin-left",this.justified.offset().left-s.left);s=i.offset()}n+(s.left-r)>o&&(i.addClass("uk-dropdown-flip"),s=i.offset()),s.left-r<0&&(i.addClass("uk-dropdown-stack"),i.hasClass("uk-dropdown-flip")&&(this.flipped||(i.removeClass("uk-dropdown-flip"),s=i.offset(),i.addClass("uk-dropdown-flip")),setTimeout(function(){(i.offset().left-r<0||!e.flipped&&i.outerWidth()+(s.left-r)<o)&&i.removeClass("uk-dropdown-flip")},0)),this.trigger("stack.uk.dropdown",[this])),i.css("display","")}}})}(UIkit),function(t){"use strict";var e=[];t.component("gridMatchHeight",{defaults:{target:!1,row:!0},boot:function(){t.ready(function(e){t.$("[data-uk-grid-match]",e).each(function(){var e,i=t.$(this);i.data("gridMatchHeight")||(e=t.gridMatchHeight(i,t.Utils.options(i.attr("data-uk-grid-match"))))})})},init:function(){var i=this;this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length&&(t.$win.on("load resize orientationchange",function(){var e=function(){i.match()};return t.$(function(){e()}),t.Utils.debounce(e,50)}()),t.$html.on("changed.uk.dom",function(t){i.columns=i.element.children(),i.elements=i.options.target?i.find(i.options.target):i.columns,i.match()}),this.on("display.uk.check",function(t){this.element.is(":visible")&&this.match()}.bind(this)),e.push(this))},match:function(){var e=this.columns.filter(":visible:first");if(e.length){var i=Math.ceil(100*parseFloat(e.css("width"))/parseFloat(e.parent().css("width")))>=100;return i?this.revert():t.Utils.matchHeights(this.elements,this.options),this}},revert:function(){return this.elements.css("min-height",""),this}}),t.component("gridMargin",{defaults:{cls:"uk-grid-margin"},boot:function(){t.ready(function(e){t.$("[data-uk-grid-margin]",e).each(function(){var e,i=t.$(this);i.data("gridMargin")||(e=t.gridMargin(i,t.Utils.options(i.attr("data-uk-grid-margin"))))})})},init:function(){t.stackMargin(this.element,this.options)}}),t.Utils.matchHeights=function(e,i){e=t.$(e).css("min-height",""),i=t.$.extend({row:!0},i);var s=function(e){if(!(e.length<2)){var i=0;e.each(function(){i=Math.max(i,t.$(this).outerHeight())}).each(function(){var e=t.$(this),s=i-(e.outerHeight()-e.height());e.css("min-height",s+"px")})}};i.row?(e.first().width(),setTimeout(function(){var i=!1,n=[];e.each(function(){var e=t.$(this),o=e.offset().top;o!=i&&n.length&&(s(t.$(n)),n=[],o=e.offset().top),n.push(e),i=o}),n.length&&s(t.$(n))},0)):s(e)}}(UIkit),function(t){"use strict";function e(e,i){return i?("object"==typeof e?(e=e instanceof jQuery?e:t.$(e),e.parent().length&&(i.persist=e,i.persist.data("modalPersistParent",e.parent()))):e="string"==typeof e||"number"==typeof e?t.$("<div></div>").html(e):t.$("<div></div>").html("UIkit.modal Error: Unsupported data type: "+typeof e),e.appendTo(i.element.find(".uk-modal-dialog")),i):void 0}var i,s=!1,n=t.$html;t.component("modal",{defaults:{keyboard:!0,bgclose:!0,minScrollHeight:150,center:!1},scrollable:!1,transition:!1,init:function(){i||(i=t.$("body"));var e=this;this.transition=t.support.transition,this.paddingdir="padding-"+("left"==t.langdirection?"right":"left"),this.dialog=this.find(".uk-modal-dialog"),this.element.attr("aria-hidden",this.element.hasClass("uk-open")),this.on("click",".uk-modal-close",function(t){t.preventDefault(),e.hide()}).on("click",function(i){var s=t.$(i.target);s[0]==e.element[0]&&e.options.bgclose&&e.hide()})},toggle:function(){return this[this.isActive()?"hide":"show"]()},show:function(){if(!this.isActive())return s&&s.hide(!0),this.element.removeClass("uk-open").show(),this.resize(),s=this,n.addClass("uk-modal-page").height(),this.element.addClass("uk-open"),this.element.attr("aria-hidden","false"),this.element.trigger("show.uk.modal"),t.Utils.checkDisplay(this.dialog,!0),this},hide:function(e){if(this.isActive()){if(!e&&t.support.transition){var i=this;this.one(t.support.transition.end,function(){i._hide()}).removeClass("uk-open")}else this._hide();return this}},resize:function(){var t=i.width();if(this.scrollbarwidth=window.innerWidth-t,i.css(this.paddingdir,this.scrollbarwidth),this.element.css("overflow-y",this.scrollbarwidth?"scroll":"auto"),!this.updateScrollable()&&this.options.center){var e=this.dialog.outerHeight(),s=parseInt(this.dialog.css("margin-top"),10)+parseInt(this.dialog.css("margin-bottom"),10);e+s<window.innerHeight?this.dialog.css({top:window.innerHeight/2-e/2-s}):this.dialog.css({top:""})}},updateScrollable:function(){var t=this.dialog.find(".uk-overflow-container:visible:first");if(t.length){t.css("height",0);var e=Math.abs(parseInt(this.dialog.css("margin-top"),10)),i=this.dialog.outerHeight(),s=window.innerHeight,n=s-2*(20>e?20:e)-i;return t.css("height",n<this.options.minScrollHeight?"":n),!0}return!1},_hide:function(){this.element.hide().removeClass("uk-open"),this.element.attr("aria-hidden","true"),n.removeClass("uk-modal-page"),i.css(this.paddingdir,""),s===this&&(s=!1),this.trigger("hide.uk.modal")},isActive:function(){return s==this}}),t.component("modalTrigger",{boot:function(){t.$html.on("click.modal.uikit","[data-uk-modal]",function(e){var i=t.$(this);if(i.is("a")&&e.preventDefault(),!i.data("modalTrigger")){var s=t.modalTrigger(i,t.Utils.options(i.attr("data-uk-modal")));s.show()}}),t.$html.on("keydown.modal.uikit",function(t){s&&27===t.keyCode&&s.options.keyboard&&(t.preventDefault(),s.hide())}),t.$win.on("resize orientationchange",t.Utils.debounce(function(){s&&s.resize()},150))},init:function(){var e=this;this.options=t.$.extend({target:e.element.is("a")?e.element.attr("href"):!1},this.options),this.modal=t.modal(this.options.target,this.options),this.on("click",function(t){t.preventDefault(),e.show()}),this.proxy(this.modal,"show hide isActive")}}),t.modal.dialog=function(i,s){var n=t.modal(t.$(t.modal.dialog.template).appendTo("body"),s);return n.on("hide.uk.modal",function(){n.persist&&(n.persist.appendTo(n.persist.data("modalPersistParent")),n.persist=!1),n.element.remove()}),e(i,n),n},t.modal.dialog.template='<div class="uk-modal"><div class="uk-modal-dialog" style="min-height:0;"></div></div>',t.modal.alert=function(e,i){t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(e)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary uk-modal-close">Ok</button></div>'].join(""),t.$.extend({bgclose:!1,keyboard:!1},i)).show()},t.modal.confirm=function(e,i,s){i=t.$.isFunction(i)?i:function(){};var n=t.modal.dialog(['<div class="uk-margin uk-modal-content">'+String(e)+"</div>",'<div class="uk-modal-footer uk-text-right"><button class="uk-button uk-button-primary js-modal-confirm">Ok</button> <button class="uk-button uk-modal-close">Cancel</button></div>'].join(""),t.$.extend({bgclose:!1,keyboard:!1},s));n.element.find(".js-modal-confirm").on("click",function(){i(),n.hide()}),n.show()}}(UIkit),function(t){"use strict";function e(e){var i=t.$(e),s="auto";if(i.is(":visible"))s=i.outerHeight();else{var n={position:i.css("position"),visibility:i.css("visibility"),display:i.css("display")};s=i.css({position:"absolute",visibility:"hidden",display:"block"}).outerHeight(),i.css(n)}return s}t.component("nav",{defaults:{toggle:">li.uk-parent > a[href='#']",lists:">li.uk-parent > ul",multiple:!1},boot:function(){t.ready(function(e){t.$("[data-uk-nav]",e).each(function(){var e=t.$(this);if(!e.data("nav")){t.nav(e,t.Utils.options(e.attr("data-uk-nav")))}})})},init:function(){var e=this;this.on("click.uikit.nav",this.options.toggle,function(i){i.preventDefault();var s=t.$(this);e.open(s.parent()[0]==e.element[0]?s:s.parent("li"))}),this.find(this.options.lists).each(function(){var i=t.$(this),s=i.parent(),n=s.hasClass("uk-active");i.wrap('<div style="overflow:hidden;height:0;position:relative;"></div>'),s.data("list-container",i.parent()),s.attr("aria-expanded",s.hasClass("uk-open")),n&&e.open(s,!0)})},open:function(i,s){var n=this,o=this.element,r=t.$(i);this.options.multiple||o.children(".uk-open").not(i).each(function(){var e=t.$(this);e.data("list-container")&&e.data("list-container").stop().animate({height:0},function(){t.$(this).parent().removeClass("uk-open")})}),r.toggleClass("uk-open"),r.attr("aria-expanded",r.hasClass("uk-open")),r.data("list-container")&&(s?(r.data("list-container").stop().height(r.hasClass("uk-open")?"auto":0),this.trigger("display.uk.check")):r.data("list-container").stop().animate({height:r.hasClass("uk-open")?e(r.data("list-container").find("ul:first")):0},function(){n.trigger("display.uk.check")}))}})}(UIkit),function(t){"use strict";var e={x:window.scrollX,y:window.scrollY},i=(t.$win,t.$doc),s=t.$html,n={show:function(n){if(n=t.$(n),n.length){var o=t.$("body"),r=n.find(".uk-offcanvas-bar:first"),a="right"==t.langdirection,l=r.hasClass("uk-offcanvas-bar-flip")?-1:1,c=l*(a?-1:1);e={x:window.pageXOffset,y:window.pageYOffset},n.addClass("uk-active"),o.css({width:window.innerWidth,height:window.innerHeight}).addClass("uk-offcanvas-page"),o.css(a?"margin-right":"margin-left",(a?-1:1)*(r.outerWidth()*c)).width(),s.css("margin-top",-1*e.y),r.addClass("uk-offcanvas-bar-show"),this._initElement(n),i.trigger("show.uk.offcanvas",[n,r]),n.attr("aria-hidden","false")}},hide:function(i){var n=t.$("body"),o=t.$(".uk-offcanvas.uk-active"),r="right"==t.langdirection,a=o.find(".uk-offcanvas-bar:first"),l=function(){n.removeClass("uk-offcanvas-page").css({width:"",height:"","margin-left":"","margin-right":""}),o.removeClass("uk-active"),a.removeClass("uk-offcanvas-bar-show"),s.css("margin-top",""),window.scrollTo(e.x,e.y),t.$doc.trigger("hide.uk.offcanvas",[o,a]),o.attr("aria-hidden","true")};o.length&&(t.support.transition&&!i?(n.one(t.support.transition.end,function(){l()}).css(r?"margin-right":"margin-left",""),setTimeout(function(){a.removeClass("uk-offcanvas-bar-show")},0)):l())},_initElement:function(e){e.data("OffcanvasInit")||(e.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(e){var i=t.$(e.target);if(!e.type.match(/swipe/)&&!i.hasClass("uk-offcanvas-close")){if(i.hasClass("uk-offcanvas-bar"))return;if(i.parents(".uk-offcanvas-bar:first").length)return}e.stopImmediatePropagation(),n.hide()}),e.on("click","a[href^='#']",function(e){var i=t.$(this),s=i.attr("href");"#"!=s&&(t.$doc.one("hide.uk.offcanvas",function(){var e=t.$(s);e.length||(e=t.$('[name="'+s.replace("#","")+'"]')),t.Utils.scrollToElement&&e.length?t.Utils.scrollToElement(e):window.location.href=s}),n.hide())}),e.data("OffcanvasInit",!0))}};t.component("offcanvasTrigger",{boot:function(){s.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(e){e.preventDefault();var i=t.$(this);if(!i.data("offcanvasTrigger")){t.offcanvasTrigger(i,t.Utils.options(i.attr("data-uk-offcanvas")));i.trigger("click")}}),s.on("keydown.uk.offcanvas",function(t){27===t.keyCode&&n.hide()})},init:function(){var e=this;this.options=t.$.extend({target:e.element.is("a")?e.element.attr("href"):!1},this.options),this.on("click",function(t){t.preventDefault(),n.show(e.options.target)})}}),t.offcanvas=n}(UIkit),function(t){"use strict";function e(e,i,s){var n,o=t.$.Deferred(),r=e,a=e;return s[0]===i[0]?(o.resolve(),o.promise()):("object"==typeof e&&(r=e[0],a=e[1]||e[0]),n=function(){i&&i.hide().removeClass("uk-active "+a+" uk-animation-reverse"),s.addClass(r).one(t.support.animation.end,function(){s.removeClass(""+r).css({opacity:"",display:""}),o.resolve(),i&&i.css({opacity:"",display:""})}.bind(this)).show()},s.css("animation-duration",this.options.duration+"ms"),i&&i.length?(i.css("animation-duration",this.options.duration+"ms"),i.css("display","none").addClass(a+" uk-animation-reverse").one(t.support.animation.end,function(){n()}.bind(this)).css("display","")):(s.addClass("uk-active"),n()),o.promise())}var i;t.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200},animating:!1,boot:function(){t.ready(function(e){t.$("[data-uk-switcher]",e).each(function(){var e=t.$(this);if(!e.data("switcher")){t.switcher(e,t.Utils.options(e.attr("data-uk-switcher")))}})})},init:function(){var e=this;if(this.on("click.uikit.switcher",this.options.toggle,function(t){t.preventDefault(),e.show(this)}),this.options.connect){this.connect=t.$(this.options.connect),this.connect.find(".uk-active").removeClass(".uk-active"),this.connect.length&&(this.connect.children().attr("aria-hidden","true"),this.connect.on("click","[data-uk-switcher-item]",function(i){i.preventDefault();var s=t.$(this).attr("data-uk-switcher-item");if(e.index!=s)switch(s){case"next":case"previous":e.show(e.index+("next"==s?1:-1));break;default:e.show(parseInt(s,10))}}).on("swipeRight swipeLeft",function(t){t.preventDefault(),e.show(e.index+("swipeLeft"==t.type?1:-1))}));var i=this.find(this.options.toggle),s=i.filter(".uk-active");if(s.length)this.show(s,!1);else{if(this.options.active===!1)return;s=i.eq(this.options.active),this.show(s.length?s:i.eq(0),!1)}i.not(s).attr("aria-expanded","false"),s.attr("aria-expanded","true"),this.on("changed.uk.dom",function(){e.connect=t.$(e.options.connect)})}},show:function(s,n){if(!this.animating){if(isNaN(s))s=t.$(s);else{var o=this.find(this.options.toggle);s=0>s?o.length-1:s,s=o.eq(o[s]?s:0)}var r=this,o=this.find(this.options.toggle),a=t.$(s),l=i[this.options.animation]||function(t,s){if(!r.options.animation)return i.none.apply(r);var n=r.options.animation.split(",");return 1==n.length&&(n[1]=n[0]),n[0]=n[0].trim(),n[1]=n[1].trim(),e.apply(r,[n,t,s])};n!==!1&&t.support.animation||(l=i.none),a.hasClass("uk-disabled")||(o.attr("aria-expanded","false"),a.attr("aria-expanded","true"),o.filter(".uk-active").removeClass("uk-active"),a.addClass("uk-active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(a),-1==this.index&&(this.index=0),this.connect.each(function(){var e=t.$(this),i=t.$(e.children()),s=t.$(i.filter(".uk-active")),n=t.$(i.eq(r.index));r.animating=!0,l.apply(r,[s,n]).then(function(){s.removeClass("uk-active"),n.addClass("uk-active"),s.attr("aria-hidden","true"),n.attr("aria-hidden","false"),t.Utils.checkDisplay(n,!0),r.animating=!1})})),this.trigger("show.uk.switcher",[a]))}}}),i={none:function(){var e=t.$.Deferred();return e.resolve(),e.promise()},fade:function(t,i){return e.apply(this,["uk-animation-fade",t,i])},"slide-bottom":function(t,i){return e.apply(this,["uk-animation-slide-bottom",t,i])},"slide-top":function(t,i){return e.apply(this,["uk-animation-slide-top",t,i])},"slide-vertical":function(t,i,s){var n=["uk-animation-slide-top","uk-animation-slide-bottom"];return t&&t.index()>i.index()&&n.reverse(),e.apply(this,[n,t,i])},"slide-left":function(t,i){return e.apply(this,["uk-animation-slide-left",t,i])},"slide-right":function(t,i){return e.apply(this,["uk-animation-slide-right",t,i])},"slide-horizontal":function(t,i,s){var n=["uk-animation-slide-right","uk-animation-slide-left"];return t&&t.index()>i.index()&&n.reverse(),e.apply(this,[n,t,i])},scale:function(t,i){return e.apply(this,["uk-animation-scale-up",t,i])}},t.switcher.animations=i}(UIkit),function(t){"use strict";t.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200},boot:function(){t.ready(function(e){t.$("[data-uk-tab]",e).each(function(){var e=t.$(this);if(!e.data("tab")){t.tab(e,t.Utils.options(e.attr("data-uk-tab")))}})})},init:function(){var e=this;this.on("click.uikit.tab",this.options.target,function(i){if(i.preventDefault(),!e.switcher||!e.switcher.animating){var s=e.find(e.options.target).not(this);s.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[t.$(this).addClass("uk-active")]),e.options.connect||(s.attr("aria-expanded","false"),t.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=t.$(this.options.connect)),this.responsivetab=t.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uikit.tab","a",function(i){i.preventDefault(),i.stopPropagation();var s=t.$(this);e.element.children(":not(.uk-tab-responsive)").eq(s.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(t,i){e.responsivetab.caption.html(i.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=t.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration})),t.dropdown(this.responsivetab,{mode:"click"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).filter(".uk-active")]),this.check(),t.$win.on("resize orientationchange",t.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var e=this.element.children(":not(.uk-tab-responsive)").removeClass("uk-hidden");if(e.length){var i,s,n=e.eq(0).offset().top+Math.ceil(e.eq(0).height()/2),o=!1;if(this.responsivetab.lst.empty(),e.each(function(){t.$(this).offset().top>n&&(o=!0)}),o)for(var r=0;r<e.length;r++)i=t.$(e.eq(r)),s=i.find("a"),"none"==i.css("float")||i.attr("uk-dropdown")||(i.addClass("uk-hidden"),i.hasClass("uk-disabled")||this.responsivetab.lst.append('<li><a href="'+s.attr("href")+'" data-index="'+r+'">'+s.html()+"</a></li>"));this.responsivetab[this.responsivetab.lst.children().length?"removeClass":"addClass"]("uk-hidden")}}})}(UIkit),function(t){"use strict";t.component("cover",{defaults:{automute:!0},boot:function(){t.ready(function(e){t.$("[data-uk-cover]",e).each(function(){var e=t.$(this);if(!e.data("cover")){t.cover(e,t.Utils.options(e.attr("data-uk-cover")))}})})},init:function(){if(this.parent=this.element.parent(),t.$win.on("load resize orientationchange",t.Utils.debounce(function(){this.check()}.bind(this),100)),this.on("display.uk.check",function(t){this.element.is(":visible")&&this.check()}.bind(this)),this.check(),this.element.is("iframe")&&this.options.automute){var e=this.element.attr("src");this.element.attr("src","").on("load",function(){this.contentWindow.postMessage('{ "event": "command", "func": "mute", "method":"setVolume", "value":0}',"*")}).attr("src",[e,e.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))}},check:function(){this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h;var t,e,i=this.parent.width(),s=this.parent.height();i/this.ratio<s?(t=Math.ceil(s*this.ratio),e=s):(t=i,e=Math.ceil(i/this.ratio)),this.element.css({width:t,height:e})}})}(UIkit),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t){var e={init:function(e){return this.options=t.extend({},t.noty.defaults,e),this.options.layout=this.options.custom?t.noty.layouts.inline:t.noty.layouts[this.options.layout],t.noty.themes[this.options.theme]?this.options.theme=t.noty.themes[this.options.theme]:e.themeClassName=this.options.theme,delete e.layout,delete e.theme,this.options=t.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this.options=t.extend({},this.options,e),this._build(),this},_build:function(){var e=t('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(e.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?t(this.options.layout.parent.object).css(this.options.layout.parent.css).append(e):e,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var i=t("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(i):this.$bar.append(i);var s=this;t.each(this.options.buttons,function(e,i){var n=t("<button/>").addClass(i.addClass?i.addClass:"gray").html(i.text).attr("id",i.id?i.id:"button-"+e).appendTo(s.$bar.find(".noty_buttons")).on("click",function(){t.isFunction(i.onClick)&&i.onClick.call(n,s)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),t.noty.store[this.options.id]=this},show:function(){var e=this;return e.options.custom?e.options.custom.find(e.options.layout.container.selector).append(e.$bar):t(e.options.layout.container.selector).append(e.$bar),e.options.theme&&e.options.theme.style&&e.options.theme.style.apply(e),"function"===t.type(e.options.layout.css)?this.options.layout.css.apply(e.$bar):e.$bar.css(this.options.layout.css||{}),e.$bar.addClass(e.options.layout.addClass),e.options.layout.container.style.apply(t(e.options.layout.container.selector)),e.showing=!0,e.options.theme&&e.options.theme.style&&e.options.theme.callback.onShow.apply(this),t.inArray("click",e.options.closeWith)>-1&&e.$bar.css("cursor","pointer").one("click",function(t){e.stopPropagation(t),e.options.callback.onCloseClick&&e.options.callback.onCloseClick.apply(e),e.close()}),t.inArray("hover",e.options.closeWith)>-1&&e.$bar.one("mouseenter",function(){e.close()}),t.inArray("button",e.options.closeWith)>-1&&e.$closeButton.one("click",function(t){e.stopPropagation(t),e.close()}),-1==t.inArray("button",e.options.closeWith)&&e.$closeButton.remove(),e.options.callback.onShow&&e.options.callback.onShow.apply(e),e.$bar.animate(e.options.animation.open,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0}),e.options.timeout&&e.$bar.delay(e.options.timeout).promise().done(function(){e.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var e=this;if(this.showing)return void e.$bar.queue(function(){e.close.apply(e)});if(!this.shown&&!this.showing){var i=[];return t.each(t.noty.queue,function(t,s){s.options.id!=e.options.id&&i.push(s)}),void(t.noty.queue=i)}e.$bar.addClass("i-am-closing-now"),e.options.callback.onClose&&e.options.callback.onClose.apply(e),e.$bar.clearQueue().stop().animate(e.options.animation.close,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e)}).promise().done(function(){e.options.modal&&(t.notyRenderer.setModalCount(-1),0==t.notyRenderer.getModalCount()&&t(".noty_modal").fadeOut("fast",function(){t(this).remove()})),t.notyRenderer.setLayoutCountFor(e,-1),0==t.notyRenderer.getLayoutCountFor(e)&&t(e.options.layout.container.selector).remove(),"undefined"!=typeof e.$bar&&null!==e.$bar&&(e.$bar.remove(),e.$bar=null,e.closed=!0),delete t.noty.store[e.options.id],e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e),e.options.dismissQueue||(t.noty.ontap=!0,t.notyRenderer.render()),e.options.maxVisible>0&&e.options.dismissQueue&&t.notyRenderer.render()})}},setText:function(t){return this.closed||(this.options.text=t,this.$bar.find(".noty_text").html(t)),this},setType:function(t){return this.closed||(this.options.type=t,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(t){if(!this.closed){var e=this;this.options.timeout=t,e.$bar.delay(e.options.timeout).promise().done(function(){e.close()})}return this},stopPropagation:function(t){t=t||window.event,"undefined"!=typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},closed:!1,showing:!1,shown:!1};t.notyRenderer={},t.notyRenderer.init=function(i){var s=Object.create(e).init(i);return s.options.killer&&t.noty.closeAll(),s.options.force?t.noty.queue.unshift(s):t.noty.queue.push(s),t.notyRenderer.render(),"object"==t.noty.returns?s:s.options.id},t.notyRenderer.render=function(){var e=t.noty.queue[0];"object"===t.type(e)?e.options.dismissQueue?e.options.maxVisible>0?t(e.options.layout.container.selector+" li").length<e.options.maxVisible&&t.notyRenderer.show(t.noty.queue.shift()):t.notyRenderer.show(t.noty.queue.shift()):t.noty.ontap&&(t.notyRenderer.show(t.noty.queue.shift()),t.noty.ontap=!1):t.noty.ontap=!0},t.notyRenderer.show=function(e){e.options.modal&&(t.notyRenderer.createModalFor(e),t.notyRenderer.setModalCount(1)),e.options.custom?0==e.options.custom.find(e.options.layout.container.selector).length?e.options.custom.append(t(e.options.layout.container.object).addClass("i-am-new")):e.options.custom.find(e.options.layout.container.selector).removeClass("i-am-new"):0==t(e.options.layout.container.selector).length?t("body").append(t(e.options.layout.container.object).addClass("i-am-new")):t(e.options.layout.container.selector).removeClass("i-am-new"),t.notyRenderer.setLayoutCountFor(e,1),e.show()},t.notyRenderer.createModalFor=function(e){if(0==t(".noty_modal").length){var i=t("<div/>").addClass("noty_modal").addClass(e.options.theme).data("noty_modal_count",0);e.options.theme.modal&&e.options.theme.modal.css&&i.css(e.options.theme.modal.css),i.prependTo(t("body")).fadeIn("fast")}},t.notyRenderer.getLayoutCountFor=function(e){return t(e.options.layout.container.selector).data("noty_layout_count")||0},t.notyRenderer.setLayoutCountFor=function(e,i){return t(e.options.layout.container.selector).data("noty_layout_count",t.notyRenderer.getLayoutCountFor(e)+i)},t.notyRenderer.getModalCount=function(){return t(".noty_modal").data("noty_modal_count")||0},t.notyRenderer.setModalCount=function(e){return t(".noty_modal").data("noty_modal_count",t.notyRenderer.getModalCount()+e)},t.fn.noty=function(e){return e.custom=t(this),t.notyRenderer.init(e)},t.noty={},t.noty.queue=[],t.noty.ontap=!0,t.noty.layouts={},t.noty.themes={},t.noty.returns="object",t.noty.store={},
t.noty.get=function(e){return t.noty.store.hasOwnProperty(e)?t.noty.store[e]:!1},t.noty.close=function(e){return t.noty.get(e)?t.noty.get(e).close():!1},t.noty.setText=function(e,i){return t.noty.get(e)?t.noty.get(e).setText(i):!1},t.noty.setType=function(e,i){return t.noty.get(e)?t.noty.get(e).setType(i):!1},t.noty.clearQueue=function(){t.noty.queue=[]},t.noty.closeAll=function(){t.noty.clearQueue(),t.each(t.noty.store,function(t,e){e.close()})};var i=window.alert;t.noty.consumeAlert=function(e){window.alert=function(i){e?e.text=i:e={text:i},t.notyRenderer.init(e)}},t.noty.stopConsumeAlert=function(){window.alert=i},t.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},t(window).on("resize",function(){t.each(t.noty.layouts,function(e,i){i.container.style.apply(t(i.container.selector))})})}(jQuery),window.noty=function(t){return jQuery.notyRenderer.init(t)},function(t){t.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){t(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(t){t.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){t(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){t(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){t(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){t(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var i=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-i)/2+"px"}):t(this).animate({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-i)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){t(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var i=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-i)/2+"px"}):t(this).animate({top:(t(window).height()-i)/2+"px"},500),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){t(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var i=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-i)/2+"px"}):t(this).animate({top:(t(window).height()-i)/2+"px"},500),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){t(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(t){t.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){t(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function(t){t.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){t(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){t(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){t(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function(t){t.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var e=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),t(e).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){t(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){t(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}}(jQuery),function(t){function e(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function i(t,e){return Dt.call(t,e)}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t){wt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function o(t,e){var i=!0;return f(function(){return i&&(n(t),i=!1),e.apply(this,arguments)},e)}function r(t,e){be[t]||(n(e),be[t]=!0)}function a(t,e){return function(i){return v(t.call(this,i),e)}}function l(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function c(t,e){var i,s,n=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(n,"months");return 0>e-o?(i=t.clone().add(n-1,"months"),s=(e-o)/(o-i)):(i=t.clone().add(n+1,"months"),s=(e-o)/(i-o)),-(n+s)}function u(t,e,i){var s;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(s=t.isPM(i),s&&12>e&&(e+=12),s||12!==e||(e=0),e):e}function d(){}function h(t,e){e!==!1&&$(t),m(this,t),this._d=new Date(+t._d),ke===!1&&(ke=!0,wt.updateOffset(this),ke=!1)}function p(t){var e=T(t),i=e.year||0,s=e.quarter||0,n=e.month||0,o=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+r+7*o,this._months=+n+3*s+12*i,this._data={},this._locale=wt.localeData(),this._bubble()}function f(t,e){for(var s in e)i(e,s)&&(t[s]=e[s]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var i,s,n;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Et.length>0)for(i in Et)s=Et[i],n=e[s],"undefined"!=typeof n&&(t[s]=n);return t}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,i){for(var s=""+Math.abs(t),n=t>=0;s.length<e;)s="0"+s;return(n?i?"+":"":"-")+s}function b(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function y(t,e){var i;return e=Y(e,t),t.isBefore(e)?i=b(t,e):(i=b(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function k(t,e){return function(i,s){var n,o;return null===s||isNaN(+s)||(r(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=i,i=s,s=o),i="string"==typeof i?+i:i,n=wt.duration(i,s),w(this,n,t),this}}function w(t,e,i,s){var n=e._milliseconds,o=e._days,r=e._months;s=null==s?!0:s,n&&t._d.setTime(+t._d+n*i),o&&mt(t,"Date",ft(t,"Date")+o*i),r&&pt(t,ft(t,"Month")+r*i),s&&wt.updateOffset(t,o||r)}function x(t){return"[object Array]"===Object.prototype.toString.call(t)}function _(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function C(t,e,i){var s,n=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),r=0;for(s=0;n>s;s++)(i&&t[s]!==e[s]||!i&&q(t[s])!==q(e[s]))&&r++;return r+o}function A(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=de[t]||he[e]||e}return t}function T(t){var e,s,n={};for(s in t)i(t,s)&&(e=A(s),e&&(n[e]=t[s]));return n}function D(e){var i,s;if(0===e.indexOf("week"))i=7,s="day";else{if(0!==e.indexOf("month"))return;i=12,s="month"}wt[e]=function(n,o){var r,a,l=wt._locale[e],c=[];if("number"==typeof n&&(o=n,n=t),a=function(t){var e=wt().utc().set(s,t);return l.call(wt._locale,e,n||"")},null!=o)return a(o);for(r=0;i>r;r++)c.push(a(r));return c}}function q(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function S(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function M(t,e,i){return ct(wt([t,11,31+e-i]),e,i).week}function H(t){return O(t)?366:365}function O(t){return t%4===0&&t%100!==0||t%400===0}function $(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[St]<0||t._a[St]>11?St:t._a[Mt]<1||t._a[Mt]>S(t._a[qt],t._a[St])?Mt:t._a[Ht]<0||t._a[Ht]>24||24===t._a[Ht]&&(0!==t._a[Ot]||0!==t._a[$t]||0!==t._a[jt])?Ht:t._a[Ot]<0||t._a[Ot]>59?Ot:t._a[$t]<0||t._a[$t]>59?$t:t._a[jt]<0||t._a[jt]>999?jt:-1,t._pf._overflowDayOfYear&&(qt>e||e>Mt)&&(e=Mt),t._pf.overflow=e)}function j(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function F(t){return t?t.toLowerCase().replace("_","-"):t}function E(t){for(var e,i,s,n,o=0;o<t.length;){for(n=F(t[o]).split("-"),e=n.length,i=F(t[o+1]),i=i?i.split("-"):null;e>0;){if(s=P(n.slice(0,e).join("-")))return s;if(i&&i.length>=e&&C(n,i,!0)>=e-1)break;e--}o++}return null}function P(t){var e=null;if(!Ft[t]&&Pt)try{e=wt.locale(),require("./locale/"+t),wt.locale(e)}catch(i){}return Ft[t]}function Y(t,e){var i,s;return e._isUTC?(i=e.clone(),s=(wt.isMoment(t)||_(t)?+t:+wt(t))-+i,i._d.setTime(+i._d+s),wt.updateOffset(i,!1),i):wt(t).local()}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,i,s=t.match(It);for(e=0,i=s.length;i>e;e++)ve[s[e]]?s[e]=ve[s[e]]:s[e]=N(s[e]);return function(n){var o="";for(e=0;i>e;e++)o+=s[e]instanceof Function?s[e].call(n,t):s[e];return o}}function I(t,e){return t.isValid()?(e=R(e,t.localeData()),pe[e]||(pe[e]=U(e)),pe[e](t)):t.localeData().invalidDate()}function R(t,e){function i(t){return e.longDateFormat(t)||t}var s=5;for(Rt.lastIndex=0;s>=0&&Rt.test(t);)t=t.replace(Rt,i),Rt.lastIndex=0,s-=1;return t}function L(t,e){var i,s=e._strict;switch(t){case"Q":return Xt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return s?ie:Wt;case"Y":case"G":case"g":return ne;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return s?se:zt;case"S":if(s)return Xt;case"SS":if(s)return te;case"SSS":if(s)return ee;case"DDD":return Bt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Vt;case"a":case"A":return e._locale._meridiemParse;case"x":return Jt;case"X":return Kt;case"Z":case"ZZ":return Gt;case"T":return Zt;case"SSSS":return Qt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return s?te:Lt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Lt;case"Do":return s?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(K(J(t.replace("\\","")),"i"))}}function B(t){t=t||"";var e=t.match(Gt)||[],i=e[e.length-1]||[],s=(i+"").match(ce)||["-",0,0],n=+(60*s[1])+q(s[2]);return"+"===s[0]?n:-n}function W(t,e,i){var s,n=i._a;switch(t){case"Q":null!=e&&(n[St]=3*(q(e)-1));break;case"M":case"MM":null!=e&&(n[St]=q(e)-1);break;case"MMM":case"MMMM":s=i._locale.monthsParse(e,t,i._strict),null!=s?n[St]=s:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(n[Mt]=q(e));break;case"Do":null!=e&&(n[Mt]=q(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=q(e));break;case"YY":n[qt]=wt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":n[qt]=q(e);break;case"a":case"A":i._meridiem=e;break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":n[Ht]=q(e);break;case"m":case"mm":n[Ot]=q(e);break;case"s":case"ss":n[$t]=q(e);break;case"S":case"SS":case"SSS":case"SSSS":n[jt]=q(1e3*("0."+e));break;case"x":i._d=new Date(q(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=B(e);break;case"dd":case"ddd":case"dddd":s=i._locale.weekdaysParse(e),null!=s?(i._w=i._w||{},i._w.d=s):i._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=q(e));break;case"gg":case"GG":i._w=i._w||{},i._w[t]=wt.parseTwoDigitYear(e)}}function z(t){var i,s,n,o,r,a,l;i=t._w,null!=i.GG||null!=i.W||null!=i.E?(r=1,a=4,s=e(i.GG,t._a[qt],ct(wt(),1,4).year),n=e(i.W,1),o=e(i.E,1)):(r=t._locale._week.dow,a=t._locale._week.doy,s=e(i.gg,t._a[qt],ct(wt(),r,a).year),n=e(i.w,1),null!=i.d?(o=i.d,r>o&&++n):o=null!=i.e?i.e+r:r),l=ut(s,n,o,a,r),t._a[qt]=l.year,t._dayOfYear=l.dayOfYear}function Q(t){var i,s,n,o,r=[];if(!t._d){for(n=G(t),t._w&&null==t._a[Mt]&&null==t._a[St]&&z(t),t._dayOfYear&&(o=e(t._a[qt],n[qt]),t._dayOfYear>H(o)&&(t._pf._overflowDayOfYear=!0),s=ot(o,0,t._dayOfYear),t._a[St]=s.getUTCMonth(),t._a[Mt]=s.getUTCDate()),i=0;3>i&&null==t._a[i];++i)t._a[i]=r[i]=n[i];for(;7>i;i++)t._a[i]=r[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[Ht]&&0===t._a[Ot]&&0===t._a[$t]&&0===t._a[jt]&&(t._nextDay=!0,t._a[Ht]=0),t._d=(t._useUTC?ot:nt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ht]=24)}}function V(t){var e;t._d||(e=T(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Q(t))}function G(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Z(e){if(e._f===wt.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var i,s,n,o,r,a=""+e._i,l=a.length,c=0;for(n=R(e._f,e._locale).match(It)||[],i=0;i<n.length;i++)o=n[i],s=(a.match(L(o,e))||[])[0],s&&(r=a.substr(0,a.indexOf(s)),r.length>0&&e._pf.unusedInput.push(r),a=a.slice(a.indexOf(s)+s.length),c+=s.length),ve[o]?(s?e._pf.empty=!1:e._pf.unusedTokens.push(o),W(o,s,e)):e._strict&&!s&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-c,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[Ht]<=12&&(e._pf.bigHour=t),e._a[Ht]=u(e._locale,e._a[Ht],e._meridiem),Q(e),$(e)}function J(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,n){return e||i||s||n})}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t){var e,i,n,o,r;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=s(),e._f=t._f[o],Z(e),j(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==n||n>r)&&(n=r,i=e));f(t,i||e)}function tt(t){var e,i,s=t._i,n=oe.exec(s);if(n){for(t._pf.iso=!0,e=0,i=ae.length;i>e;e++)if(ae[e][1].exec(s)){t._f=ae[e][0]+(n[6]||" ");break}for(e=0,i=le.length;i>e;e++)if(le[e][1].exec(s)){t._f+=le[e][0];break}s.match(Gt)&&(t._f+="Z"),Z(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,wt.createFromInputFallback(t))}function it(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}function st(e){var i,s=e._i;s===t?e._d=new Date:_(s)?e._d=new Date(+s):null!==(i=Yt.exec(s))?e._d=new Date(+i[1]):"string"==typeof s?et(e):x(s)?(e._a=it(s.slice(0),function(t){return parseInt(t,10)}),Q(e)):"object"==typeof s?V(e):"number"==typeof s?e._d=new Date(s):wt.createFromInputFallback(e)}function nt(t,e,i,s,n,o,r){var a=new Date(t,e,i,s,n,o,r);return 1970>t&&a.setFullYear(t),a}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function rt(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function at(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}function lt(t,e,i){var s=wt.duration(t).abs(),n=Tt(s.as("s")),o=Tt(s.as("m")),r=Tt(s.as("h")),a=Tt(s.as("d")),l=Tt(s.as("M")),c=Tt(s.as("y")),u=n<fe.s&&["s",n]||1===o&&["m"]||o<fe.m&&["mm",o]||1===r&&["h"]||r<fe.h&&["hh",r]||1===a&&["d"]||a<fe.d&&["dd",a]||1===l&&["M"]||l<fe.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=i,at.apply({},u)}function ct(t,e,i){var s,n=i-e,o=i-t.day();return o>n&&(o-=7),n-7>o&&(o+=7),s=wt(t).add(o,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function ut(t,e,i,s,n){var o,r,a=ot(t,0,1).getUTCDay();return a=0===a?7:a,i=null!=i?i:n,o=n-a+(a>s?7:0)-(n>a?7:0),r=7*(e-1)+(i-n)+o+1,{year:r>0?t:t-1,dayOfYear:r>0?r:H(t-1)+r}}function dt(e){var i,s=e._i,n=e._f;return e._locale=e._locale||wt.localeData(e._l),null===s||n===t&&""===s?wt.invalid({nullInput:!0}):("string"==typeof s&&(e._i=s=e._locale.preparse(s)),wt.isMoment(s)?new h(s,!0):(n?x(n)?X(e):Z(e):st(e),i=new h(e),i._nextDay&&(i.add(1,"d"),i._nextDay=t),i))}function ht(t,e){var i,s;if(1===e.length&&x(e[0])&&(e=e[0]),!e.length)return wt();for(i=e[0],s=1;s<e.length;++s)e[s][t](i)&&(i=e[s]);return i}function pt(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),S(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function ft(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,i){return"Month"===e?pt(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function gt(t,e){return function(i){return null!=i?(mt(this,t,i),wt.updateOffset(this,e),this):ft(this,t)}}function vt(t){return 400*t/146097}function bt(t){return 146097*t/400}function yt(t){wt.duration.fn[t]=function(){return this._data[t]}}function kt(t){"undefined"==typeof ender&&(xt=At.moment,t?At.moment=o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",wt):At.moment=wt)}for(var wt,xt,_t,Ct="2.9.0",At="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Tt=Math.round,Dt=Object.prototype.hasOwnProperty,qt=0,St=1,Mt=2,Ht=3,Ot=4,$t=5,jt=6,Ft={},Et=[],Pt="undefined"!=typeof module&&module&&module.exports,Yt=/^\/?Date\((\-?\d+)/i,Nt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ut=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,It=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Rt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lt=/\d\d?/,Bt=/\d{1,3}/,Wt=/\d{1,4}/,zt=/[+\-]?\d{1,6}/,Qt=/\d+/,Vt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gt=/Z|[\+\-]\d\d:?\d\d/gi,Zt=/T/i,Jt=/[\+\-]?\d+/,Kt=/[\+\-]?\d+(\.\d{1,3})?/,Xt=/\d/,te=/\d\d/,ee=/\d{3}/,ie=/\d{4}/,se=/[+-]?\d{6}/,ne=/[+-]?\d+/,oe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,re="YYYY-MM-DDTHH:mm:ssZ",ae=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],le=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ce=/([\+\-]|\d\d)/gi,ue=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),de={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},he={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pe={},fe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t);
},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return q(this.milliseconds()/100)},SS:function(){return v(q(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(q(t/60),2)+":"+v(q(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(q(t/60),2)+v(q(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},be={},ye=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],ke=!1;me.length;)_t=me.pop(),ve[_t+"o"]=l(ve[_t],_t);for(;ge.length;)_t=ge.pop(),ve[_t+_t]=a(ve[_t],2);ve.DDDD=a(ve.DDD,3),f(d.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var s,n,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(n=wt.utc([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(o="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=wt([2e3,1]).day(e),s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var s=this._calendar[t];return"function"==typeof s?s.apply(e,[i]):s},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,s){var n=this._relativeTime[i];return"function"==typeof n?n(t,e,i,s):n.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ct(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),wt=function(e,i,n,o){var r;return"boolean"==typeof n&&(o=n,n=t),r={},r._isAMomentObject=!0,r._i=e,r._f=i,r._l=n,r._strict=o,r._isUTC=!1,r._pf=s(),dt(r)},wt.suppressDeprecationWarnings=!1,wt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),wt.min=function(){var t=[].slice.call(arguments,0);return ht("isBefore",t)},wt.max=function(){var t=[].slice.call(arguments,0);return ht("isAfter",t)},wt.utc=function(e,i,n,o){var r;return"boolean"==typeof n&&(o=n,n=t),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=n,r._i=e,r._f=i,r._strict=o,r._pf=s(),dt(r).utc()},wt.unix=function(t){return wt(1e3*t)},wt.duration=function(t,e){var s,n,o,r,a=t,l=null;return wt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Nt.exec(t))?(s="-"===l[1]?-1:1,a={y:0,d:q(l[Mt])*s,h:q(l[Ht])*s,m:q(l[Ot])*s,s:q(l[$t])*s,ms:q(l[jt])*s}):(l=Ut.exec(t))?(s="-"===l[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*s},a={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=y(wt(a.from),wt(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),n=new p(a),wt.isDuration(t)&&i(t,"_locale")&&(n._locale=t._locale),n},wt.version=Ct,wt.defaultFormat=re,wt.ISO_8601=function(){},wt.momentProperties=Et,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(e,i){return fe[e]===t?!1:i===t?fe[e]:(fe[e]=i,!0)},wt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return wt.locale(t,e)}),wt.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?wt.defineLocale(t,e):wt.localeData(t),i&&(wt.duration._locale=wt._locale=i)),wt._locale._abbr},wt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Ft[t]||(Ft[t]=new d),Ft[t].set(e),wt.locale(t),Ft[t]):(delete Ft[t],null)},wt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(t){return wt.localeData(t)}),wt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wt._locale;if(!x(t)){if(e=P(t))return e;t=[t]}return E(t)},wt.isMoment=function(t){return t instanceof h||null!=t&&i(t,"_isAMomentObject")},wt.isDuration=function(t){return t instanceof p};for(_t=ye.length-1;_t>=0;--_t)D(ye[_t]);wt.normalizeUnits=function(t){return A(t)},wt.invalid=function(t){var e=wt.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(t){return q(t)+(q(t)>68?1900:2e3)},wt.isDate=_,f(wt.fn=h.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=wt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():I(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return j(this)},isDSTShifted:function(){return this._a?this.isValid()&&C(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=I(this,t||wt.defaultFormat);return this.localeData().postformat(e)},add:k(1,"add"),subtract:k(-1,"subtract"),diff:function(t,e,i){var s,n,o=Y(t,this),r=6e4*(o.utcOffset()-this.utcOffset());return e=A(e),"year"===e||"month"===e||"quarter"===e?(n=c(this,o),"quarter"===e?n/=3:"year"===e&&(n/=12)):(s=this-o,n="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),i?n:g(n)},from:function(t,e){return wt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(wt(),t)},calendar:function(t){var e=t||wt(),i=Y(e,this).startOf("day"),s=this.diff(i,"days",!0),n=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse";return this.format(this.localeData().calendar(n,this,wt(e)))},isLeapYear:function(){return O(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=rt(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=A(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=A(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=A("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this>+t):(i=wt.isMoment(t)?+t:+wt(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=A("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+t>+this):(i=wt.isMoment(t)?+t:+wt(t),+this.clone().endOf(e)<i)},isBetween:function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},isSame:function(t,e){var i;return e=A(e||"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this===+t):(i=+wt(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),this>t?this:t}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),t>this?this:t}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var i,s=this._offset||0;return null!=t?("string"==typeof t&&(t=B(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?w(this,wt.duration(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(B(this._i)),this},hasAlignedHourOffset:function(t){return t=t?wt(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return S(this.year(),this.month())},dayOfYear:function(t){var e=Tt((wt(this).startOf("day")-wt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ct(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ct(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ct(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return M(this.year(),t.dow,t.doy)},get:function(t){return t=A(t),this[t]()},set:function(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else t=A(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var i;return e===t?this._locale._abbr:(i=wt.localeData(e),null!=i&&(this._locale=i),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),wt.fn.millisecond=wt.fn.milliseconds=gt("Milliseconds",!1),wt.fn.second=wt.fn.seconds=gt("Seconds",!1),wt.fn.minute=wt.fn.minutes=gt("Minutes",!1),wt.fn.hour=wt.fn.hours=gt("Hours",!0),wt.fn.date=gt("Date",!0),wt.fn.dates=o("dates accessor is deprecated. Use date instead.",gt("Date",!0)),wt.fn.year=gt("FullYear",!0),wt.fn.years=o("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,wt.fn.isUTC=wt.fn.isUtc,f(wt.duration.fn=p.prototype,{_bubble:function(){var t,e,i,s=this._milliseconds,n=this._days,o=this._months,r=this._data,a=0;r.milliseconds=s%1e3,t=g(s/1e3),r.seconds=t%60,e=g(t/60),r.minutes=e%60,i=g(e/60),r.hours=i%24,n+=g(i/24),a=g(vt(n)),n-=g(bt(a)),o+=g(n/30),n%=30,a+=g(o/12),o%=12,r.days=n,r.months=o,r.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)},humanize:function(t){var e=lt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var i=wt.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=wt.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=A(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,i;if(t=A(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,i=this._months+12*vt(e),"month"===t?i:i/12;switch(e=this._days+Math.round(bt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),s=Math.abs(this.hours()),n=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(s||n||o?"T":"")+(s?s+"H":"")+(n?n+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),wt.duration.fn.toString=wt.duration.fn.toISOString;for(_t in ue)i(ue,_t)&&yt(_t.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as("ms")},wt.duration.fn.asSeconds=function(){return this.as("s")},wt.duration.fn.asMinutes=function(){return this.as("m")},wt.duration.fn.asHours=function(){return this.as("h")},wt.duration.fn.asDays=function(){return this.as("d")},wt.duration.fn.asWeeks=function(){return this.as("weeks")},wt.duration.fn.asMonths=function(){return this.as("M")},wt.duration.fn.asYears=function(){return this.as("y")},wt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===q(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),Pt?module.exports=wt:"function"==typeof define&&define.amd?(define(function(t,e,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(At.moment=xt),wt}),kt(!0)):kt()}.call(this),function(t){return"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):t(jQuery,window,document)}(function(t,e,i){"use strict";var s,n,o,r,a,l,c,u,d,h,p,f,m,g,v,b,y,k,w,x,_,C,A,T,D,q,S,M,H,O,$;A={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},k="scrollbar",y="scroll",d="mousedown",h="mouseenter",p="mousemove",m="mousewheel",f="mouseup",b="resize",a="drag",l="enter",x="up",v="panedown",o="DOMMouseScroll",r="down",_="wheel",c="keydown",u="keyup",w="touchmove",s="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,n=null,S=e.requestAnimationFrame,C=e.cancelAnimationFrame,H=i.createElement("div").style,$=function(){var t,e,i,s,n,o;for(s=["t","webkitT","MozT","msT","OT"],t=n=0,o=s.length;o>n;t=++n)if(i=s[t],e=s[t]+"ransform",e in H)return s[t].substr(0,s[t].length-1);return!1}(),O=function(t){return $===!1?!1:""===$?t:$+t.charAt(0).toUpperCase()+t.substr(1)},M=O("transform"),D=M!==!1,T=function(){var t,e,s;return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=y,e.top="-9999px",i.body.appendChild(t),s=t.offsetWidth-t.clientWidth,i.body.removeChild(t),s},q=function(){var t,i,s;return i=e.navigator.userAgent,(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i))?(s=/Firefox\/\d{2}\./.exec(i),s&&(s=s[0].replace(/\D+/g,"")),t&&+s>23):!1},g=function(){function c(s,o){this.el=s,this.options=o,n||(n=T()),this.$el=t(this.el),this.doc=t(this.options.documentContext||i),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+o.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===o)(e===r&&t.originalEvent.detail>0||e===x&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===m){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===r&&t.originalEvent.wheelDelta<0||e===x&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var t;D?(t={},t[M]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},S?(C&&this.scrollRAF&&C(this.scrollRAF),this.scrollRAF=S(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},c.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass("active"),t.doc.bind(p,t.events[a]).bind(f,t.events[x]),t.body.bind(h,t.events[l]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(e){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(p,t.events[a]).unbind(f,t.events[x]),t.body.unbind(h,t.events[l]),!1}}(this),resize:function(t){return function(e){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,r),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,x),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var i;if(null!=e)return i=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,i&&(t.sliderY+=-i/3),t.scroll(),!1}}(this),enter:function(t){return function(e){var i;if(t.isBeingDragged)return 1!==(e.buttons||e.which)?(i=t.events)[x].apply(i,arguments):void 0}}(this)}},c.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(b,t[b]),this.iOSNativeScrolling||(this.slider.bind(d,t[r]),this.pane.bind(d,t[v]).bind(""+m+" "+o,t[_])),this.$content.bind(""+y+" "+m+" "+o+" "+w,t[y])},c.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(b,t[b]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+y+" "+m+" "+o+" "+w,t[y])},c.prototype.generate=function(){var t,i,s,o,r,a,l;return o=this.options,a=o.paneClass,l=o.sliderClass,t=o.contentClass,(r=this.$el.children("."+a)).length||r.children("."+l).length||this.$el.append('<div class="'+a+'"><div class="'+l+'" /></div>'),this.pane=this.$el.children("."+a),this.slider=this.pane.find("."+l),0===n&&q()?(s=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),i={right:-14,paddingRight:+s+14}):n&&(i={right:-n},this.$el.addClass("has-scrollbar")),null!=i&&this.$content.css(i),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var t,e,i,o,r,a,l,c,u,d,h,p;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,o=t.style,r=o.overflowY,s&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+n,d=parseInt(this.$el.css("max-height"),10),d>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>d?d:t.scrollHeight)),l=this.pane.outerHeight(!1),u=parseInt(this.pane.css("top"),10),a=parseInt(this.pane.css("bottom"),10),c=l+u+a,p=Math.round(c/e*c),p<this.options.sliderMinHeight?p=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&p>this.options.sliderMaxHeight&&(p=this.options.sliderMaxHeight),r===y&&o.overflowX!==y&&(p+=n),this.maxSliderTop=c-p,this.contentHeight=e,this.paneHeight=l,this.paneOuterHeight=c,this.sliderHeight=p,this.paneTop=u,this.slider.height(p),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&r!==y?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&r===y?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),"static"!==i&&"relative"!==i||(h=parseInt(this.$content.css("right"),10),h&&this.$content.css({right:"",marginRight:h})),this)},c.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},c.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(m),this.stop().restore(),this):void 0},c.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(m),this.stop().restore(),this):void 0},c.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},c.prototype.stop=function(){return C&&this.scrollRAF&&(C(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),s&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},c}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,s;if((s=this.nanoscroller)||(i=t.extend({},A,e),this.nanoscroller=s=new g(this,i)),e&&"object"==typeof e){if(t.extend(s.options,e),null!=e.scrollBottom)return s.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return s.scrollTop(e.scrollTop);if(e.scrollTo)return s.scrollTo(e.scrollTo);if("bottom"===e.scroll)return s.scrollBottom(0);if("top"===e.scroll)return s.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return s.scrollTo(e.scroll);if(e.stop)return s.stop();if(e.destroy)return s.destroy();if(e.flash)return s.flash()}return s.reset()})},t.fn.nanoScroller.Constructor=g}),function(t){var e=function(t){this.initialise(t)};e.prototype={constructor:e,options:{css:{base:"html, body",root:"#ark",actions:"#ark-actions",content:"#ark-content",editbox:"#ark-edit",stack:"[data-stack]",edit:"[data-edit]",item:'#ark-content [data-stack="%s"] [data-view="%s"] [data-select="%s"]',hide:{value:"var-hide",css:".var-hide"},block:{value:"var-block",css:".var-block"},bootstrap:{button:{value:"btn",selector:".btn"},active:{value:"active",selector:".active"},hide:{value:"hidden",selector:".hidden"},show:{value:"show ",selector:".show "}}},data:{data:"data-",global:"data-ark-",id:"data-id",name:"data-name",stack:"data-stack",action:{value:"action",data:"data-action"},value:{value:"value",data:"data-value"},edit:{value:"edit",data:"data-edit"},type:{value:"type",data:"data-type"},key:{value:"key",data:"data-key"}},html:{blank:"--",dash:" - ",comma:",",quote:'"%s"',date:"DD/MM/YYYY HH:mm:ss",messages:{feature:{soon:"Coming Soon!",upgrade:"Upgrade!",plugin:"Check Plugin!"}},errors:{generic:"Error!",data:"No Data!",path:"No Path!",action:"No Action!",form:"No Form!",permission:"No Access!",cancel:"Cancelled!"},ds:"/",url:"",sprintf:/%s/},namespace:".base",view:null,text:{prefix:null},escape:{global:"g",caseinsensitive:"i",fullstop:".",asterisk:"*",plus:"+",questionmark:"?",caret:"^",dollar:"$",curlybrackets:"{}",roundbrackets:"()",squarebrackets:"\\[\\]",pipe:"|",backslash:"\\/",forwardslash:"\\\\"},id:{alpha:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",numeric:"0123456789",special:"-_!#*()[]{}@:?",length:4,count:1},trim:{mask:" "},extension:{lower:!0},fields:{group:!0},find:{root:"",path:"",view:null,group:"views"},highlight:{view:null,group:"views",delay:0,select:!0,base:"",scroll:!0,offset:150,animate:600,flash:150,wigglelimit:5,wigglespeed:25,scrollbar:!1},message:{winks:{fastest:500,faster:1e3,fast:2e3,slow:5e3,slower:7e3,slowest:1e4},wink:3e3,type:"error",position:"top",queue:!0,max:3,close:["button"],tmpl:"ark-noty",buttons:null,translate:{on:!1,prefix:!0,revalue:!1}},confirmbox:{position:"center",wink:!1,type:"message",yes:{css:"btn btn-success",text:"Ok",callback:"base:confirm:yes"},no:{css:"btn",text:"Cancel",callback:"base:confirm:no"}},promptbox:{position:"center",wink:!1,type:"message",yes:{css:"btn btn-success",text:"Ok",callback:"base:prompt:yes"},no:{css:"btn",text:"Cancel",callback:"base:prompt:no"}},debug:!0,permissions:{},browser:{root:""}},el:{},initialise:function(t){},root:function(){return e.prototype},set:function(e){var i=this.root().options,s=jQuery.fn.arkoptions(),n=this.options?this.options:{},o=e?e:{};return this.options=t.extend(!0,{},i,s,n,o),this.options},text:function(e,i,s){var n=s?t.extend({},this.options.text,s):this.options.text,o=n.prefix===!0?this.options.text.prefix:n.prefix,r=o?o+e:e;return Joomla.JText._(r,i||"")},escape:function(e,i){var s=i?t.extend({},this.options.escape,i):this.options.escape,n="",o="",r=["global","caseinsensitive"];t.each(s,function(e,i){-1===t.inArray(e,r)?n+=i:o+=i});var n=new RegExp("(["+n+"])",o);return e.replace(n,"\\$1")},safe:function(t,e){return t.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"\\$&");
},id:function(e){var i=e?t.extend({},this.options.id,e):this.options.id,s=[];if(i.length&&(i.alpha||i.numeric||i.special)){for(;s.length<i.count;){var n=this._id(i.length,i.alpha,i.numeric,i.special);-1===t.inArray(n,s)&&s.push(n)}return i.count>1?s:s[0]}return""},_id:function(t,e,i,s){var n=[];n.push(e),n.push(i),n.push(s);for(var o=n.join(""),r=o.length,a="",l=1;t>=l;l++){var c=Math.floor(Math.random()*r);a+=o[c]}return a},trim:function(e,i){if("string"==typeof i)var s={mask:i};else var s=i?t.extend({},this.options.trim,i):this.options.trim;return" "===s.mask?t.trim(e):e.replace(new RegExp("^["+s.mask+"]+"),"").replace(new RegExp("["+s.mask+"]+$"),"")},extension:function(e,i){var s=i?t.extend({},this.options.extension,i):this.options.extension,n=e?e.split("."):[],o=n.length>1?n.pop():"";return s.lower?o.toLowerCase():o},toURL:function(t){var e="/";if(this.options.html.ds!==e){var i=new RegExp(this.escape(this.options.html.ds),"g");return t.replace(i,e)}return t},fields:function(e,i){var s={},n=i?t.extend({},this.options.fields,i):this.options.fields;return t.each(t(e).serializeArray(),function(){var t=this.name;if(n.groups===!1)for(var e=t.split("["),i="";i=e.pop();)if("]"!==i){t=i.replace("]","");break}void 0!==s[t]?(s[t].push||(s[t]=[s[t]]),s[t].push(this.value||"")):s[t]=this.value||""}),s},toArray:function(e){return"object"===t.type(e)?t.map(e,function(t,e){return[t]}):"array"===t.type(e)?e:[e]},exists:function(t){return t===document.body?!0:document.body.contains(t)},find:function(e,i,s){if(!e||!i)return!1;var n=s?t.extend({},this.options.find,s):this.options.find,o=t(n.root||this.options.css.root),r=n.view||t(document).triggerHandler("arkcollapse:request:value",{group:n.group})||this.options.view,a=n.path||this.options.css.item;return a=a.replace(this.options.html.sprintf,e).replace(this.options.html.sprintf,r).replace(this.options.html.sprintf,this.safe(i)),o.find(a)},onscreen:function(e,i,s){null!==i&&"undefined"!=typeof i||(i=1),null!==s&&"undefined"!=typeof s||(s=1);var n=t(window),o={top:n.scrollTop(),left:n.scrollLeft()};o.right=o.left+n.width(),o.bottom=o.top+n.height();var r=e.outerHeight(),a=e.outerWidth();if(!a||!r)return!1;var l=e.offset();l.right=l.left+a,l.bottom=l.top+r;var c=!(o.right<l.left||o.left>l.right||o.bottom<l.top||o.top>l.bottom);if(!c)return!1;var u={top:Math.min(1,(l.bottom-o.top)/r),bottom:Math.min(1,(o.bottom-l.top)/r),left:Math.min(1,(l.right-o.left)/a),right:Math.min(1,(o.right-l.left)/a)};return u.left*u.right>=i&&u.top*u.bottom>=s},highlight:function(e,i,s,n,o){if(!(e&&i&&s&&n))return!1;var r=o?t.extend({},this.options.highlight,o):this.options.highlight,a=r.view||t(document).triggerHandler("arkcollapse:request:value",{group:r.group});return t(document).delay(r.delay).queue(t.proxy(function(s){if(r.view&&t(document).triggerHandler("arkcollapse:request:toggle",{value:r.view,group:r.group}),r.select&&e)switch(e){case"folder":case"folders":t(document).triggerHandler("observer:request:active",{type:"folders",stack:i,value:[n]}),t(document).triggerHandler("observer:request:active",{type:"files",stack:i,value:[]});break;case"file":case"files":t(document).triggerHandler("observer:request:active",{type:"folders",stack:i,value:[]}),t(document).triggerHandler("observer:request:active",{type:"files",stack:i,value:[n]})}var o=this.find(i,n,{view:a}),l=t(r.base||this.options.css.base);if(o.length&&l.length){if(r.scroll&&!this.onscreen(o)){var c=Math.round(o.offset().top-parseInt(r.offset));l.animate({scrollTop:c},r.animate)}l.promise().then(t.proxy(function(t){"list"===a?o.fxFlash({speed:r.flash}):o.fxWiggle("start",{limit:r.wigglelimit,delay:r.wigglespeed})},this)),r.scrollbar&&t(document).triggerHandler("explorer:request:rescroll",{stack:i}),s()}},this)),!0},message:function(e,i,s){if(e){var n=!1;if(i&&(n="alert"===i?!0:n,s=s||{},s.type=i,s.type="info"===i?"information":s.type,s.type="message"===i?"alert":s.type),!n&&"function"==typeof noty){"object"===t.type(s)&&"string"===t.type(s.wink)&&(s.wink=this.options.message.winks[s.wink]||"");var o=s?t.extend({},this.options.message,s):this.options.message,r=["alert","success","error","warning","information","confirm","preloader"],a=["top","topLeft","topCenter","topRight","centerLeft","center","centerRight","bottomLeft","bottomCenter","bottomRight","bottom"],l={text:e,type:-1!==t.inArray(o.type,r)?o.type:this.options.message.type,timeout:t.isNumeric(o.wink)||o.wink===!1?o.wink:this.options.message.wink,layout:t.inArray(o.position,a)?o.position:this.options.message.position,dismissQueue:"boolean"===t.type(o.queue)?o.queue:this.options.message.queue,maxVisible:t.isNumeric(o.max)?o.max:this.options.message.max,closeWith:t.isArray(o.close)?o.close:this.options.message.close,theme:o.tmpl||this.options.message.tmpl,buttons:o.buttons&&o.buttons.length?o.buttons:null};return o.translate.on&&(l.text=this.text(l.text,o.translate.revalue?l.text:"",{prefix:o.translate.prefix})),o.el&&t(o.el).length?t(o.el).noty(l):noty(l)}alert(e)}},confirmbox:function(e,i,s){var n=s?t.extend(!0,{},this.options.confirmbox,s):this.options.confirmbox;i=i||n.type,n.buttons=[{addClass:n.yes.css,text:n.yes.text,onClick:function(e){e.close(),n.yes.callback&&t(document).trigger(n.yes.callback)}},{addClass:n.no.css,text:n.no.text,onClick:function(e){e.close(),n.no.callback&&t(document).trigger(n.no.callback)}}],this.message(e,i,n)},promptbox:function(e,i,s,n){var o=n?t.extend(!0,{},this.options.promptbox,n):this.options.promptbox;s=s||o.type,i=i||"",e=e+'<br /><br /><input type="text" name="" value="'+i+'" />',o.buttons=[{addClass:o.yes.css,text:o.yes.text,onClick:function(e){e.close(),o.yes.callback&&t(document).trigger(o.yes.callback)}},{addClass:o.no.css,text:o.no.text,onClick:function(e){e.close(),o.no.callback&&t(document).trigger(o.no.callback)}}],this.message(e,s,o)},preloader:function(t,e){arguments.callee._preloader&&arguments.callee._preloader.closed&&(arguments.callee._preloader=null),t=t||(arguments.callee._preloader?"off":"on"),e=e||{},msg=e.message||this.options.html.messages.loading,e.position=e.position||"bottomCenter",e.wink=e.wink||!1,"on"!==t||arguments.callee._preloader?"off"===t&&arguments.callee._preloader?(arguments.callee._preloader.close(),arguments.callee._preloader=null):"update"===t&&arguments.callee._preloader&&arguments.callee._preloader.setText(msg):arguments.callee._preloader=this.message(msg,"preloader",e)},debug:function(t,e,i){this.options.debug&&window.console&&(i=i&&window.console[i]?i:"warn",e?window.console[i](t+"() : "+e):window.console[i](t+"() : "+this.options.html.errors.generic))},permission:function(t){return this.options.permissions.hasOwnProperty(t)?this.options.permissions[t]:!1},browser:function(e,i){var s=i?t.extend({},this.options.browser,i):this.options.browser,n=t(s.root||this.options.css.root),o=n.attr("class").split(" ");if(e){var r,a="",l=["platform","browser","major","minor"],c=["id","template","club"];return r=-1!==t.inArray(e,l)?"nav-"+e+"-":"",r=-1!==t.inArray(e,c)?"tmpl-"+e+"-":r,t.each(o,function(t,e){return 0===e.indexOf(r)?(a=e.replace(r,""),!1):void 0}),a}return o}},jQuery.fn.arkbase=function(t){return new e(t)},jQuery.fn.arkoptions=function(e){return arguments.callee._options=arguments.callee._options||{},"object"==typeof e&&t.extend(!0,arguments.callee._options,e),arguments.callee._options}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{html:{ajax:{item:"index.php"},errors:{malform:"Error!",fail:"Error!",ajax:"No Data!"}},namespace:".observer",stacks:{},defaults:{path:null}},active:{stack:{value:null},paths:{},folders:{},files:{},edit:{value:null}},queue:0,edit:null,initialise:function(e){return this.set(e),t.views?(this.store(),this.assets(),this.requests(),void this.defaults()):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},store:function(){t(document).trigger("observer:before:register",[this.options.stacks]),t.each(this.options.stacks,t.proxy(function(e,i){this.active.paths[e]=t.observable({path:i.path}),this.active.folders[e]=t.observable([]),this.active.files[e]=t.observable([])},this)),this.active.stack=t.observable(this.active.stack),this.active.edit=t.observable(this.active.edit),this.options.stacks=t.observable(this.options.stacks),t(document).trigger("observer:after:register",[this.options.stacks])},assets:function(){t(document).trigger("arkobserver:before:assets");var e=this;t.views.helpers({isChildFolder:function(t,i,s){var n=new RegExp(e.escape(e.options.html.ds+i)+"$");return t!=s&&t.replace(n,"")==s},bytes:function(e,i,s){var e=parseInt(e),i=i?i:"auto",s=s?parseInt(s):2,n=["B","KB","MB","GB","TB","PB"];if(!e)return 0;var o=Math.floor(Math.log(e)/Math.log(1024));"auto"!==i&&-1!=t.inArray(i,n)&&(o=t.inArray(i,n));var r=e/Math.pow(1024,o);return parseFloat(r.toFixed(s))+" "+n[o]},date:function(t,i,s){return i="undefined"!=typeof i?i:e.options.html.date,s="undefined"!=typeof s?s:e.options.html.blank,"function"==typeof moment&&t&&"0"!==t&&i?moment.unix(t).format(i):s},previous:function(t,e){return e[t-1]},next:function(t,e){return e[t+1]}}),t.views.tags({reverse:function(e){var i=[];return t.each(e,t.proxy(function(t,e){e.data&&e.events||i.push(this.tagCtx.render(e))},this)),i.reverse().join("\n")},alphabetise:function(e){var i=[];return t.each(e,t.proxy(function(t,e){e.data&&e.events||i.push({key:t,item:e})},this)),i=i.sort(function(t,e){return t.key>e.key?1:-1}),t.map(i,t.proxy(function(t,e){return this.tagCtx.render({i:e,key:t.key,item:t.item})},this)).join("\n")},chronologise:function(e){var i=[],s=this.tagCtx.props.index||null,n=this.tagCtx.props.direction||"asc";return t.each(e,t.proxy(function(t,e){e.data&&e.events||i.push({key:e[s],item:e})},this)),s&&(i=i.sort(function(t,e){return"asc"==n?t.key>e.key?1:-1:t.key<e.key?1:-1})),t.map(i,t.proxy(function(t,e){return this.tagCtx.render({i:e,key:t.key,items:i,item:t.item})},this)).join("\n")},debug:function(t){var e=this.tagCtx.props,i=e.message||"Debug: ";console.log(i,t)}}),t(document).trigger("arkobserver:after:assets")},requests:function(){t(document).on("observer:request:default:fire"+this.options.namespace,t.proxy(function(e){this.defaults(),t(document).off("observer:request:default:fire"+this.options.namespace)},this)),t(document).on("observer:request:all",t.proxy(function(t){return this.options.stacks.data()},this)),t(document).on("observer:request:params",t.proxy(function(e,i){var s=this.options.stacks.data(),n={};return i&&i.stack&&s.hasOwnProperty(i.stack)?s[i.stack].params:(t.each(s,function(t,e){n[t]=e.params}),n)},this)),t(document).on("observer:request:param",t.proxy(function(t,e){var i=this.options.stacks.data();return e&&e.stack&&e.key&&i.hasOwnProperty(e.stack)&&i[e.stack].params.hasOwnProperty(e.key)?i[e.stack].params[e.key]:null},this)),t(document).on("observer:request:item",t.proxy(function(t,e){var i=this.options.stacks.data();if(e.stack&&e.path&&i.hasOwnProperty(e.stack))switch(e.type){case"folder":var s=e.item?e.path+this.options.html.ds+e.item:e.path;if(i[e.stack].items.hasOwnProperty(s)){var n=i[e.stack].items[s];return e.load&&!n.loaded&&this.item(e.stack,s),n}break;case"file":if(e.item&&i[e.stack].items.hasOwnProperty(e.path)&&i[e.stack].items[e.path].items.hasOwnProperty(e.item))return i[e.stack].items[e.path].items[e.item]}return!1},this)),t(document).on("observer:request:load",t.proxy(function(e,i){var s=this.options.stacks.data();if(i.stack&&i.path&&s.hasOwnProperty(i.stack)){var n=i.item?i.path+this.options.html.ds+i.item:i.path,o={branch:i.branch?i.branch:!0},r={name:"observer:request:loaded",options:i.options?i.options:{}},a=s[i.stack].items.hasOwnProperty(n)?s[i.stack].items[n]:!1;a&&a.loaded?t(document).triggerHandler(r.name,r.options):this.item(i.stack,n,o,r)}else t(document).triggerHandler("observer:request:item:error",{stack:i.stack,path:i.path,data:null})||t(document).delay(0).queue(t.proxy(function(e){t(document).triggerHandler("observer:request:item:error",{stack:i.stack,path:i.path,data:null})||this.message(this.options.html.errors.fail,"error",{wink:"slower"}),e()},this))},this)),t(document).on("observer:request:active",t.proxy(function(e,i){switch(i.type){default:case"stack":return i.value&&this.active.stack.setProperty("value",i.value),this.active.stack.data();case"path":if(this.active.paths.hasOwnProperty(i.stack)){if(i.value&&i.value!==this.active.paths[i.stack].data().path){var s=t(document).triggerHandler("observer:request:item",{type:"folder",stack:i.stack,path:i.value}),n={branch:i.branch?i.branch:!1},o={name:"observer:request:active",options:{type:"path",stack:i.stack,value:i.value}};s&&s.loaded?(this.active.folders[i.stack].refresh([]),this.active.files[i.stack].refresh([]),this.active.paths[i.stack].setProperty("path",i.value)):this.item(i.stack,i.value,n,o)}return this.active.paths[i.stack].data()}return"all"==i.stack?this.active.paths:"";case"folders":if(this.active.folders.hasOwnProperty(i.stack)){if(i.value)if(t.isArray(i.value))this.active.folders[i.stack].refresh(i.value);else{var r=t.inArray(i.value,this.active.folders[i.stack].data());-1===r?this.active.folders[i.stack].insert(i.value):this.active.folders[i.stack].remove(r)}return this.active.folders[i.stack].data()}return"";case"files":if(this.active.files.hasOwnProperty(i.stack)){if(i.value)if(t.isArray(i.value))this.active.files[i.stack].refresh(i.value);else{var r=t.inArray(i.value,this.active.files[i.stack].data());-1===r?this.active.files[i.stack].insert(i.value):this.active.files[i.stack].remove(r)}return this.active.files[i.stack].data()}return"";case"edit":return(i.value||"null"===t.type(i.value))&&this.active.edit.setProperty("value",i.value),this.active.edit.data()}},this)),t(document).on("observer:request:validate",t.proxy(function(e,i){switch(i.type){default:case"stack":return this.options.stacks.data().hasOwnProperty(i.value);case"root":if(!t(document).triggerHandler("observer:request:validate",{type:"stack",value:i.value}))return!1;var s=this.options.stacks.data(),n=s[i.value].path;return s[i.value].items&&s[i.value].items.hasOwnProperty(n)&&s[i.value].items[n].loaded;case"path":var n=i.value.replace(/^(\/|\s)+/,"").replace(/(\/|\s)+$/,""),s=this.options.stacks.data();return s.hasOwnProperty(i.stack)&&s[i.stack].items&&s[i.stack].items.hasOwnProperty(n);case"basepath":var s=this.options.stacks.data();return s.hasOwnProperty(i.stack)&&0===i.value.indexOf(s[i.stack].path);case"file":var s=this.options.stacks.data(),o=t(document).triggerHandler("observer:request:key",{value:i.value});return t(document).triggerHandler("observer:request:validate",{type:"path",stack:i.stack,value:i.path})?s[i.stack].items[i.path].items.hasOwnProperty(o):!1}},this)),t(document).on("observer:request:rename",t.proxy(function(e,i){switch(i.type){case"title":return this.options.stacks.data().hasOwnProperty(i.stack)?(this.options.stacks.setProperty(i.stack+".title",i.value),!0):!1;case"subtitle":return this.options.stacks.data().hasOwnProperty(i.stack)?(this.options.stacks.setProperty(i.stack+".subtitle",i.value),!0):!1;case"folder":return!1;case"file":return t.observable(this.options.stacks.data()[i.stack].items[i.path].items[i.oldname]).setProperty("name",i.newname),!0}return!1},this)),t(document).on("observer:request:update",t.proxy(function(e,i){switch(i.type){case"folder":var s=i.item?i.path+this.options.html.ds+i.item:i.path;return t.observable(this.options.stacks.data()[i.stack].items[s]).setProperty(i.key,i.value),!0;case"file":var n=t(document).triggerHandler("observer:request:key",{value:i.item});return t.observable(this.options.stacks.data()[i.stack].items[i.path].items[n]).setProperty(i.key,i.value),!0}return!1},this)),t(document).on("observer:request:key",t.proxy(function(t,e){return e.value.replace(/\./g,"")},this)),t(document).on("observer:request:add",t.proxy(function(e,i){if(i.type&&i.stack&&i.path&&i.item)switch(i.type){case"folder":return t.observable(this.options.stacks.data()[i.stack].items).setProperty(i.path,i.item),!0;case"file":return i.name&&this.options.stacks.data()[i.stack].items.hasOwnProperty(i.path)?(t.observable(this.options.stacks.data()[i.stack].items[i.path].items).setProperty(i.name,i.item),!0):!1}return!1},this))},defaults:function(){if(this.options.defaults.stack&&this.options.defaults.path){var e=t(document).triggerHandler("observer:request:active",{type:"path",stack:this.options.defaults.stack});if(e.path!==this.options.defaults.path){var i=t(document).triggerHandler("observer:request:all"),s=i[this.options.defaults.stack];if(!s.items[s.path].loaded)return;window.setTimeout(t.proxy(function(){t(document).triggerHandler("observer:request:active",{type:"path",stack:this.options.defaults.stack,value:this.options.defaults.path})},this),50)}}},item:function(e,i,s,n){if(t(document).trigger("observer:before:item",[e,i,s]),this.options.html.ajax.item&&e&&i){if("undefined"==typeof s)var s={};if("undefined"==typeof n)var n=!1;if(this.edit||(this.edit=t(document).triggerHandler("edit:request:params")||{}),s.branch=s.branch?s.branch:!1,s.branch){var o=i.split(this.options.html.ds),r=[],a="",l={},c="",u=!1,d=n,h="observer:internal:item."+t.guid;if(s.branch=!1,d){t(document).on(h,t.proxy(function(e,i){i.i===this.queue&&(window.setTimeout(function(){t(document).triggerHandler(i.callback,i.options)},0),t(document).off(h),this.queue=0)},this));var p={i:this.queue,callback:d.name,options:d.options?d.options:{}};n={name:h,options:p}}for(;a=o.shift();)r.push(a),c=r.join(this.options.html.ds),l=t(document).triggerHandler("observer:request:item",{type:"folder",stack:e,path:c,load:!1}),u=t(document).triggerHandler("observer:request:validate",{type:"basepath",stack:e,value:c}),!u||l&&l.loaded||(n&&(this.queue++,n.options.i=this.queue),this._item(e,c,s,n))}else this._item(e,i,s,n)}else this.message(this.options.html.errors.ajax,"error",{wink:"slower"}),this.debug("item","Item Failed as the Necessary Data Could Not Found.");t(document).trigger("observer:after:item",[e,i,s])},_item:function(e,i,s,n){var o=t(document).triggerHandler("observer:request:item:ajax",{stack:e,path:i,options:s,callback:n});if(!o||!o.isImmediatePropagationStopped()){var r=this,a=this.edit;a.stack=e,a.path=i,a.branch=+s.branch,t.ajax({type:"post",dataType:"json",url:this.options.html.ajax.item,callback:n,data:a}).done(function(s){if(s&&"object"==typeof s&&s.hasOwnProperty(i))r._process(s,this.callback,{stack:e,path:i});else{var n=t(document).triggerHandler("observer:request:item:error",{stack:e,path:i,data:s}),o=s&&"object"==typeof s&&s.hasOwnProperty("status")?"Status Message":"Malformed Data";n||r.message(r.options.html.errors.malform,"error",{wink:"slower"}),r.debug("item","Item Ajax Call Returned "+o+".")}}).fail(function(){var s=t(document).triggerHandler("observer:request:item:error",{stack:e,path:i,data:null});s||r.message(r.options.html.errors.fail,"error",{wink:"slower"}),r.debug("item","Item Ajax Call Failed.")})}},_process:function(e,i,s){var n=t.proxy(function(t){t.i>t.max||(this._loop(t.key,t.data[t.key],t.data,t.options),t.i||this._callback(t.data,t.callback,t.options),t.i++,t.key=t.keys[t.i],window.setTimeout(function(){n(t)},1))},this),o=t(document).triggerHandler("observer:request:all");s.stackdata=o[s.stack],s.loaded=s.stackdata.items[s.stackdata.path].loaded;var r=0,a=Object.keys(e),l=a.length-1;n({i:r,key:a[r],max:l,keys:a,data:e,options:s,callback:i})},_loop:function(e,i,s,n){var o=t(document).triggerHandler("observer:request:item",{type:"folder",stack:n.stack,path:e,load:!1});o?o.loaded||t.each(s[e],function(e,i){"items"===e?t.each(i,function(e,i){t(document).triggerHandler("observer:request:add",{type:"file",stack:n.stack,path:n.path,name:e,item:i})}):t(document).triggerHandler("observer:request:update",{type:"folder",stack:n.stack,path:n.path,key:e,value:i})}):t(document).triggerHandler("observer:request:add",{type:"folder",stack:n.stack,path:e,item:i})},_callback:function(e,i,s){i&&i.name&&i.options&&t(document).triggerHandler(i.name,i.options),s.stackdata.path===s.path&&!s.loaded&&s.stackdata.items[s.stackdata.path].loaded&&t(document).trigger("observer:request:default:fire",{stack:s.stack,path:s.path}),t(document).trigger("observer:request:item:loaded",{stack:s.stack,path:s.path,data:e})}}),t.fn.observer=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{control:"[data-stack-control]",values:{stack:'[data-stack-control="stack"]',refresh:'[data-stack-control="refresh"]'}},data:{control:"data-stack-control",value:"data-stack-value",values:{stack:"stack",refresh:"refresh",path:"path",explorer:"explorer",breadcrumb:"breadcrumb"}},html:{},namespace:".stack",active:null,animate:100},el:{root:null,stacks:{all:{}},controls:{all:{}}},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),t.views?(this.register(),this.links(),this.requests(),this.controls(),this.addControlEvents(),void this.setDefault()):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},register:function(){t(document).trigger("stack:before:register"),this.el.stacks.all=this.el.root.find(this.options.css.stack),this.el.stacks.all.each(t.proxy(function(e,i){var s=t(i).attr(this.options.data.stack);s&&(this.el.stacks.hasOwnProperty(s)||(this.el.stacks[s]=[]),this.el.stacks[s].push(i))},this)),t(document).trigger("stack:after:register",[this.el.stacks])},links:function(){var e=t(document).triggerHandler("observer:request:active",{type:"stack"});t(document).triggerHandler("observer:request:active",{type:"edit"});t.observe(e,"*",t.proxy(function(t){this.switchStack(t.target.value)},this))},requests:function(){t(document).on("observer:request:default:fire",t.proxy(function(e,i){t(document).trigger("stack:request:root",i),this.preloader("off")},this)),t(document).on("observer:request:item:error"+this.options.namespace,t.proxy(function(e,i){t(document).delay(0).queue(t.proxy(function(t){this.preloader("off"),t()},this)),t(document).off("observer:request:item:error"+this.options.namespace)},this)),t(document).on("stack:request:toggle",t.proxy(function(e,i){i.type=i.type||"disable",i.stack=t.isArray(i.stack)?i.stack:[i.stack],i.stack.length&&this.toggleStack(i.type,i.stack)},this)),t(document).on("stack:request:solo",t.proxy(function(t){this.toggleStack("disable")},this)),t(document).on("stack:request:unsolo",t.proxy(function(t){this.toggleStack("enable")},this))},controls:function(){t(document).trigger("stack:before:controls"),this.el.controls.all=this.el.root.find(this.options.css.control),t.each(this.options.data.values,t.proxy(function(t,e){this.el.controls[e]=[]},this)),this.el.controls.all.each(t.proxy(function(e,i){var s=t(i).attr(this.options.data.control);s&&(this.el.controls.hasOwnProperty(s)?this.el.controls[s].push(i):this.debug("controls","Stack Control Does Not Exist"))},this)),t(document).trigger("stack:after:controls",[this.el.controls])},addControlEvents:function(){t(document).trigger("stack:before:event",[this.options.data.values.stack]),this.el.root.on("click"+this.options.namespace,this.options.css.values.stack,{options:this.options},function(e){var i=t(this).attr(e.data.options.data.value),s=t(document).triggerHandler("observer:request:active",{type:"stack"});s.value!=i&&t(document).triggerHandler("observer:request:active",{type:"stack",value:i})}),t(document).trigger("stack:after:event",[this.options.data.values.stack,this.el.controls])},switchStack:function(e){if(t(document).trigger("stack:before:switch",[e]),this.el.stacks.hasOwnProperty(e)){if(!t(document).triggerHandler("observer:request:validate",{type:"root",value:e})){var i=t(document).triggerHandler("observer:request:active",{type:"path",stack:e});t(document).triggerHandler("observer:request:load",{stack:e,path:i.path})}t.each(this.el.stacks,t.proxy(function(i,s){i===e?"all"!==i&&t.each(this.el.stacks[i],t.proxy(function(e,i){t(i).show(this.options.animate?this.options.animate:null)},this)):t.each(this.el.stacks[i],function(e,i){t(i).hide()})},this)),this.el.controls.hasOwnProperty(this.options.data.values.stack)&&t.each(this.el.controls[this.options.data.values.stack],t.proxy(function(i,s){t(s).attr(this.options.data.value)===e&&(t(s).trigger("click"),"function"==typeof t(s).button&&t(s).button("toggle"))},this))}else this.debug("switchStack","Stack Not Found");t(document).trigger("stack:after:switch",[e])},toggleStack:function(e,i){t(document).trigger("stack:before:toggle",[stack,this.el.controls]);var s="array"!==t.type(i);this.el.controls.hasOwnProperty(this.options.data.values.stack)&&t.each(this.el.controls[this.options.data.values.stack],t.proxy(function(n,o){(s||-1!==t.inArray(t(o).attr(this.options.data.value),i))&&("disable"==e?t(o).attr("disabled","disabled"):t(o).removeAttr("disabled"))},this)),t(document).trigger("stack:after:toggle",[stack,this.el.controls])},setDefault:function(){t(document).trigger("stack:before:default",[this.options.active]),this.options.active&&(t(document).triggerHandler("observer:request:active",{type:"stack",value:this.options.active}),this.preloader("on")),t(document).trigger("stack:after:default",[this.options.active])}}),t.fn.stack=function(t){return new e(t)}}(window.jQuery),function(t){t.fn.fxFlash=function(e){return e=t.extend({speed:150,amount:3},e),this.fadeIn(e.speed).fadeOut(e.speed).fadeIn(e.speed).fadeOut(e.speed).fadeIn(e.speed).fadeOut(e.speed).fadeIn(e.speed),this},t.fn.fxWiggle=function(e,i){i=t.extend({degrees:["2","4","2","0","-2","-4","-2","0"],delay:35,limit:null,randomStart:!0,onWiggle:function(t){},onWiggleStart:function(t){},onWiggleStop:function(t){}},i);var s={wiggle:function(e,n){void 0===n&&(n=i.randomStart?Math.floor(Math.random()*i.degrees.length):0),t(e).hasClass("wiggling")||t(e).addClass("wiggling");var o=i.degrees[n];return t(e).css({"-webkit-transform":"rotate("+o+"deg)","-moz-transform":"rotate("+o+"deg)","-ms-transform":"rotate("+o+"deg)","-o-transform":"rotate("+o+"deg)","-sand-transform":"rotate("+o+"deg)",transform:"rotate("+o+"deg)"}),n===i.degrees.length-1&&(n=0,void 0===t(e).data("wiggles")?t(e).data("wiggles",1):t(e).data("wiggles",t(e).data("wiggles")+1),i.onWiggle(e)),i.limit&&t(e).data("wiggles")==i.limit?s.stop(e):void(e.timeout=setTimeout(function(){s.wiggle(e,n+1)},i.delay))},stop:function(e){t(e).data("wiggles",0),t(e).css({"-webkit-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)","-o-transform":"rotate(0deg)","-sand-transform":"rotate(0deg)",transform:"rotate(0deg)"}),t(e).hasClass("wiggling")&&t(e).removeClass("wiggling"),clearTimeout(e.timeout),e.timeout=null,i.onWiggleStop(e)},isWiggling:function(t){return!!t.timeout}};return"isWiggling"===e&&1===this.length?s.isWiggling(this[0]):(this.each(function(){"start"!==e&&void 0!==e||this.timeout?"stop"===e&&s.stop(this):(s.wiggle(this),i.onWiggleStart(this))}),this)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{control:'[data-action="resize"]',type:"[data-type]",value:'[data-action-value="resize"]'},data:{control:"data-action",type:"data-type",value:"data-action-value",resize:"data-resize-"},html:{},namespace:".resizer",active:null,types:[],permission:null},el:{root:null,controls:null,values:null},initialise:function(e){this.set(e),this.el.root=t(this.options.css.root),this.el.controls=this.el.root.find(this.options.css.control),this.el.values=this.el.root.find(this.options.css.value),this.addControlEvents(),this.setDefault(),this.requests()},addControlEvents:function(){t(document).trigger("arkresize:before:add",[this.el.controls]),this.permission(this.options.permission)&&this.el.root.on("click"+this.options.namespace,this.options.css.control,{self:this},function(e){var i=t(this).attr(e.data.self.options.data.type);i&&i!==e.data.self.options.active&&(e.data.self.options.active=i,e.data.self.switchLayout())}),t(document).trigger("arkresize:after:add",[this.el.controls])},setDefault:function(){t(document).trigger("arkresize:before:default",[this.options.active]),this.options.active&&(this.el.controls.each(t.proxy(function(e,i){t(i).attr(this.options.data.type)===this.options.active&&t(i).addClass(this.options.css.bootstrap.active.value)},this)),this.switchLayout(this.options.active)),t(document).trigger("arkresize:after:default",[this.options.active])},switchLayout:function(){t(document).trigger("arkresize:before:switch",[this.options.active,this.el.values]),this.el.values.each(t.proxy(function(e,i){var s=t(i).attr(this.options.data.resize+this.options.active);s&&(t(i).removeClass(),t(i).addClass(s))},this)),t(document).trigger("arkresize:after:switch",[this.options.active,this.el.values])},requests:function(){t(document).on("arkresize:request:toggle",t.proxy(function(e,i){this.permission(this.options.permission)&&this.el.controls.each(t.proxy(function(e,s){t(s).attr(this.options.data.type)===i.value&&(t(s).trigger("click"),"function"==typeof t(s).button&&t(s).button("toggle"))},this))},this)),t(document).on("arkresize:request:value",t.proxy(function(t,e){return this.options.active},this)),t(document).on("arkresize:request:values",t.proxy(function(t,e){return this.options.types},this))}}),t.fn.resizer=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{breadcrumb:"#ark-breadcrumb",path:"[data-stack-control]",template:"#tmpl-breadcrumb"},data:{path:"data-path"},html:{},namespace:".breadcrumb",beautify:null,fullpath:!0},el:{root:null,breadcrumb:null,stacks:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.breadcrumb=this.el.root.find(this.options.css.breadcrumb),this.el.stacks=this.el.breadcrumb.find(this.options.css.stack),t.views?this.el.stacks.length?(this.assets(),void this.register()):(this.debug("initialise","No Breadcrumb Stacks"),!1):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},assets:function(){t(document).trigger("arkbreadcrumb:before:assets");var e=this;t.views.helpers({canBreadcrumb:function(){if(this.data.name){var t=this.data.key,i=this.ctx.root.base.length,s=this.data.name,n=this.ctx.root.base[t];return!(!e.options.fullpath&&s==n&&t+1!==i)}return!1},isDisabledBreadcrumb:function(t){if(t)return!0;var e=this.data.count,i=this.data.key,s=this.ctx.root.base.length,n=this.data.name,o=this.ctx.root.base[i];return n==o?i+1!==s:i+1==e}},t.templates(this.options.css.template)),t.views.tags({breadcrumb:{render:function(){var i=this.ctx.root.active.path.split(e.options.html.ds),s=[],n=[];return t.each(i,t.proxy(function(t,o){s.push(i[t]),n.push(this.tagCtx.render({key:t,name:o,path:s.join(e.options.html.ds),count:i.length}))},this)),n.join("\n")},linked:!1,onAfterLink:function(e,i){this.linked||(t.observe(this.ctx.root.active,"path",t.proxy(function(){this.refresh()},this)),this.linked=!0)}}},t.templates(this.options.css.template)),t.views.converters({beautify:function(i){if(t(document).triggerHandler("observer:request:param",{stack:this.tagCtx.view.ctx.root.stack,key:e.options.beautify})){var s=this.tagCtx.view.ctx.root.active.path,n=s.indexOf(i),o=s.substr(0,n),r=t(document).triggerHandler("observer:request:item",{type:"folder",stack:this.tagCtx.view.ctx.root.stack,path:o+i});return r?r.name:i}return i}}),t(document).trigger("arkbreadcrumb:after:assets")},register:function(){t(document).trigger("arkbreadcrumb:before:register");var e=t(document).triggerHandler("observer:request:all"),i=t.templates(this.options.css.template);i?this.el.stacks.each(t.proxy(function(s,n){var o=t(n).attr(this.options.data.stack),r=e[o].path.split(this.options.html.ds),a=t(document).triggerHandler("observer:request:active",{type:"path",stack:o}),l=t(document).triggerHandler("observer:request:active",{
type:"edit"});t(n).link(i,{stack:o,base:r,active:a,file:l}),t(n).on("click"+this.options.namespace,this.options.css.path,{stack:o,path:this.options.data.path},function(e){t(document).triggerHandler("observer:request:active",{type:"path",stack:e.data.stack,value:t(this).attr(e.data.path)})})},this)):this.debug("register","Could Not Find Template"),t(document).trigger("arkbreadcrumb:after:register")}}),t.fn.breadcrumb=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{explorer:"#ark-explorer",overlay:".overlay",selected:"selected",folder:".folder",file:".file",toggle:".toggle",path:"[data-stack-control]",select:"[data-select]",templates:{root:"#tmpl-explorer",tree:"#tmpl-explorer-tree"}},data:{control:"data-stack-control",path:"data-path",select:"data-select"},html:{},namespace:".explorer",scroll:{all:"",one:""},root:!0},el:{root:null,explorer:null,overlay:null,stacks:{}},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.explorer=this.el.root.find(this.options.css.explorer),this.el.overlay=this.el.explorer.find(this.options.css.overlay),t.each(this.el.explorer.find(this.options.css.stack),t.proxy(function(e,i){this.el.stacks[t(i).attr(this.options.data.stack)]=i},this)),t.views?t.isEmptyObject(this.el.stacks)?(this.debug("initialise","No Explorer Stacks"),!1):(this.assets(),this.register(),void this.requests()):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},assets:function(){t(document).trigger("arkexplorer:before:assets");var e=this;t.views.helpers({canRenderFolder:function(){return!this.ctx.isinit||this.ctx.root.showroot},isAutoExpanded:function(){return!(!this.ctx.isinit||this.ctx.root.showroot)}}),t.views.tags({tree:{init:function(i,s,n){i.view.data.key&&(i.view.data.path=i.view.data.key),this.data=i.view.data,this.data.isinit=i.props.init,this.data.showroot=e.options.root,this.data.paths=this.ctx.root.paths,this.data.isinit&&t(document).triggerHandler("observer:request:update",{type:"folder",stack:this.data.name,path:this.data.path,key:"expanded",value:!0})},onAfterLink:function(t,e){},template:e.options.css.templates.tree,dataBoundOnly:!0}}),t(document).trigger("arkexplorer:after:assets")},register:function(){t(document).trigger("arkexplorer:before:register");var e=t(document).triggerHandler("observer:request:all"),i=t.templates(this.options.css.templates.root);i?t.each(this.el.stacks,t.proxy(function(s,n){var o=t(document).triggerHandler("observer:request:active",{type:"path",stack:s}),r=t(document).triggerHandler("observer:request:active",{type:"folders",stack:s}),a=t(document).triggerHandler("observer:request:active",{type:"files",stack:s}),l=t(document).triggerHandler("observer:request:active",{type:"edit"});t(n).link(i,{name:s,stack:e[s].items,path:e[s].path,active:o}),this.links(n,{stack:s,folders:r,files:a,active:o,file:l})},this)):this.debug("register","Could Not Find Template"),t(document).trigger("arkexplorer:after:register")},links:function(e,i){var s=this;t(e).on("click"+this.options.namespace,this.options.css.path,function(e){t(document).triggerHandler("observer:request:active",{type:"path",stack:i.stack,value:t(this).attr(s.options.data.path)})}),t(e).on("click"+this.options.namespace,this.options.css.toggle,{options:this.options},function(e,n){var o=t(this).attr(e.data.options.data.path),r=n&&n.direction?n.direction:"";s.expand(i.stack,o,r)}),t(e).on("dblclick"+this.options.namespace,this.options.css.edit,{edit:this.options.data.edit.value,path:i.active},function(e){t(document).triggerHandler("edit:request:file",{file:t(this).data(e.data.edit),stack:i.stack,path:e.data.path.path})}),t(e).on("click"+this.options.namespace,this.options.css.select+this.options.css.file,function(e){var n=t(this).attr(s.options.data.path);n&&n!=i.active.path&&t(document).triggerHandler("observer:request:active",{type:"path",stack:i.stack,value:n}),t(this).toggleClass(s.options.css.selected),t(document).triggerHandler("observer:request:active",{type:"files",stack:i.stack,value:t(this).attr(s.options.data.select)})}),t.observe(i.folders,t.proxy(function(t){this.select(i.stack,i.active.path,t.target,"folders")},this)),t.observe(i.files,t.proxy(function(t){this.select(i.stack,i.active.path,t.target,"files")},this)),t.observe(i.active,"path",t.proxy(function(t){this.open(i.stack,i.active.path)},this)),t.observe(i.file,"*",t.proxy(function(t){t.target.value?this.el.overlay.fadeIn():this.el.overlay.fadeOut()},this))},requests:function(){t(document).on("explorer:request:rescroll",t.proxy(function(e,i){if(this.options.scroll.all||this.options.scroll.one){if("object"==typeof i&&i.stack)var s=t(this.options.scroll.one.replace(this.options.html.sprintf,i.stack));else var s=t(this.options.scroll.all);s.nanoScroller()}},this)),t(document).on("explorer:request:scroll",t.proxy(function(t,e){},this))},select:function(e,i,s,n){var o="files"==n?this.options.css.select+this.options.css.file:this.options.css.select+this.options.css.path;t(this.el.stacks[e]).find(o).each(t.proxy(function(e,o){var r=t(o).attr(this.options.data.path),a="folders"==n?r.replace(this.options.html.ds+t(o).attr(this.options.data.select),""):r,a="folders"==n&&r==i?"":a;a==i&&(-1!=t.inArray(t(o).attr(this.options.data.select),s)?t(o).addClass(this.options.css.selected):t(o).removeClass(this.options.css.selected))},this))},open:function(e,i,s){s=t.isArray(s)?s:[],t(this.el.stacks[e]).find(this.options.css.path).each(t.proxy(function(n,o){var r=t(o).attr(this.options.data.path);if(-1===t.inArray(r,s)&&0===i.indexOf(r)){s.push(r);var a=t(o).parents(this.options.css.folder).get(0),l=a?t(a).find(this.options.css.toggle):!1;l&&(t(l).trigger("click",{direction:"open"}),r!=i&&this.open(e,i,s))}},this))},expand:function(e,i,s){var n=t(document).triggerHandler("observer:request:item",{type:"folder",stack:e,path:i,load:!0}),o="undefined"!=typeof n.expanded?n.expanded:!1;if(!(s&&("open"===s&&o||"close"===s&&!o)||(t(document).triggerHandler("observer:request:update",{type:"folder",stack:e,path:i,key:"expanded",value:!o}),t(document).triggerHandler("explorer:request:rescroll",{stack:e}),o))){var r=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e}),a=t(document).triggerHandler("observer:request:active",{type:"files",stack:e}),l=t(document).triggerHandler("observer:request:active",{type:"path",stack:e});this.select(e,l.path,r,"folders"),this.select(e,l.path,a,"files")}}}),t.fn.explorer=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{title:"#ark-title",template:"#tmpl-title"},data:{},html:{},namespace:".title"},el:{root:null,title:null,stacks:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.title=this.el.root.find(this.options.css.title),this.el.stacks=this.el.title.find(this.options.css.stack),t.views?this.el.stacks.length?void this.register():(this.debug("initialise","No Title Stacks"),!1):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},register:function(){t(document).trigger("arktitle:before:register");var e=t(document).triggerHandler("observer:request:all"),i=t(document).triggerHandler("observer:request:active",{type:"edit"}),s=t.templates(this.options.css.template);s?this.el.stacks.each(t.proxy(function(n,o){var r=t(o).attr(this.options.data.stack),a=t(document).triggerHandler("observer:request:active",{type:"folders",stack:r}),l=t(document).triggerHandler("observer:request:active",{type:"files",stack:r});t(o).link(s,{stack:e[r],folders:a,files:l,file:i})},this)):this.debug("register","Could Not Find Template"),t(document).trigger("arktitle:after:register")}}),t.fn.title=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{selected:"selected",back:{value:"back",css:".back"},preview:".folder .image",folder:".folder",file:".file",stackcontent:"[data-stack-content]",stackmessage:"[data-stack-message]",messageinner:"[data-stack-message-insert]",control:"[data-stack]",view:"[data-view]",path:"[data-stack-control]",select:"[data-select]",edit:"[data-edit]",bubble:"[data-select] [data-bubble]",action:"[data-action]",actions:{skip:{value:"skip",css:"[data-skip]"},check:{value:"check",css:'[data-action="check"]'},edit:{value:"edit",css:'[data-action="edit"]'},copy:{value:"copy",css:'[data-action="copy"]'},move:{value:"move",css:'[data-action="move"]'},remove:{value:"remove",css:'[data-action="remove"]'},rename:{value:"rename",css:'[data-action="rename"]',parent:".rename"},save:{value:"save",css:'[data-action="save"]'},cancel:{value:"cancel",css:'[data-action="cancel"]'}},form:{form:"#form-list",stack:"#form-list-stack",path:"#form-list-path",item:"#form-list-item",action:"#form-list-action",extra:"#form-list-extra"},templates:{root:"#tmpl-content",stack:"#tmpl-content-%s-stack",back:"#tmpl-content-%s-back",folder:"#tmpl-content-%s-folder",file:"#tmpl-content-%s-file",empty:"#tmpl-content-%s-empty",actions:"#tmpl-content-%s-actions",preview:"#tmpl-content-%s-folderpreview",message:"#tmpl-content-%s-message-%s"}},data:{view:"data-view",path:"data-path",select:"data-select",skip:"data-skip",action:"data-action",nu:{value:"new",data:"data-new"},old:{value:"old",data:"data-old"}},html:{move:"New Path:",ajax:"&ajax=1",messages:{removeconfirm:"Proceed?",renamepartial:"Complete!"},errors:{invalidpath:"Invalid Path!",renameerror:"Rename Failed!",renameempty:"No Name!",renamesame:"No Change!"}},namespace:".list",confirm:{remove:!0}},el:{root:null,content:null,stacks:{},form:{}},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.content=this.el.root.find(this.options.css.content),this.el.form.form=this.el.root.find(this.options.css.form.form),this.el.form.form&&(this.el.form.stack=this.el.form.form.find(this.options.css.form.stack),this.el.form.path=this.el.form.form.find(this.options.css.form.path),this.el.form.item=this.el.form.form.find(this.options.css.form.item),this.el.form.action=this.el.form.form.find(this.options.css.form.action),this.el.form.extra=this.el.form.form.find(this.options.css.form.extra)),this.el.content.find(this.options.css.stack).each(t.proxy(function(e,i){var s=t(i),n=s.attr(this.options.data.stack);this.el.stacks[n]={},this.el.stacks[n].stack=s,this.el.stacks[n].content=s.find(this.options.css.stackcontent),this.el.stacks[n].message=s.find(this.options.css.stackmessage)},this)),t.views?Object.keys(this.el.stacks).length?(this.assets(),this.register(),void this.requests()):(this.debug("initialise","No Content Stacks"),!1):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},assets:function(){t(document).trigger("arklist:before:assets");var e=this;t.views.helpers({getContentTemplate:function(i){return i=i?i:"root",e.options.css.templates.hasOwnProperty(i)?t.templates(e.options.css.templates[i].replace(e.options.html.sprintf,this.ctx.root.view)):null},fileTooltip:function(t,e){return e?"<strong>"+t+"</strong><br/> "+e.x+" x "+e.y:"<strong>"+t+"</strong>"},rename:function(i,s){var n=i.target,o=t(i.target).parents(e.options.css.actions.rename.parent),r=t(i.target).data(e.options.data.key.value),a=s.oldValue,l=s.value;if(n&&o.length){var c=o.find(e.options.css.actions.save.css),u=o.find(e.options.css.actions.cancel.css);c&&u?(c.data(e.options.data.key.value,r),c.data(e.options.data.old.value,a),c.data(e.options.data.nu.value,l),u.data(e.options.data.old.value,a)):e.debug("assets","Rename Save/Cancel Button Missing.")}else e.debug("assets","Required Rename Elements Missing, Continuing Will Fail.");return!1}},t.templates(this.options.css.templates.root)),t.views.tags({svg:function(e){var i=!1,s=!1;return t.each(e,t.proxy(function(e,n){return"object"==t.type(n.size)?(i=n,s=this.tagCtx.props.folder+"-"+Math.random().toString(16).slice(2),!1):void 0},this)),i?this.tagCtx.render({id:s,name:i.name,preview:i.preview.thumbnail}):""},back:{render:function(){var t=this.ctx.root.active.path,i=t?t.substr(0,t.lastIndexOf(e.options.html.ds)):"";return this.tagCtx.render({back:i})},linked:!1,onAfterLink:function(e,i){this.linked||(t.observe(this.ctx.root.active,"path",t.proxy(function(){this.disposed||this.refresh()},this)),this.linked=!0)}},rename:{render:function(){return"undefined"==typeof this.rename&&(this.rename={active:!1},t.observable(this.rename)),this.tagCtx.render({rename:this.rename})},onAfterLink:function(i,s){this.contents().on("click"+e.options.namespace,e.options.css.actions.rename.css,t.proxy(function(i){return e.permission("ark.action.rename")?(t.observable(this.rename).setProperty("active",!0),!1):(e.message(e.options.html.errors.permission,"error",{wink:"slow"}),e.debug("action","The User Does Not Have Sufficient Privileges to Rename a File."),!1)},this)),this.contents().on("click"+e.options.namespace,e.options.css.actions.save.css+","+e.options.css.actions.cancel.css,t.proxy(function(i){var s=t(i.target),n=s.data(e.options.data.key.value),o=s.data(e.options.data.old.value),r=s.data(e.options.data.nu.value);if(s.attr(e.options.data.action)==e.options.css.actions.save.value)if(o&&!r)e.message(e.options.html.errors.renameempty,"warning"),e.debug("assets","The Rename Action Failed Due to the Name Being Empty.");else if(o!=r&&o&&r){var a=t(document).triggerHandler("observer:request:active",{type:"stack"}),l=t(document).triggerHandler("observer:request:active",{type:"path",stack:a.value}),c={stack:a.value,active:l,ajax:!0,name:o,extra:r,action:e.options.css.actions.rename.value};result=e.action(s,c),result.status?(t(document).triggerHandler("observer:request:rename",{type:"file",stack:a.value,path:l.path,oldname:n,newname:r}),result.messages&&result.messages.length?t.each(result.messages,function(t,i){e.message(i.message,i.type?i.type:"info")}):e.message(e.options.html.messages.renamepartial,"success"),e.debug("assets","The Rename Action Was Successfully Executed.","info")):(result.messages&&result.messages.length?t.each(result.messages,function(t,i){e.message(i.message,i.type?i.type:"info")}):e.message(e.options.html.errors.renameerror),e.debug("assets","The Rename Action Failed During the Action Logic/Ajax Call."))}else e.message(e.options.html.errors.renamesame,"warning"),e.debug("assets","The Rename Action Failed Due to the Name Not Being Altered.");else e.message(e.options.html.errors.cancel,"info"),e.debug("assets","The Rename Action Was Cancelled by the User or Insufficient Data Found on the Action Button.");return t.observable(this.rename).setProperty("active",!1),!1},this))}}}),t(document).trigger("arklist:after:assets")},register:function(){t(document).trigger("arklist:before:register");var e=t(document).triggerHandler("observer:request:all"),i=t.templates(this.options.css.templates.root);i?t.each(this.el.stacks,t.proxy(function(s,n){var o=e[s].path,r=t(document).triggerHandler("observer:request:active",{type:"path",stack:s}),a=t(document).triggerHandler("observer:request:active",{type:"folders",stack:s}),l=t(document).triggerHandler("observer:request:active",{type:"files",stack:s});n.stack.find(this.options.css.view).each(t.proxy(function(n,a){var l=t(a).attr(this.options.data.view);t(a).link(i,{stack:e[s].items,name:s,view:l,base:o,active:r})},this)),this.links(n.stack,{stack:s,active:r,folders:a,files:l})},this)):this.debug("register","Could Not Find Template"),t(document).trigger("arklist:after:register")},links:function(e,i){e.on("click"+this.options.namespace,this.options.css.select,{options:this.options},function(e){t(this).toggleClass(e.data.options.css.selected);var s=t(this).attr(e.data.options.data.path)?"folders":"files";t(document).triggerHandler("observer:request:active",{type:s,stack:i.stack,value:t(this).attr(e.data.options.data.select)})}),e.on("dblclick"+this.options.namespace,this.options.css.path,{options:this.options},function(e){t(document).triggerHandler("observer:request:active",{type:"path",stack:i.stack,value:t(this).attr(e.data.options.data.path)})}),e.on("singleTap"+this.options.namespace,this.options.css.path,{options:this.options},function(e){t(this).trigger("dblclick")}),e.on("doubleTap"+this.options.namespace,this.options.css.folder,{options:this.options},function(e){t(this).trigger("click")}),e.on("dblclick"+this.options.namespace,this.options.css.edit,{edit:this.options.data.edit.value,path:i.active},function(e){t(document).triggerHandler("edit:request:file",{file:t(this).data(e.data.edit),stack:i.stack,path:e.data.path.path})}),e.on("doubleTap"+this.options.namespace,this.options.css.edit,function(e){t(this).trigger("dblclick")}),e.on("click"+this.options.namespace,this.options.css.bubble,function(t){t.stopPropagation()}),e.on("click"+this.options.namespace,this.options.css.action,{self:this},function(t){t.data.self.action(this,i)}),e.on("tap"+this.options.namespace,this.options.css.action,function(e){t(this).trigger("click")}),t.observe(i.folders,i.files,t.proxy(function(t){this.select(e,i.folders,i.files)},this)),t.observe(i.active,"*",t.proxy(function(e){var s=t(document).triggerHandler("observer:request:item",{type:"folder",stack:i.stack,path:e.target.path,load:!1});s.count||s.folders?this.notify(!1):this.notify("noitems")},this))},requests:function(){t(document).on("list:request:actions",t.proxy(function(t,e){if(e&&"object"==typeof e){if("data"===e.action)return this.options.data.action;if(this.options.css.actions.hasOwnProperty(e.action))return this.options.css.actions[e.action]}return this.options.css.actions},this)),t(document).on("list:request:message",t.proxy(function(t,e){e?"string"==typeof e?this.notify(e):"object"==typeof e&&e.hasOwnProperty("message")&&this.notify(e.message):this.notify(!1)},this)),t(document).on("observer:request:item:ajax",t.proxy(function(t,e){this.notify("preload",e)},this)),t(document).on("observer:request:item:error",t.proxy(function(t,e){return e&&e.data&&"object"==typeof e.data&&e.data.hasOwnProperty("status")?this.notify(e.data.status,e):this.notify("fatal",e)},this)),t(document).on("observer:request:item:loaded",t.proxy(function(t,e){var i=Object.keys(e.data),s=e.data[i[0]];1!==i.length||!s.loaded||s.folders||s.count?this.notify(!1):this.notify("noitems",e)},this)),t(document).on("upload:request:done",t.proxy(function(t,e){this.notify(!1)},this))},select:function(e,i,s){t(document).trigger("arklist:before:select",[e,i,s]),e.find(this.options.css.select).each(t.proxy(function(e,n){var o=t(n).attr(this.options.data.path)?i:s;-1!=t.inArray(t(n).attr(this.options.data.select),o)?t(n).addClass(this.options.css.selected):t(n).removeClass(this.options.css.selected)},this)),t(document).trigger("arklist:after:select",[e,i,s])},action:function(e,i){if(i=t.extend(t(document).triggerHandler("list:before:action",{form:this.el.form,el:e,options:t.extend({},i)}),i),i.skip||t(e).attr(this.options.data.skip))return!1;var s=i.name||t(e).attr(this.options.data.name),n=i.action||t(e).attr(this.options.data.action),o=!0;if(t.each(this.el.form,t.proxy(function(e,i){return i&&t(i).get(0)?void 0:(this.message(this.options.html.errors.form),this.debug("action","Some of the SubAction Form Elements Are Missing."),o=!1)},this)),o)if(i.stack&&i.active.path)if(s&&n){if(this.options.css.actions.hasOwnProperty(n)&&!this.permission("ark.action."+n))return this.message(this.options.html.errors.permission,"error",{wink:"slow"}),this.debug("action",'The User Does Not Have Sufficient Privileges to Perform the "'+n+'" Action.'),!1;switch(this.el.form.stack.val(i.stack),this.el.form.path.val(i.active.path),this.el.form.item.val(s),n){default:return this.message(this.options.html.errors.action),this.debug("action","The Action Does Not Exist/Not Plumbed in."),!1;case this.options.css.actions.check.value:return!1;case this.options.css.actions.edit.value:return this.options.version.pro?(this.message(this.options.html.messages.feature.plugin,"info",{wink:"slow"}),this.debug("action","The Edit Action is Disabled.")):(this.message(this.options.html.messages.feature.upgrade,"info",{wink:"slow"}),this.debug("action","The Edit Action is a Professional Only Feature.")),!1;case this.options.css.actions.copy.value:this.el.form.action.val(this.options.css.actions.copy.value);break;case this.options.css.actions.move.value:var r=this.prompt(this.options.html.move,this.el.form.path.val(),i.stack);if(!r)return!1;this.el.form.extra.val(r),this.el.form.action.val(this.options.css.actions.move.value);break;case this.options.css.actions.remove.value:var a=this.options.html.messages.removeconfirm.replace(this.options.html.sprintf,s);if(this.options.confirm.remove&&!confirm(a))return this.message(this.options.html.errors.cancel,"info"),this.debug("action","Delete Process Not Confirmed by User."),!1;this.el.form.action.val(this.options.css.actions.remove.value);break;case this.options.css.actions.rename.value:if(!i.extra)return!1;this.el.form.extra.val(i.extra),this.el.form.action.val(this.options.css.actions.rename.value)}if(i.ajax)return this.ajaxAction();this.el.form.form.submit()}else{var a=this.options.html.errors.action,l=s?"The Action Could Not be Found on the Element.":"The File Name Could Not be Found on the Element.";this.message(a),this.debug("action",l)}else this.message(this.options.html.errors.path),this.debug("action","The Observer Active Stack Path Could Not be Found.");else this.message(this.options.html.errors.form),this.debug("action","Some of the SubAction Form Elements Are Missing.");t(document).trigger("list:after:action",{form:this.el.form,el:e,options:i})},prompt:function(e,i,s){var n=prompt(e,i);return"null"==t.type(n)?(this.message(this.options.html.errors.cancel,"info"),this.debug("action","The Move Action Was Cancelled by the User.","info"),!1):n?t(document).triggerHandler("observer:request:validate",{type:"path",stack:s,value:n})?n:(this.message(this.options.html.errors.invalidpath,"alert"),this.debug("action","The Path Does Not Exist or is Not in the Stack."),this.prompt(e,n,s)):(this.message(this.options.html.errors.path,"alert"),this.debug("action","The Path Entered by the User is Empty."),this.prompt(e,i,s))},ajaxAction:function(e){t(document).trigger("arklist:before:ajax",[this.el.form]),e=e||{};var i=this,s={status:!1,messages:[]},n=e.async||!1;return t.ajax({type:"post",dataType:"json",async:n,url:this.el.form.form.attr("action")+this.options.html.ajax,data:this.el.form.form.serialize()}).done(function(t){t&&"object"==typeof t?(s=t,t.status||i.debug("ajaxAction","Rename Ajax Call Returned a Failed Status.")):i.debug("ajaxAction","Rename Ajax Call Returned Malformed Data.")}).fail(function(){i.debug("ajaxAction","Rename Ajax Call Failed.")}),t.each(s.messages,function(t,e){e.type="message"===e.type?"success":e.type}),t(document).trigger("arklist:after:ajax",[this.el.form]),s},notify:function(e,i){var s=t(document).triggerHandler("observer:request:active",{type:"stack"}),n=this.el.stacks[s.value].message.find(this.options.css.messageinner);if(e){var o=this.options.css.templates.message.replace(this.options.html.sprintf,s.value).replace(this.options.html.sprintf,e),r=t.templates(o);if(t(o).length&&r){var a=r.render(i);return n.html(a),this.view("message"),!0}}else if(e===!1)return n.html(""),this.view("content"),!0;return this.debug("notify","Could Not Find Template"),!1},view:function(e){var i=t(document).triggerHandler("observer:request:active",{type:"stack"});switch(e){case"content":this.el.stacks[i.value].content.show(),this.el.stacks[i.value].message.hide();break;default:case"message":this.el.stacks[i.value].content.hide(),this.el.stacks[i.value].message.show()}}}),t.fn.list=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{contenttopbar:"#ark-contenttop",editbar:"#ark-editbar",actionbar:"#ark-actions",subactionbar:"#ark-subactions",editactionbar:"#ark-edit-actions",preview:{container:"#ark-edit-preview",holder:".preview",preview:"*",loading:".loading",failed:".failed"},settings:{container:"#ark-edit-settings",fieldset:".fieldset",group:".row",field:".field",lists:"select",combos:"div.combobox",stacks:"[data-stack]"},action:"[data-action]",actions:{save:{value:"save",css:'[data-action="save"]'},exit:{value:"exit",css:'[data-action="exit"]'},cancel:{value:"cancel",css:'[data-action="cancel"]'},browse:{value:"browse",css:'[data-action="browse"]'},insert:{value:"insert",css:'[data-action="insert"]'}},templates:{root:"#tmpl-edit",actions:"#tmpl-edit-actions",preview:"#tmpl-edit-preview",settings:"#tmpl-edit-settings",subactions:"#tmpl-edit-subactions"}},data:{wild:"*",group:"data-customgroup",action:"data-action"},html:{messages:{save:"Saved!"},errors:{invalid:"Incorrect Path!",nofile:"No File!",noparent:"No Parent!",filelost:"No File!"}},namespace:".edit",enabled:!0,full:!0,wait:!1,quick:!1,settings:!0,lock:!0,edit:{editor:null,field:null,stacks:null,stack:null,path:null,file:null,callback:null},xml:{},layout:null,permission:{insert:null,settings:null},animate:1e3},layout:null,el:{root:null,contenttop:null,editbar:null,actions:null,subactions:null,editactions:null,content:null,edit:null,preview:null,settings:null,lists:null,combos:null,stacks:null,controls:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.contenttop=this.el.root.find(this.options.css.contenttopbar),this.el.editbar=this.el.root.find(this.options.css.editbar),this.el.actions=this.el.root.find(this.options.css.actionbar),this.el.subactions=this.el.root.find(this.options.css.subactionbar),this.el.content=this.el.root.find(this.options.css.content),this.el.edit=this.el.root.find(this.options.css.editbox),t.views?(this.requests(),this.options.enabled?(this.loader(),void this.assets()):(this.debug("initialise",'"Edit Mode" is Disabled.',"info"),!1)):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},loader:function(){t(document).trigger("arkedit:before:loader"),t(document).on("observer:request:item:loaded"+this.options.namespace,t.proxy(function(e,i){this.options.edit.stack===i.stack&&this.options.edit.path===i.path&&(this.setDefault(),t(document).off("observer:request:item:loaded"+this.options.namespace))},this)),t(document).on("edit:request:file",t.proxy(function(e,i){if(i.file){if(i.stack&&i.path&&(t(document).triggerHandler("observer:request:active",{type:"stack",value:i.stack}),t(document).triggerHandler("observer:request:active",{type:"path",stack:i.stack,value:i.path})),t(document).triggerHandler("observer:request:active",{type:"edit",value:i.file}),this.options.quick)return t(document).triggerHandler("edit:request:save"),!0;if(this.el.content.length&&this.el.edit.length){t(document).triggerHandler("stack:request:solo");var s=t(document).triggerHandler("observer:request:active",{type:"stack"});return t(document).triggerHandler("observer:request:active",{type:"files",stack:s.value,value:[]}),this.options.layout&&(this.layout=t(document).triggerHandler("arkresize:request:value"),t(document).triggerHandler("arkresize:request:toggle",{value:this.options.layout})),this.el.contenttop.slideUp(this.options.animate),this.el.content.slideUp(this.options.animate,t.proxy(function(){this.el.editbar.slideDown(this.options.animate),this.el.actions.slideUp(this.options.animate),this.el.subactions.slideUp(this.options.animate),this.register(),this.elements(),this.addEditEvents(),this.el.edit.slideDown(this.options.animate)},this)),!0}}else this.message(this.options.html.errors.data,"error",{wink:"slower"}),this.debug("loader","Insufficient File Data Provided for the Edit Mode to Intiate.");return!1},this)),t(document).on("edit:request:save",t.proxy(function(t){var e=this.insert(t);return e?(this.message(this.options.html.messages.save,"success"),this.debug("loader","Edit Mode Saved & Exited.","info"),window.close(),!0):!1},this)),t(document).on("edit:request:exit",t.proxy(function(t){return window.close()},this)),t(document).on("edit:request:close",t.proxy(function(t){return this.unload(t)?(this.message(this.options.html.errors.cancel,"info"),this.debug("loader","Edit Mode Cancelled by User.","info"),!0):!1},this)),t(document).on("edit:request:browse",t.proxy(function(t){return this.unload(t)?(this.debug("loader","Edit Mode Closed by User.","info"),!0):!1},this)),t(document).on("edit:request:preview:open",t.proxy(function(e){var i=this.el.preview.find(this.options.css.preview.holder),s=this.el.preview.find(this.options.css.preview.loading);s.slideUp(this.options.animate,t.proxy(function(){i.slideDown(this.options.animate)},this))},this)),t(document).on("edit:request:preview:close",t.proxy(function(e){var i=this.el.preview.find(this.options.css.preview.failed),s=this.el.preview.find(this.options.css.preview.loading);s.slideUp(this.options.animate,t.proxy(function(){i.slideDown(this.options.animate)},this))},this)),t(document).trigger("arkedit:after:loader")},requests:function(){t(document).on("edit:request:params",t.proxy(function(t){return this.options.edit},this)),t(document).on("edit:request:state",t.proxy(function(t){return this.options.enabled},this))},assets:function(){t(document).trigger("arkedit:before:assets");var e=this;t.views.helpers({getTemplate:function(i){return e.options.css.templates.hasOwnProperty(i)?t.templates(e.options.css.templates[i]):null},preview:function(i){var s;if(i){var n=t(document).triggerHandler("observer:request:active",{type:"stack"}),o=t(document).triggerHandler("observer:request:active",{type:"path",stack:n.value}),r=e.toURL(e.options.html.url+o.path+e.options.html.ds+i),a={stack:n.value,path:r,name:i};s=t(document).triggerHandler("edit:request:preview:html",a)||"",s||(s=t("<span>").addClass(e.options.css.hide.value).get(0).outerHTML,t(document).delay(0).queue(function(t){if(e.el.preview){var i=e.el.preview.find(e.options.css.preview.holder);i.find(e.options.css.preview.preview).trigger("error")}t()}))}return s},icon:function(e){var i=t(document).triggerHandler("observer:request:active",{type:"stack"}),s=t(document).triggerHandler("edit:request:icon",{stack:i.value});return s||e}},t.templates(this.options.css.templates.root)),t.views.converters({defaults:function(e){var i=this.linkCtx?t(this.linkCtx.elem).val():"";return e||i||""},listdefaults:function(i){var s=t(this.linkCtx.elem);if("array"===t.type(i)&&s.is("select")){var n=s.find("option"),o=t.map(n,function(t){return t.value}),r=s;s.find("optgroup").length&&($group=t('<optgroup label="'+(s.attr(e.options.data.group)||"")+'"></optgroup>'),s.append($group),r=$group),t.each(i,function(e,i){-1===t.inArray(i,o)&&r.append("<option>"+i+"</option>")})}return this.linkCtx.view.getRsc("converters","defaults").call(this,i)}},t.templates(this.options.css.templates.root)),"function"!=typeof t.fn.callable&&(t.fn.callable=t.proxy(function(t){return this.isCallable(t)},this)),"function"!=typeof t.fn.attributes&&(t.fn.attribs=t.proxy(function(e){var i={};return t.each(e.attributes,function(t,e){i[e.name]=e.value}),i},this)),t(document).trigger("arkedit:after:assets")},setDefault:function(){if(t(document).trigger("arkedit:before:default",[this.options.edit]),this.options.edit.stack&&this.options.edit.path&&this.options.edit.file){var e=t(document).triggerHandler("observer:request:validate",{type:"path",stack:this.options.edit.stack,value:this.options.edit.path}),i=t(document).triggerHandler("observer:request:validate",{type:"file",stack:this.options.edit.stack,path:this.options.edit.path,value:this.options.edit.file});t(document).triggerHandler("stack:request:solo"),e?i?this.options.wait||this.options.quick?this.options.quick&&this.highlight("file",this.options.edit.stack,this.options.edit.path,this.options.edit.file):t(document).triggerHandler("edit:request:file",{
file:this.options.edit.file,stack:this.options.edit.stack,path:this.options.edit.path}):(this.message(this.options.html.errors.nofile,"error",{wink:"slower"}),this.debug("setDefault","The Stack Information is Available but the Passed File Does not Exist in the Stack Path.")):(this.message(this.options.html.errors.invalid,"error",{wink:"slower"}),this.debug("setDefault","The Passed Stack & Path Data is Invalid."))}else this.options.edit.stack&&this.options.edit.editor&&this.options.lock?t(document).triggerHandler("stack:request:solo"):this.options.edit.file&&(this.message(this.options.html.errors.path,"error",{wink:"slower"}),this.debug("setDefault","The Passed Stack & Path Data is Incomplete/Missing."));t(document).trigger("arkedit:after:default",[this.options.edit])},register:function(){t(document).trigger("arkedit:before:register");var e=t.templates(this.options.css.templates.root);if(e){var i=t(document).triggerHandler("observer:request:active",{type:"stack"}),s=t(document).triggerHandler("observer:request:active",{type:"path",stack:i.value}),n=t(document).triggerHandler("observer:request:active",{type:"edit"}),o=this.attributes(i.value);try{t(this.el.edit).link(e,{path:s,file:n,info:o})}catch(r){this.debug("register",'Register Failed With: "'+r.message+'"')}}else this.debug("register","Could Not Find Template");t(document).trigger("arkedit:after:register")},elements:function(){t(document).trigger("edit:before:elements",[this.el]),this.el.editactions=this.el.edit.find(this.options.css.editactionbar),this.el.controls=this.el.edit.find(this.options.css.action),this.el.preview=this.el.edit.find(this.options.css.preview.container),this.el.settings=this.el.edit.find(this.options.css.settings.container),this.el.fieldsets=this.el.settings.find(this.options.css.settings.fieldset),this.el.groups=this.el.settings.find(this.options.css.settings.group),this.el.lists=this.el.settings.find(this.options.css.settings.lists),this.el.combos=this.el.settings.find(this.options.css.settings.combos),this.el.stacks=this.el.settings.find(this.options.css.settings.stacks),t(document).trigger("edit:after:elements",[this.el])},addEditEvents:function(){var e=t(document).triggerHandler("observer:request:active",{type:"stack"}),i=t(document).triggerHandler("edit:before:event",{stack:e.value})||e.value;if(t.fn.chosen&&(this.el.lists.chosen({disable_search_threshold:10,width:"100%"}),this.el.lists.each(t.proxy(function(e,i){var s=t(i).data(this.options.data.value.value);s&&(t(i).val(s),t(i).trigger("liszt:updated"),t(i).trigger("chosen:updated"))},this))),t.fn.ComboTransform&&this.el.combos.ComboTransform({updateList:!0}),this.el.controls.on("click"+this.options.namespace,{options:this.options},function(e){switch(t(this).attr(e.data.options.data.action)){case e.data.options.css.actions.exit.value:t(document).triggerHandler("edit:request:exit");break;case e.data.options.css.actions.cancel.value:t(document).triggerHandler("edit:request:close");break;case e.data.options.css.actions.save.value:t(document).triggerHandler("edit:request:save");break;case e.data.options.css.actions.browse.value:t(document).triggerHandler("edit:request:browse");break;case e.data.options.css.actions.insert.value:t(document).triggerHandler("edit:request:save")}}),this.el.stacks.each(t.proxy(function(e,s){var n=t(s).attr(this.options.data.stack),o=t(s).find(this.options.css.settings.field);n&&n!=i&&(t(s).addClass(this.options.css.hide.value),o&&o.prop("disabled",!0))},this)),this.el.fieldsets.each(t.proxy(function(e,i){var s=t(i).find(this.options.css.settings.group),n=!0;s.each(t.proxy(function(e,i){t(i).hasClass(this.options.css.hide.value)||(n=!1)},this)),n&&t(i).addClass(this.options.css.hide.value)},this)),this.el.editactions.find(this.options.css.stack).each(t.proxy(function(e,s){var n=t(s).attr(this.options.data.stack);n&&n!=i&&t(s).addClass(this.options.css.hide.value)},this)),this.el.preview.length){var s=t(document).triggerHandler("edit:request:preview:event",{stack:i})||"load",n=t(document).triggerHandler("edit:request:preview:error",{stack:i})||"error",o=this.el.preview.find(this.options.css.preview.holder);o.find(this.options.css.preview.preview).on(s+this.options.namespace,t.proxy(function(e){t(document).triggerHandler("edit:request:preview:open")},this)).on(n+this.options.namespace,t.proxy(function(e){t(document).triggerHandler("edit:request:preview:close")},this))}t(document).trigger("edit:after:event",[this.el.lists,this.el.controls])},insert:function(e){var i=t(document).triggerHandler("arkedit:before:insert",{caller:e});if(i&&i.isImmediatePropagationStopped())return!1;var s=this.isCallable(this.options.edit.callback),n=!1,o=t(document).triggerHandler("observer:request:active",{type:"stack"}),r=t(document).triggerHandler("observer:request:active",{type:"path",stack:o.value}),a=t(document).triggerHandler("observer:request:active",{type:"edit"}),l=this.toURL(r.path+this.options.html.ds+a.value);if(s){var c={};if(this.permission(this.options.permission.settings)&&!this.options.quick)var c=this.form(o.value);var u=t(document).triggerHandler("edit:request:build",{stack:o.value,options:this.options.edit,attributes:c,xml:this.options.xml,path:l});u?(s[this.options.edit.callback](u,this.options.edit.field),n=!0):(this.message(this.options.html.errors.filelost,"error",{wink:"slow"}),this.debug("insert","Either The Parent Window Could not be Found or Reference to the Original Editor File Was Lost."))}else this.message(this.options.html.errors.noparent,"error",{wink:"slow"}),this.debug("insert",'Either The Parent Window Could not be Found or the "Insert" Function Could not be Called.');return t(document).trigger("arkedit:after:insert"),n},unload:function(e){var i=t(document).triggerHandler("arkedit:before:unload",{caller:e});return i&&i.isImmediatePropagationStopped()?!1:this.el.content.length&&this.el.edit.length?(this.options.lock||t(document).triggerHandler("stack:request:unsolo"),this.options.layout&&this.options.layout!==this.layout&&t(document).triggerHandler("arkresize:request:toggle",{value:this.layout}),this.el.editbar.slideUp(this.options.animate),this.el.edit.slideUp(this.options.animate,t.proxy(function(){t(document).triggerHandler("observer:request:active",{type:"edit",value:null}),this.el.contenttop.slideDown(this.options.animate),this.el.actions.slideDown(this.options.animate),this.el.subactions.slideDown(this.options.animate),this.el.content.slideDown(this.options.animate),this.el.edit.empty()},this)),!0):(t(document).trigger("arkedit:after:unload"),!1)},isCallable:function(e){return t(document).trigger("arkedit:before:callable"),window.opener&&(!e||e&&"function"==typeof window.opener[e])?window.opener:(t(document).trigger("arkedit:after:callable"),!1)},attributes:function(e){var i=t(document).triggerHandler("edit:request:attributes",{stack:e,options:this.options.edit,xml:this.options.xml}),s={};return i&&t.each(this.options.xml,t.proxy(function(n,o){var r=i.hasOwnProperty(o.attribute)?i[o.attribute]:!1;if(r||-1!==o.attribute.indexOf(this.options.data.wild))switch(s[o.fieldname]="",o.converter){case"full":t.each(o.omissions,function(t,e){r=r.replace(e,"")}),s[o.fieldname]=r;break;case"list-regex":case"list-full":var a=[];switch(t.each(o.options,function(t,e){e&&-1!==r.indexOf(e)&&a.push(e)}),a.length){case 0:break;case 1:s[o.fieldname]=a.shift();break;default:s[o.fieldname]=a.reduce(function(t,e){return t.length>e.length?t:e})}break;case"attr-regex":var a=[],l=this.toArray(o.omissions);t.each(i,t.proxy(function(e,i){if(0===e.indexOf(o.attribute.replace(this.options.data.wild,""))&&-1===t.inArray(e,l)){var s=i?e+'="'+i+'"':e;a.push(s)}},this)),a.length&&(s[o.fieldname]=a);break;default:s[o.fieldname]=t(document).triggerHandler("edit:request:converter",{stack:e.value,field:o,attribute:r})}},this)),s},form:function(e){e=t(document).triggerHandler("edit:before:form",{stack:e})||e;var i=this.fields(this.el.settings,{groups:!1}),s=t(document).triggerHandler("edit:request:attributes",{stack:e,options:this.options.edit}),n=t.extend({},this.options.xml);return s&&(t.each(n,t.proxy(function(t,o){if(!o.stack||o.stack&&o.stack===e)switch(o.converter){case"full":s[o.attribute]=this.trim(i[o.fieldname],o.separator),delete n[t]}},this)),t.each(n,t.proxy(function(n,o){if(!o.stack||o.stack&&o.stack===e){var r=i[o.attribute]||"";switch(o.converter){case"list-regex":t.each(o.options,t.proxy(function(t,e){if(e&&-1!==r.indexOf(e)){var i="(^|"+o.separator+")"+this.escape(e)+"+(?=$|"+o.separator+")";r=r.replace(new RegExp(i,"g"),"")}},this));var a=this.trim(r,o.separator);s[o.attribute]=a+(a&&i[o.fieldname]?o.separator:"")+i[o.fieldname];break;case"list-full":t.each(o.options,t.proxy(function(t,e){e&&-1!==r.indexOf(e)&&(r=r.replace(e,""))},this));var a=this.trim(r,o.separator);s[o.attribute]=a+(a&&i[o.fieldname]?o.separator:"")+i[o.fieldname];break;case"attr-regex":var l=this.toArray(o.omissions);t.each(s,t.proxy(function(e,i){0===e.indexOf(o.attribute.replace(this.options.data.wild,""))&&(s[e]="",-1!==t.inArray(e,l)&&delete s[e])},this));var c=("string"==typeof i[n]?[i[n]]:i[n])||[];t.each(c,function(t,e){var i=e.split('="');s[i[0]]=i[1]?i[1].replace('"',""):""});break;default:s[o.attribute]=t(document).triggerHandler("edit:request:unconverter",{stack:e,field:o,attribute:r})}i[o.attribute]=s[o.attribute]}},this))),s}}),t.fn.edit=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{thumbnail:"[data-thumbnail]",container:"[data-container]",names:{loading:"loading",failed:"failed"}},namespace:".thumbnail"},initialise:function(t){this.set(t),this.requests()},requests:function(){t(document).on("load"+this.options.namespace,this.options.css.thumbnail,t.proxy(function(t,e){e.el&&this.state(e.el,"complete")},this)),t(document).on("thumbnail:request:load",t.proxy(function(t,e){e.el&&this.state(e.el,"complete")},this)),t(document).on("thumbnail:request:error",t.proxy(function(t,e){e.el&&this.state(e.el,"failed")},this))},state:function(e,i){if(e&&i){var s=t(e).closest(this.options.css.container),n=[],o=[];if(s.length){switch(i){case"loading":n.push(this.options.css.names[i]),o.push(this.options.css.names.failed),o.push(this.options.css.names.disabled);break;case"complete":o.push(this.options.css.names.loading),o.push(this.options.css.names.failed),o.push(this.options.css.names.disabled);break;case"failed":n.push(this.options.css.names[i]),o.push(this.options.css.names.loading),o.push(this.options.css.names.disabled)}t(s).addClass(n.join(" ")).removeClass(o.join(" "))}}}}),t.fn.thumbnail=function(t){return new e(t)}}(window.jQuery),function(t){var e={},i=function(t){this.initialise(t)};i.prototype=t.extend({},t.fn.arkbase(),{constructor:i,options:{css:{control:'[data-toggle="ark-collapse"]',group:"[data-group]"},data:{target:"data-target",group:"data-group",active:"data-active"},html:{},namespace:".arkcollapse",permission:null,group:null,animate:100},active:!0,value:null,values:[],el:{root:null,controls:{}},initialise:function(e){this.set(e),this.el.root=t(this.options.css.root),this.controls(),this.harvest(),this.addControlEvents(),this.requests(),this.setDefault()},controls:function(){t(document).trigger("arkcollapse:before:controls"),this.el.controls=this.el.root.find(this.options.css.control),this.el.controls.each(t.proxy(function(e,i){t(i).attr(this.options.data.group)!=this.options.group&&delete this.el.controls[e]},this)),t(document).trigger("arkcollapse:after:controls",[this.el.controls])},harvest:function(){this.el.controls.each(t.proxy(function(e,i){var s=t(i).attr(this.options.data.value.data);s&&-1===t.inArray(s,this.values)&&this.values.push(s)},this))},addControlEvents:function(){t(document).trigger("arkcollapse:before:add",[this.el.controls]);var e=this;this.el.controls.on("click"+this.options.namespace,function(i){if(i.preventDefault(),i.stopPropagation(),!e.active)return e.message(e.options.html.errors.permission,"error"),e.debug("addControlEvents","This Collapser is Currently Disabled."),!1;var s=t(this).attr(e.options.data.value.data);if(s===e.value)return!1;e.value=s;var n=t(this).attr(e.options.data.target),o=t(this).attr(e.options.data.group),r=e.el.root.find(n),a=e.el.root.find(e.options.css.group);r.length&&r.show(e.options.animate?e.options.animate:null),a.each(function(i,s){var r=t(s).attr(e.options.data.target);if(t(s).attr(e.options.data.group)==o&&r!=n){var a=e.el.root.find(r);a.length&&a.hide()}})}),t(document).trigger("arkcollapse:after:add",[this.el.controls])},setDefault:function(){t(document).trigger("arkcollapse:before:default",[this.el.controls]),this.el.controls.each(t.proxy(function(e,i){t(i).attr(this.options.data.active)&&(t(document).triggerHandler("arkcollapse:request:toggle",{value:t(i).attr(this.options.data.value.data),group:this.options.group}),t(i).removeAttr(this.options.data.active),t(i).addClass(this.options.css.bootstrap.active.value))},this)),this.options.permission&&!this.permission(this.options.permission)&&this.el.controls.remove(),t(document).trigger("arkcollapse:after:default",[this.el.controls])},requests:function(){t(document).on("arkcollapse:request:state",t.proxy(function(t,e){e.group===this.options.group&&("on"===e.type?(this.active=!0,this.el.controls.removeAttr("disabled")):(this.active=!1,this.el.controls.attr("disabled","disabled")))},this)),t(document).on("arkcollapse:request:toggle",t.proxy(function(e,i){i.group===this.options.group&&this.active&&this.el.controls.each(t.proxy(function(e,s){t(s).attr(this.options.data.value.data)===i.value&&(t(s).trigger("click"),"function"==typeof t(s).button&&t(s).button("toggle"))},this))},this)),t(document).on("arkcollapse:request:value",t.proxy(function(t,e){return e.group===this.options.group?this.value:void 0},this)),t(document).on("arkcollapse:request:values",t.proxy(function(t,e){return e.group===this.options.group?this.values:void 0},this))}}),t.fn.arkcollapse=function(t){return e.hasOwnProperty(t.group)||(e[t.group]=new i(t)),e[t.group]}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{control:null},data:{link:null,name:null},namespace:".filedownload"},active:!0,el:{root:null,controls:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.controls=this.el.root.find(this.options.css.control),t.views?(this.links(),this.requests(),void this.toggle()):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},links:function(){this.el.controls.on("click"+this.options.namespace,t.proxy(function(e){var i=t(e.target),s=t(document).triggerHandler("filedownload:request:path"),n=t(document).triggerHandler("filedownload:request:file");i.attr(this.options.data.link,s),i.attr(this.options.data.name,n)},this)),t(this).delay(0).queue(function(){var e=t(document).triggerHandler("observer:request:all"),i=t(document).triggerHandler("observer:request:active",{type:"stack"});t.each(e,t.proxy(function(e,i){var s=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e}),n=t(document).triggerHandler("observer:request:active",{type:"files",stack:e});t.observe(s,n,t.proxy(function(t){this.toggle(s,n)},this))},this)),t.observe(i,"*",t.proxy(function(e){var i=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e.target.value}),s=t(document).triggerHandler("observer:request:active",{type:"files",stack:e.target.value});this.toggle(i,s)},this)),t(this).dequeue})},toggle:function(e,i){e=t.isArray(e)?e:[],i=t.isArray(i)?i:[],e.length||1!==i.length?t(document).triggerHandler("filedownload:request:state",{type:"off"}):t(document).triggerHandler("filedownload:request:state",{type:"on"})},requests:function(){t(document).on("filedownload:request:state",t.proxy(function(t,e){"on"===e.type?(this.active=!0,this.el.controls.removeAttr("disabled")):(this.active=!1,this.el.controls.attr("disabled","disabled"))},this)),t(document).on("filedownload:request:path",t.proxy(function(e,i){var s=t(document).triggerHandler("observer:request:active",{type:"stack"}),n=t(document).triggerHandler("observer:request:active",{type:"path",stack:s.value}),o=t(document).triggerHandler("observer:request:active",{type:"files",stack:s.value});return this.options.html.url+n.path+this.options.html.ds+o[0]},this)),t(document).on("filedownload:request:file",t.proxy(function(e,i){var s=t(document).triggerHandler("observer:request:active",{type:"stack"}),n=t(document).triggerHandler("observer:request:active",{type:"files",stack:s.value});return n[0]},this))}}),t.fn.filedownload=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{control:null},data:{title:null},html:{messages:{success:"Success!"},errors:{fail:"Failed!"}},namespace:".copylink"},active:!0,el:{root:null,controls:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.controls=this.el.root.find(this.options.css.control),t.views?(this.links(),this.requests(),void this.toggle()):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},links:function(){this.el.controls.on("click"+this.options.namespace,t.proxy(function(e){if(t(e.target).tooltip("show"),document.queryCommandSupported("copy"))try{if(this.el.root.find(this.options.css.path.selector).focus().select(),document.execCommand("copy"))return t(e.target).tooltip("hide"),this.message(this.options.html.messages.success,"success")}catch(i){}this.message(this.options.html.errors.fail,"warning")},this)),t(document).on("show.bs.tooltip",this.options.css.control,t.proxy(function(e){if(e.target.hasAttribute(this.options.data.title)){var i=t(document).triggerHandler("copylink:request:path"),s=t('<input type="text" id="'+this.options.css.path.value+'" value="'+i+'" />');t(e.target).attr(this.options.data.title,s.prop("outerHTML"))}},this)),t(this).delay(0).queue(function(){var e=t(document).triggerHandler("observer:request:all"),i=t(document).triggerHandler("observer:request:active",{type:"stack"});t.each(e,t.proxy(function(e,i){var s=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e}),n=t(document).triggerHandler("observer:request:active",{type:"files",stack:e});t.observe(s,n,t.proxy(function(t){this.toggle(s,n)},this))},this)),t.observe(i,"*",t.proxy(function(e){var i=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e.target.value}),s=t(document).triggerHandler("observer:request:active",{type:"files",stack:e.target.value});this.toggle(i,s)},this)),t(this).dequeue})},toggle:function(e,i){e=t.isArray(e)?e:[],i=t.isArray(i)?i:[],e.length||1!==i.length?t(document).triggerHandler("copylink:request:state",{type:"off"}):t(document).triggerHandler("copylink:request:state",{type:"on"})},requests:function(){t(document).on("copylink:request:state",t.proxy(function(t,e){"on"===e.type?(this.active=!0,this.el.controls.removeAttr("disabled")):(this.active=!1,this.el.controls.attr("disabled","disabled"))},this)),t(document).on("copylink:request:path",t.proxy(function(e,i){var s=t(document).triggerHandler("observer:request:active",{type:"stack"}),n=t(document).triggerHandler("observer:request:active",{type:"path",stack:s.value}),o=t(document).triggerHandler("observer:request:active",{type:"files",stack:s.value});return this.options.html.url+n.path+this.options.html.ds+o[0]},this))}}),t.fn.copylink=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{form:"#form-subactions-deleteitems",stack:"#stack-subactions-deleteitems",path:"#path-subactions-deleteitems",folders:"#folders-subactions-deleteitems",files:"#files-subactions-deleteitems",control:"#ctrl-subactions-deleteitems"},html:{errors:{confirm:{all:"Proceed?",folders:"Proceed?",folder:"Proceed?",files:"Proceed?",file:"Proceed?"},path:"No Path!",select:"No Folders or File!"}},namespace:".deleteitems",confirm:!0},active:!0,el:{root:null,form:null,stack:null,path:null,folders:null,files:null,controls:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.form=this.el.root.find(this.options.css.form),this.el.controls=this.el.root.find(this.options.css.control),this.el.stack=this.el.form.find(this.options.css.stack),this.el.path=this.el.form.find(this.options.css.path),this.el.folders=this.el.form.find(this.options.css.folders),this.el.files=this.el.form.find(this.options.css.files),t.views?this.el.form?(this.addFormEvents(),this.requests(),void this.toggle()):(this.message('"Delete Items" Functionality Error'),this.debug("initialise","Delete Items Form Element Not Found"),!1):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},addFormEvents:function(){t(document).trigger("deleteitems:before:event",[this.el.form]),t(this.el.controls).on("click"+this.options.namespace,t.proxy(function(t){this.submit()},this)),t(this).delay(0).queue(function(){var e=t(document).triggerHandler("observer:request:all"),i=t(document).triggerHandler("observer:request:active",{type:"stack"});t.each(e,t.proxy(function(e,i){var s=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e}),n=t(document).triggerHandler("observer:request:active",{type:"files",stack:e});t.observe(s,n,t.proxy(function(t){this.toggle(s,n)},this))},this)),t.observe(i,"*",t.proxy(function(e){var i=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e.target.value}),s=t(document).triggerHandler("observer:request:active",{type:"files",stack:e.target.value});this.toggle(i,s)},this)),t(this).dequeue}),t(document).trigger("deleteitems:after:event",[this.el.form])},submit:function(){if(t(document).trigger("deleteitems:before:submit",[this.el.form]),!this.active)return this.message(this.options.html.errors.permission,"error"),this.debug("submit","The Delete Logic is Currently Disabled."),!1;var e=t(document).triggerHandler("observer:request:active",{type:"stack"}),i=t(document).triggerHandler("observer:request:active",{type:"path",stack:e.value}),s=t(document).triggerHandler("observer:request:active",{type:"folders",stack:e.value}),n=t(document).triggerHandler("observer:request:active",{type:"files",stack:e.value});if(s.length&&!n.length)var o=s.length>1?this.options.html.errors.confirm.folders.replace("%s",s.length):this.options.html.errors.confirm.folder.replace("%s",s[0]);else if(!s.length&&n.length)var o=n.length>1?this.options.html.errors.confirm.files.replace("%s",n.length):this.options.html.errors.confirm.file.replace("%s",n[0]);else if(s.length&&n.length)var o=this.options.html.errors.confirm.all.replace("%foldercount",s.length).replace("%filecount",n.length);e.value&&i.path&&this.el.stack&&this.el.path?this.el.folders&&this.el.files?s.length+n.length?this.options.confirm&&!confirm(o)?this.debug("submit","Delete Process Not Confirmed by User"):"object"==typeof JSON?(this.el.stack.val(e.value),this.el.path.val(i.path),this.el.folders.val(JSON.stringify(s)),this.el.files.val(JSON.stringify(n)),t(this.el.form).submit()):(this.message(this.options.html.errors.support,"error",{wink:"slowest"}),this.debug("submit","The JSON Library is Not Available")):(this.message(this.options.html.errors.select,"warning"),this.debug("submit","No Count of Folders & Files Observers")):(this.message(this.options.html.errors.generic,"error",{wink:"slower"}),this.debug("submit","The Folders/Files Input Could Not Be Found")):(this.message(this.options.html.errors.path),this.debug("submit","The Observer Active Stack Path Could Not be Found")),t(document).trigger("deleteitems:after:submit",[this.el.form])},toggle:function(e,i){t(document).trigger("deleteitems:before:toggle",[e,i]),e=t.isArray(e)?e:[],i=t.isArray(i)?i:[],e.length||i.length?t(document).triggerHandler("deleteitems:request:state",{type:"on"}):t(document).triggerHandler("deleteitems:request:state",{type:"off"}),t(document).trigger("deleteitems:after:toggle",[e,i])},requests:function(){t(document).on("deleteitems:request:state",t.proxy(function(t,e){"on"===e.type?(this.active=!0,this.el.controls.removeAttr("disabled")):(this.active=!1,this.el.controls.attr("disabled","disabled"))},this))}}),t.fn.deleteitems=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{control:"#ctrl-subactions-insertfile",loading:"#load-subactions-insertfile"},data:{file:{value:"file",data:"data-file"}},html:{errors:{select:"Error!"}},render:!0,namespace:".insertfile"},el:{root:null,controls:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.controls=this.el.root.find(this.options.css.control),this.el.loading=this.el.root.find(this.options.css.loading),t.views?this.options.render?void this.addFormEvents():(this.disable(),this.debug("initialise",'The "Insert File" Class Was Instructed Not to Render.',"info"),!1):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},disable:function(){t(document).trigger("insertfile:before:disable",[this.el.controls]),this.el.controls.addClass(this.options.css.hide.value),t(document).trigger("insertfile:after:disable",[this.el.controls])},addFormEvents:function(){t(document).trigger("insertfile:before:event",[this.el.form]),this.el.controls.on("click"+this.options.namespace,t.proxy(function(t){this.submit()},this)),t(document).on("edit:request:file",t.proxy(function(t,e){if(this.el.loading.length){var i=this.el.loading.data(this.options.data.file.value),s=e.file?e.file:"";this.el.loading.html(this.el.loading.html().replace(i,s)),this.el.loading.data(this.options.data.file.value,s),this.toggle("loading")}else this.debug("submit","A Loading Button Could Not be Found.");return!0},this)),t(document).on("edit:request:close edit:request:save edit:request:browse edit:request:insert",t.proxy(function(t){return this.toggle("normal")},this)),t(document).trigger("insertfile:after:event",[this.el.form])},submit:function(){t(document).trigger("insertfile:before:submit",[this.el.form]);var e=t(document).triggerHandler("observer:request:active",{type:"stack"}),i=t(document).triggerHandler("observer:request:active",{type:"path",stack:e.value}),s=t(document).triggerHandler("observer:request:active",{type:"files",stack:e.value}),n=t(document).triggerHandler("edit:request:params")||{};if(e.value&&i.path)if(s.length){var o=s[0];s.length>1&&n&&n.file&&n.file===o&&(o=s[1]),t(document).triggerHandler("edit:request:file",{file:o,stack:e.value,path:i.path})}else this.message(this.options.html.errors.select,"warning"),this.debug("submit","No Count of Files Observers");else this.message(this.options.html.errors.path),this.debug("submit","The Observer Active Stack Path Could Not be Found");t(document).trigger("insertfile:after:submit",[this.el.form])},toggle:function(e){switch(t(document).trigger("insertfile:before:toggle",[e]),e){case"loading":this.el.loading.removeClass(this.options.css.hide.value),this.el.controls.addClass(this.options.css.hide.value);break;case"normal":this.el.loading.addClass(this.options.css.hide.value),this.el.controls.removeClass(this.options.css.hide.value)}return t(document).trigger("insertfile:after:toggle",[e]),!0}}),t.fn.insertfile=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{toggle:"#toggle-actions-newfolder",container:"#html-subactions-newfolder",form:"#form-subactions-newfolder",control:"#ctrl-subactions-newfolder",field:"#field-subactions-newfolder",template:"#tmpl-subactions-newfolder"},html:{errors:{invalid:"Error!"},invalid:[/^\..*/,/.*~/,/\s/]},namespace:".newfolder"},active:!0,el:{root:null,toggle:null,container:null,form:null,controls:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.toggle=this.el.root.find(this.options.css.toggle),this.el.container=this.el.root.find(this.options.css.container),this.el.form=this.el.root.find(this.options.css.form),this.el.controls=this.el.form.find(this.options.css.control),this.el.field=this.el.form.find(this.options.css.field),t.views?this.el.form?(this.assets(),this.register(),this.addFormEvents(),void this.requests()):(this.message('"New Folder" Functionality Error'),this.debug("initialise","New Folder Form Element Not Found"),!1):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},assets:function(){t(document).trigger("newfolder:before:assets");t.views.tags({folder:{render:function(){return this.tagCtx.render({stack:this.ctx.root.stack,path:this.ctx.root.path})},linked:!1,onAfterLink:function(e,i){this.linked||(t.observe(t(document).triggerHandler("observer:request:active",{type:"stack"}),"*",t.proxy(function(e){this.ctx.root.path=t(document).triggerHandler("observer:request:active",{type:"path",stack:e.target.value}),this.refresh()},this)),this.linked=!0)}}},t.templates(this.options.css.template)),t(document).trigger("newfolder:after:assets")},register:function(){t(document).trigger("newfolder:before:register");var e=t.templates(this.options.css.template);if(e){var i=t(document).triggerHandler("observer:request:active",{type:"stack"}),s=t(document).triggerHandler("observer:request:active",{type:"path",stack:i.value});t(this.el.container).link(e,{stack:i,path:s})}else this.debug("register","Could Not Find Template");t(document).trigger("newfolder:after:register")},addFormEvents:function(){t(document).trigger("newfolder:before:event",[this.el.form]),t(this.el.field).on("keyup"+this.options.namespace,t.proxy(function(t){13==t.keyCode&&this.submit()},this)),t(this.el.controls).on("click"+this.options.namespace,t.proxy(function(t){this.submit()},this)),t(document).trigger("newfolder:after:event",[this.el.form])},submit:function(){if(t(document).trigger("newfolder:before:submit",[this.el.form]),!this.active)return this.message(this.options.html.errors.permission,"error"),this.debug("submit","The New Folder Logic is Currently Disabled."),!1;var e=!1,i=this.el.field.val();t.each(this.options.html.invalid,t.proxy(function(t,s){s.test(i)&&(this.debug("submit","The Following Regex Failed for New Folder Name: "+s),e=!0)},this)),e?this.message(this.options.html.errors.invalid,"error",{wink:"slower"}):this.el.form.get(0).submit(),t(document).trigger("newfolder:after:submit",[this.el.form])},requests:function(){t(document).on("newfolder:request:state",t.proxy(function(t,e){"on"===e.type?(this.active=!0,this.el.toggle.removeAttr("disabled"),this.el.field.removeProp("disabled"),this.el.controls.removeAttr("disabled")):(this.active=!1,this.el.toggle.attr("disabled","disabled"),this.el.field.prop("disabled","disabled"),this.el.controls.attr("disabled","disabled"))},this))}}),t.fn.newfolder=function(t){return new e(t)}}(window.jQuery),function(t){var e=function(t){this.initialise(t)};e.prototype=t.extend({},t.fn.arkbase(),{constructor:e,options:{css:{toggle:"#toggle-actions-upload",form:"#form-subactions-upload",field:"#field-subactions-upload",stack:"#stack-subactions-upload",path:"#path-subactions-upload",control:"#ctrl-subactions-upload"},html:{errors:{path:"No Upload Path!",field:"No File!"}},namespace:".upload"},active:!0,el:{root:null,toggle:null,form:null,field:null,stack:null,path:null,controls:null},initialise:function(e){return this.set(e),this.el.root=t(this.options.css.root),this.el.toggle=this.el.root.find(this.options.css.toggle),this.el.form=this.el.root.find(this.options.css.form),this.el.field=this.el.form.find(this.options.css.field),this.el.stack=this.el.form.find(this.options.css.stack),this.el.path=this.el.form.find(this.options.css.path),
this.el.controls=this.el.form.find(this.options.css.control),t.views?this.el.form?(this.addFormEvents(),void this.requests()):(this.message('"Upload" Functionality Error'),this.debug("initialise","Upload Form Element Not Found"),!1):(this.message("Dependent Classes Not Found"),this.debug("initialise","Dependent Classes Not Found"),!1)},addFormEvents:function(){t(document).trigger("upload:before:event",[this.el.form]),t(this.el.controls).on("click"+this.options.namespace,t.proxy(function(t){this.submit()},this)),t(document).trigger("upload:after:event",[this.el.form])},submit:function(){if(t(document).trigger("upload:before:submit",[this.el.form]),!this.active)return this.message(this.options.html.errors.permission,"error"),this.debug("submit","The Upload Logic is Currently Disabled."),!1;var e=t(document).triggerHandler("observer:request:active",{type:"stack"}),i=t(document).triggerHandler("observer:request:active",{type:"path",stack:e.value});i.path&&this.el.stack&&this.el.path?this.el.field.val()?(this.el.stack.val(e.value),this.el.path.val(i.path),t(this.el.form).submit()):(this.message(this.options.html.errors.field),this.debug("submit","The File Input is Empty")):(this.message(this.options.html.errors.path),this.debug("submit","The Observer Active Stack Path Could Not be Found")),t(document).trigger("upload:after:submit",[this.el.form])},requests:function(){t(document).on("upload:request:state",t.proxy(function(t,e){"on"===e.type?(this.active=!0,this.el.toggle.removeAttr("disabled"),this.el.field.removeProp("disabled"),this.el.controls.removeAttr("disabled")):(this.active=!1,this.el.toggle.attr("disabled","disabled"),this.el.field.prop("disabled","disabled"),this.el.controls.attr("disabled","disabled"))},this))}}),t.fn.upload=function(t){return new e(t)}}(window.jQuery);